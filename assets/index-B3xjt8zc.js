var yv=a=>{throw TypeError(a)};var ud=(a,t,e)=>t.has(a)||yv("Cannot "+e);var qt=(a,t,e)=>(ud(a,t,"read from private field"),e?e.call(a):t.get(a)),Un=(a,t,e)=>t.has(a)?yv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(a):t.set(a,e),Qe=(a,t,e,i)=>(ud(a,t,"write to private field"),i?i.call(a,e):t.set(a,e),e),jn=(a,t,e)=>(ud(a,t,"access private method"),e);var vv=(a,t,e,i)=>({set _(r){Qe(a,t,r,e)},get _(){return qt(a,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();function R1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var hd={exports:{}},qr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function M1(){if(bv)return qr;bv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var u in r)u!=="key"&&(l[u]=r[u])}else l=r;return r=l.ref,{$$typeof:a,type:i,key:c,ref:r!==void 0?r:null,props:l}}return qr.Fragment=t,qr.jsx=e,qr.jsxs=e,qr}var Av;function D1(){return Av||(Av=1,hd.exports=M1()),hd.exports}var X=D1(),dd={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function L1(){if(Sv)return wt;Sv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=m&&O[m]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,S={};function T(O,Y,J){this.props=O,this.context=Y,this.refs=S,this.updater=J||b}T.prototype.isReactComponent={},T.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},T.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function E(){}E.prototype=T.prototype;function R(O,Y,J){this.props=O,this.context=Y,this.refs=S,this.updater=J||b}var _=R.prototype=new E;_.constructor=R,A(_,T.prototype),_.isPureReactComponent=!0;var L=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function I(O,Y,J,Q,nt,gt){return J=gt.ref,{$$typeof:a,type:O,key:Y,ref:J!==void 0?J:null,props:gt}}function U(O,Y){return I(O.type,Y,void 0,void 0,void 0,O.props)}function G(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function W(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(J){return Y[J]})}var Z=/\/+/g;function st(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?W(""+O.key):Y.toString(36)}function vt(){}function ct(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(vt,vt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function rt(O,Y,J,Q,nt){var gt=typeof O;(gt==="undefined"||gt==="boolean")&&(O=null);var at=!1;if(O===null)at=!0;else switch(gt){case"bigint":case"string":case"number":at=!0;break;case"object":switch(O.$$typeof){case a:case t:at=!0;break;case p:return at=O._init,rt(at(O._payload),Y,J,Q,nt)}}if(at)return nt=nt(O),at=Q===""?"."+st(O,0):Q,L(nt)?(J="",at!=null&&(J=at.replace(Z,"$&/")+"/"),rt(nt,Y,J,"",function(me){return me})):nt!=null&&(G(nt)&&(nt=U(nt,J+(nt.key==null||O&&O.key===nt.key?"":(""+nt.key).replace(Z,"$&/")+"/")+at)),Y.push(nt)),1;at=0;var St=Q===""?".":Q+":";if(L(O))for(var Mt=0;Mt<O.length;Mt++)Q=O[Mt],gt=St+st(Q,Mt),at+=rt(Q,Y,J,gt,nt);else if(Mt=v(O),typeof Mt=="function")for(O=Mt.call(O),Mt=0;!(Q=O.next()).done;)Q=Q.value,gt=St+st(Q,Mt++),at+=rt(Q,Y,J,gt,nt);else if(gt==="object"){if(typeof O.then=="function")return rt(ct(O),Y,J,Q,nt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return at}function N(O,Y,J){if(O==null)return O;var Q=[],nt=0;return rt(O,Q,"","",function(gt){return Y.call(J,gt,nt++)}),Q}function F(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(J){(O._status===0||O._status===-1)&&(O._status=1,O._result=J)},function(J){(O._status===0||O._status===-1)&&(O._status=2,O._result=J)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var tt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function pt(){}return wt.Children={map:N,forEach:function(O,Y,J){N(O,function(){Y.apply(this,arguments)},J)},count:function(O){var Y=0;return N(O,function(){Y++}),Y},toArray:function(O){return N(O,function(Y){return Y})||[]},only:function(O){if(!G(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},wt.Component=T,wt.Fragment=e,wt.Profiler=r,wt.PureComponent=R,wt.StrictMode=i,wt.Suspense=d,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cloneElement=function(O,Y,J){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var Q=A({},O.props),nt=O.key,gt=void 0;if(Y!=null)for(at in Y.ref!==void 0&&(gt=void 0),Y.key!==void 0&&(nt=""+Y.key),Y)!k.call(Y,at)||at==="key"||at==="__self"||at==="__source"||at==="ref"&&Y.ref===void 0||(Q[at]=Y[at]);var at=arguments.length-2;if(at===1)Q.children=J;else if(1<at){for(var St=Array(at),Mt=0;Mt<at;Mt++)St[Mt]=arguments[Mt+2];Q.children=St}return I(O.type,nt,void 0,void 0,gt,Q)},wt.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},wt.createElement=function(O,Y,J){var Q,nt={},gt=null;if(Y!=null)for(Q in Y.key!==void 0&&(gt=""+Y.key),Y)k.call(Y,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(nt[Q]=Y[Q]);var at=arguments.length-2;if(at===1)nt.children=J;else if(1<at){for(var St=Array(at),Mt=0;Mt<at;Mt++)St[Mt]=arguments[Mt+2];nt.children=St}if(O&&O.defaultProps)for(Q in at=O.defaultProps,at)nt[Q]===void 0&&(nt[Q]=at[Q]);return I(O,gt,void 0,void 0,null,nt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:u,render:O}},wt.isValidElement=G,wt.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:F}},wt.memo=function(O,Y){return{$$typeof:f,type:O,compare:Y===void 0?null:Y}},wt.startTransition=function(O){var Y=C.T,J={};C.T=J;try{var Q=O(),nt=C.S;nt!==null&&nt(J,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(pt,tt)}catch(gt){tt(gt)}finally{C.T=Y}},wt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},wt.use=function(O){return C.H.use(O)},wt.useActionState=function(O,Y,J){return C.H.useActionState(O,Y,J)},wt.useCallback=function(O,Y){return C.H.useCallback(O,Y)},wt.useContext=function(O){return C.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,Y){return C.H.useDeferredValue(O,Y)},wt.useEffect=function(O,Y,J){var Q=C.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(O,Y)},wt.useId=function(){return C.H.useId()},wt.useImperativeHandle=function(O,Y,J){return C.H.useImperativeHandle(O,Y,J)},wt.useInsertionEffect=function(O,Y){return C.H.useInsertionEffect(O,Y)},wt.useLayoutEffect=function(O,Y){return C.H.useLayoutEffect(O,Y)},wt.useMemo=function(O,Y){return C.H.useMemo(O,Y)},wt.useOptimistic=function(O,Y){return C.H.useOptimistic(O,Y)},wt.useReducer=function(O,Y,J){return C.H.useReducer(O,Y,J)},wt.useRef=function(O){return C.H.useRef(O)},wt.useState=function(O){return C.H.useState(O)},wt.useSyncExternalStore=function(O,Y,J){return C.H.useSyncExternalStore(O,Y,J)},wt.useTransition=function(){return C.H.useTransition()},wt.version="19.1.0",wt}var wv;function Af(){return wv||(wv=1,dd.exports=L1()),dd.exports}var D=Af(),fd={exports:{}},Xr={},pd={exports:{}},gd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function O1(){return Ev||(Ev=1,function(a){function t(N,F){var tt=N.length;N.push(F);t:for(;0<tt;){var pt=tt-1>>>1,O=N[pt];if(0<r(O,F))N[pt]=F,N[tt]=O,tt=pt;else break t}}function e(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var F=N[0],tt=N.pop();if(tt!==F){N[0]=tt;t:for(var pt=0,O=N.length,Y=O>>>1;pt<Y;){var J=2*(pt+1)-1,Q=N[J],nt=J+1,gt=N[nt];if(0>r(Q,tt))nt<O&&0>r(gt,Q)?(N[pt]=gt,N[nt]=tt,pt=nt):(N[pt]=Q,N[J]=tt,pt=J);else if(nt<O&&0>r(gt,tt))N[pt]=gt,N[nt]=tt,pt=nt;else break t}}return F}function r(N,F){var tt=N.sortIndex-F.sortIndex;return tt!==0?tt:N.id-F.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();a.unstable_now=function(){return c.now()-u}}var d=[],f=[],p=1,m=null,v=3,b=!1,A=!1,S=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function L(N){for(var F=e(f);F!==null;){if(F.callback===null)i(f);else if(F.startTime<=N)i(f),F.sortIndex=F.expirationTime,t(d,F);else break;F=e(f)}}function C(N){if(S=!1,L(N),!A)if(e(d)!==null)A=!0,k||(k=!0,st());else{var F=e(f);F!==null&&rt(C,F.startTime-N)}}var k=!1,I=-1,U=5,G=-1;function W(){return T?!0:!(a.unstable_now()-G<U)}function Z(){if(T=!1,k){var N=a.unstable_now();G=N;var F=!0;try{t:{A=!1,S&&(S=!1,R(I),I=-1),b=!0;var tt=v;try{e:{for(L(N),m=e(d);m!==null&&!(m.expirationTime>N&&W());){var pt=m.callback;if(typeof pt=="function"){m.callback=null,v=m.priorityLevel;var O=pt(m.expirationTime<=N);if(N=a.unstable_now(),typeof O=="function"){m.callback=O,L(N),F=!0;break e}m===e(d)&&i(d),L(N)}else i(d);m=e(d)}if(m!==null)F=!0;else{var Y=e(f);Y!==null&&rt(C,Y.startTime-N),F=!1}}break t}finally{m=null,v=tt,b=!1}F=void 0}}finally{F?st():k=!1}}}var st;if(typeof _=="function")st=function(){_(Z)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,ct=vt.port2;vt.port1.onmessage=Z,st=function(){ct.postMessage(null)}}else st=function(){E(Z,0)};function rt(N,F){I=E(function(){N(a.unstable_now())},F)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(N){N.callback=null},a.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<N?Math.floor(1e3/N):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_next=function(N){switch(v){case 1:case 2:case 3:var F=3;break;default:F=v}var tt=v;v=F;try{return N()}finally{v=tt}},a.unstable_requestPaint=function(){T=!0},a.unstable_runWithPriority=function(N,F){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var tt=v;v=N;try{return F()}finally{v=tt}},a.unstable_scheduleCallback=function(N,F,tt){var pt=a.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?pt+tt:pt):tt=pt,N){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=tt+O,N={id:p++,callback:F,priorityLevel:N,startTime:tt,expirationTime:O,sortIndex:-1},tt>pt?(N.sortIndex=tt,t(f,N),e(d)===null&&N===e(f)&&(S?(R(I),I=-1):S=!0,rt(C,tt-pt))):(N.sortIndex=O,t(d,N),A||b||(A=!0,k||(k=!0,st()))),N},a.unstable_shouldYield=W,a.unstable_wrapCallback=function(N){var F=v;return function(){var tt=v;v=F;try{return N.apply(this,arguments)}finally{v=tt}}}}(gd)),gd}var Tv;function P1(){return Tv||(Tv=1,pd.exports=O1()),pd.exports}var md={exports:{}},Ie={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function N1(){if(xv)return Ie;xv=1;var a=Af();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ie.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ie.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return l(d,f,null,p)},Ie.flushSync=function(d){var f=c.T,p=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=f,i.p=p,i.d.f()}},Ie.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},Ie.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Ie.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:b}):p==="script"&&i.d.X(d,{crossOrigin:m,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ie.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},Ie.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin);i.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ie.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},Ie.requestFormReset=function(d){i.d.r(d)},Ie.unstable_batchedUpdates=function(d,f){return d(f)},Ie.useFormState=function(d,f,p){return c.H.useFormState(d,f,p)},Ie.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ie.version="19.1.0",Ie}var _v;function k1(){if(_v)return md.exports;_v=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),md.exports=N1(),md.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function I1(){if(Cv)return Xr;Cv=1;var a=P1(),t=Af(),e=k1();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function u(n){if(l(n)!==n)throw Error(i(188))}function d(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(i(188));return s!==n?null:n}for(var o=n,h=s;;){var g=o.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){o=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===o)return u(g),n;if(y===h)return u(g),s;y=y.sibling}throw Error(i(188))}if(o.return!==h.return)o=g,h=y;else{for(var w=!1,x=g.child;x;){if(x===o){w=!0,o=g,h=y;break}if(x===h){w=!0,h=g,o=y;break}x=x.sibling}if(!w){for(x=y.child;x;){if(x===o){w=!0,o=y,h=g;break}if(x===h){w=!0,h=y,o=g;break}x=x.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==h)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:s}function f(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=f(n),s!==null)return s;n=n.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),_=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function st(n){return n===null||typeof n!="object"?null:(n=Z&&n[Z]||n["@@iterator"],typeof n=="function"?n:null)}var vt=Symbol.for("react.client.reference");function ct(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===vt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case k:return"SuspenseList";case G:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case b:return"Portal";case _:return(n.displayName||"Context")+".Provider";case R:return(n._context.displayName||"Context")+".Consumer";case L:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return s=n.displayName||null,s!==null?s:ct(n.type)||"Memo";case U:s=n._payload,n=n._init;try{return ct(n(s))}catch{}}return null}var rt=Array.isArray,N=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},pt=[],O=-1;function Y(n){return{current:n}}function J(n){0>O||(n.current=pt[O],pt[O]=null,O--)}function Q(n,s){O++,pt[O]=n.current,n.current=s}var nt=Y(null),gt=Y(null),at=Y(null),St=Y(null);function Mt(n,s){switch(Q(at,s),Q(gt,n),Q(nt,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?qy(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=qy(s),n=Xy(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}J(nt),Q(nt,n)}function me(){J(nt),J(gt),J(at)}function It(n){n.memoizedState!==null&&Q(St,n);var s=nt.current,o=Xy(s,n.type);s!==o&&(Q(gt,n),Q(nt,o))}function qe(n){gt.current===n&&(J(nt),J(gt)),St.current===n&&(J(St),zr._currentValue=tt)}var en=Object.prototype.hasOwnProperty,ye=a.unstable_scheduleCallback,Pt=a.unstable_cancelCallback,ce=a.unstable_shouldYield,Yt=a.unstable_requestPaint,ve=a.unstable_now,Ti=a.unstable_getCurrentPriorityLevel,xi=a.unstable_ImmediatePriority,Ho=a.unstable_UserBlockingPriority,Jn=a.unstable_NormalPriority,Wc=a.unstable_LowPriority,Go=a.unstable_IdlePriority,Qc=a.log,Zc=a.unstable_setDisableYieldValue,is=null,ue=null;function nn(n){if(typeof Qc=="function"&&Zc(n),ue&&typeof ue.setStrictMode=="function")try{ue.setStrictMode(is,n)}catch{}}var we=Math.clz32?Math.clz32:pw,$a=Math.log,fw=Math.LN2;function pw(n){return n>>>=0,n===0?32:31-($a(n)/fw|0)|0}var qo=256,Xo=4194304;function ss(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Yo(n,s,o){var h=n.pendingLanes;if(h===0)return 0;var g=0,y=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var x=h&134217727;return x!==0?(h=x&~y,h!==0?g=ss(h):(w&=x,w!==0?g=ss(w):o||(o=x&~n,o!==0&&(g=ss(o))))):(x=h&~y,x!==0?g=ss(x):w!==0?g=ss(w):o||(o=h&~n,o!==0&&(g=ss(o)))),g===0?0:s!==0&&s!==g&&(s&y)===0&&(y=g&-g,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:g}function Ka(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function gw(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rp(){var n=qo;return qo<<=1,(qo&4194048)===0&&(qo=256),n}function Mp(){var n=Xo;return Xo<<=1,(Xo&62914560)===0&&(Xo=4194304),n}function Jc(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Wa(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function mw(n,s,o,h,g,y){var w=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var x=n.entanglements,M=n.expirationTimes,z=n.hiddenUpdates;for(o=w&~o;0<o;){var q=31-we(o),K=1<<q;x[q]=0,M[q]=-1;var j=z[q];if(j!==null)for(z[q]=null,q=0;q<j.length;q++){var H=j[q];H!==null&&(H.lane&=-536870913)}o&=~K}h!==0&&Dp(n,h,0),y!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=y&~(w&~s))}function Dp(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var h=31-we(s);n.entangledLanes|=s,n.entanglements[h]=n.entanglements[h]|1073741824|o&4194090}function Lp(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var h=31-we(o),g=1<<h;g&s|n[h]&s&&(n[h]|=s),o&=~g}}function tu(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function eu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Op(){var n=F.p;return n!==0?n:(n=window.event,n===void 0?32:hv(n.type))}function yw(n,s){var o=F.p;try{return F.p=n,s()}finally{F.p=o}}var _i=Math.random().toString(36).slice(2),Ne="__reactFiber$"+_i,Xe="__reactProps$"+_i,zs="__reactContainer$"+_i,nu="__reactEvents$"+_i,vw="__reactListeners$"+_i,bw="__reactHandles$"+_i,Pp="__reactResources$"+_i,Qa="__reactMarker$"+_i;function iu(n){delete n[Ne],delete n[Xe],delete n[nu],delete n[vw],delete n[bw]}function Us(n){var s=n[Ne];if(s)return s;for(var o=n.parentNode;o;){if(s=o[zs]||o[Ne]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=Wy(n);n!==null;){if(o=n[Ne])return o;n=Wy(n)}return s}n=o,o=n.parentNode}return null}function js(n){if(n=n[Ne]||n[zs]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function Za(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Hs(n){var s=n[Pp];return s||(s=n[Pp]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ee(n){n[Qa]=!0}var Np=new Set,kp={};function as(n,s){Gs(n,s),Gs(n+"Capture",s)}function Gs(n,s){for(kp[n]=s,n=0;n<s.length;n++)Np.add(s[n])}var Aw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ip={},Bp={};function Sw(n){return en.call(Bp,n)?!0:en.call(Ip,n)?!1:Aw.test(n)?Bp[n]=!0:(Ip[n]=!0,!1)}function $o(n,s,o){if(Sw(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function Ko(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function ti(n,s,o,h){if(h===null)n.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+h)}}var su,Fp;function qs(n){if(su===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);su=s&&s[1]||"",Fp=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+su+n+Fp}var au=!1;function ru(n,s){if(!n||au)return"";au=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var j=H}Reflect.construct(n,[],K)}else{try{K.call()}catch(H){j=H}n.call(K.prototype)}}else{try{throw Error()}catch(H){j=H}(K=n())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),w=y[0],x=y[1];if(w&&x){var M=w.split(`
`),z=x.split(`
`);for(g=h=0;h<M.length&&!M[h].includes("DetermineComponentFrameRoot");)h++;for(;g<z.length&&!z[g].includes("DetermineComponentFrameRoot");)g++;if(h===M.length||g===z.length)for(h=M.length-1,g=z.length-1;1<=h&&0<=g&&M[h]!==z[g];)g--;for(;1<=h&&0<=g;h--,g--)if(M[h]!==z[g]){if(h!==1||g!==1)do if(h--,g--,0>g||M[h]!==z[g]){var q=`
`+M[h].replace(" at new "," at ");return n.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",n.displayName)),q}while(1<=h&&0<=g);break}}}finally{au=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?qs(o):""}function ww(n){switch(n.tag){case 26:case 27:case 5:return qs(n.type);case 16:return qs("Lazy");case 13:return qs("Suspense");case 19:return qs("SuspenseList");case 0:case 15:return ru(n.type,!1);case 11:return ru(n.type.render,!1);case 1:return ru(n.type,!0);case 31:return qs("Activity");default:return""}}function Vp(n){try{var s="";do s+=ww(n),n=n.return;while(n);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function pn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function zp(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ew(n){var s=zp(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),h=""+n[s];if(!n.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var g=o.get,y=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(w){h=""+w,y.call(this,w)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Wo(n){n._valueTracker||(n._valueTracker=Ew(n))}function Up(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),h="";return n&&(h=zp(n)?n.checked?"true":"false":n.value),n=h,n!==o?(s.setValue(n),!0):!1}function Qo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Tw=/[\n"\\]/g;function gn(n){return n.replace(Tw,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ou(n,s,o,h,g,y,w,x){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),s!=null?w==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+pn(s)):n.value!==""+pn(s)&&(n.value=""+pn(s)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),s!=null?lu(n,w,pn(s)):o!=null?lu(n,w,pn(o)):h!=null&&n.removeAttribute("value"),g==null&&y!=null&&(n.defaultChecked=!!y),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.name=""+pn(x):n.removeAttribute("name")}function jp(n,s,o,h,g,y,w,x){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+pn(o):"",s=s!=null?""+pn(s):o,x||s===n.value||(n.value=s),n.defaultValue=s}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,n.checked=x?n.checked:!!h,n.defaultChecked=!!h,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w)}function lu(n,s,o){s==="number"&&Qo(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Xs(n,s,o,h){if(n=n.options,s){s={};for(var g=0;g<o.length;g++)s["$"+o[g]]=!0;for(o=0;o<n.length;o++)g=s.hasOwnProperty("$"+n[o].value),n[o].selected!==g&&(n[o].selected=g),g&&h&&(n[o].defaultSelected=!0)}else{for(o=""+pn(o),s=null,g=0;g<n.length;g++){if(n[g].value===o){n[g].selected=!0,h&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function Hp(n,s,o){if(s!=null&&(s=""+pn(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+pn(o):""}function Gp(n,s,o,h){if(s==null){if(h!=null){if(o!=null)throw Error(i(92));if(rt(h)){if(1<h.length)throw Error(i(93));h=h[0]}o=h}o==null&&(o=""),s=o}o=pn(s),n.defaultValue=o,h=n.textContent,h===o&&h!==""&&h!==null&&(n.value=h)}function Ys(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var xw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qp(n,s,o){var h=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?h?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":h?n.setProperty(s,o):typeof o!="number"||o===0||xw.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Xp(n,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,o!=null){for(var h in o)!o.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?n.setProperty(h,""):h==="float"?n.cssFloat="":n[h]="");for(var g in s)h=s[g],s.hasOwnProperty(g)&&o[g]!==h&&qp(n,g,h)}else for(var y in s)s.hasOwnProperty(y)&&qp(n,y,s[y])}function cu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _w=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zo(n){return Cw.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var uu=null;function hu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $s=null,Ks=null;function Yp(n){var s=js(n);if(s&&(n=s.stateNode)){var o=n[Xe]||null;t:switch(n=s.stateNode,s.type){case"input":if(ou(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+gn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var h=o[s];if(h!==n&&h.form===n.form){var g=h[Xe]||null;if(!g)throw Error(i(90));ou(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<o.length;s++)h=o[s],h.form===n.form&&Up(h)}break t;case"textarea":Hp(n,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Xs(n,!!o.multiple,s,!1)}}}var du=!1;function $p(n,s,o){if(du)return n(s,o);du=!0;try{var h=n(s);return h}finally{if(du=!1,($s!==null||Ks!==null)&&(Bl(),$s&&(s=$s,n=Ks,Ks=$s=null,Yp(s),n)))for(s=0;s<n.length;s++)Yp(n[s])}}function Ja(n,s){var o=n.stateNode;if(o===null)return null;var h=o[Xe]||null;if(h===null)return null;o=h[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break t;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fu=!1;if(ei)try{var tr={};Object.defineProperty(tr,"passive",{get:function(){fu=!0}}),window.addEventListener("test",tr,tr),window.removeEventListener("test",tr,tr)}catch{fu=!1}var Ci=null,pu=null,Jo=null;function Kp(){if(Jo)return Jo;var n,s=pu,o=s.length,h,g="value"in Ci?Ci.value:Ci.textContent,y=g.length;for(n=0;n<o&&s[n]===g[n];n++);var w=o-n;for(h=1;h<=w&&s[o-h]===g[y-h];h++);return Jo=g.slice(n,1<h?1-h:void 0)}function tl(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function el(){return!0}function Wp(){return!1}function Ye(n){function s(o,h,g,y,w){this._reactName=o,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var x in n)n.hasOwnProperty(x)&&(o=n[x],this[x]=o?o(y):y[x]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?el:Wp,this.isPropagationStopped=Wp,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),s}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=Ye(rs),er=p({},rs,{view:0,detail:0}),Rw=Ye(er),gu,mu,nr,il=p({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==nr&&(nr&&n.type==="mousemove"?(gu=n.screenX-nr.screenX,mu=n.screenY-nr.screenY):mu=gu=0,nr=n),gu)},movementY:function(n){return"movementY"in n?n.movementY:mu}}),Qp=Ye(il),Mw=p({},il,{dataTransfer:0}),Dw=Ye(Mw),Lw=p({},er,{relatedTarget:0}),yu=Ye(Lw),Ow=p({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Pw=Ye(Ow),Nw=p({},rs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),kw=Ye(Nw),Iw=p({},rs,{data:0}),Zp=Ye(Iw),Bw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zw(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Vw[n])?!!s[n]:!1}function vu(){return zw}var Uw=p({},er,{key:function(n){if(n.key){var s=Bw[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=tl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Fw[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vu,charCode:function(n){return n.type==="keypress"?tl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?tl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),jw=Ye(Uw),Hw=p({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jp=Ye(Hw),Gw=p({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vu}),qw=Ye(Gw),Xw=p({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yw=Ye(Xw),$w=p({},il,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Kw=Ye($w),Ww=p({},rs,{newState:0,oldState:0}),Qw=Ye(Ww),Zw=[9,13,27,32],bu=ei&&"CompositionEvent"in window,ir=null;ei&&"documentMode"in document&&(ir=document.documentMode);var Jw=ei&&"TextEvent"in window&&!ir,tg=ei&&(!bu||ir&&8<ir&&11>=ir),eg=" ",ng=!1;function ig(n,s){switch(n){case"keyup":return Zw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ws=!1;function tE(n,s){switch(n){case"compositionend":return sg(s);case"keypress":return s.which!==32?null:(ng=!0,eg);case"textInput":return n=s.data,n===eg&&ng?null:n;default:return null}}function eE(n,s){if(Ws)return n==="compositionend"||!bu&&ig(n,s)?(n=Kp(),Jo=pu=Ci=null,Ws=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return tg&&s.locale!=="ko"?null:s.data;default:return null}}var nE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!nE[n.type]:s==="textarea"}function rg(n,s,o,h){$s?Ks?Ks.push(h):Ks=[h]:$s=h,s=Hl(s,"onChange"),0<s.length&&(o=new nl("onChange","change",null,o,h),n.push({event:o,listeners:s}))}var sr=null,ar=null;function iE(n){zy(n,0)}function sl(n){var s=Za(n);if(Up(s))return n}function og(n,s){if(n==="change")return s}var lg=!1;if(ei){var Au;if(ei){var Su="oninput"in document;if(!Su){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),Su=typeof cg.oninput=="function"}Au=Su}else Au=!1;lg=Au&&(!document.documentMode||9<document.documentMode)}function ug(){sr&&(sr.detachEvent("onpropertychange",hg),ar=sr=null)}function hg(n){if(n.propertyName==="value"&&sl(ar)){var s=[];rg(s,ar,n,hu(n)),$p(iE,s)}}function sE(n,s,o){n==="focusin"?(ug(),sr=s,ar=o,sr.attachEvent("onpropertychange",hg)):n==="focusout"&&ug()}function aE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return sl(ar)}function rE(n,s){if(n==="click")return sl(s)}function oE(n,s){if(n==="input"||n==="change")return sl(s)}function lE(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var sn=typeof Object.is=="function"?Object.is:lE;function rr(n,s){if(sn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),h=Object.keys(s);if(o.length!==h.length)return!1;for(h=0;h<o.length;h++){var g=o[h];if(!en.call(s,g)||!sn(n[g],s[g]))return!1}return!0}function dg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function fg(n,s){var o=dg(n);n=0;for(var h;o;){if(o.nodeType===3){if(h=n+o.textContent.length,n<=s&&h>=s)return{node:o,offset:s-n};n=h}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=dg(o)}}function pg(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?pg(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function gg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Qo(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Qo(n.document)}return s}function wu(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var cE=ei&&"documentMode"in document&&11>=document.documentMode,Qs=null,Eu=null,or=null,Tu=!1;function mg(n,s,o){var h=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Tu||Qs==null||Qs!==Qo(h)||(h=Qs,"selectionStart"in h&&wu(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),or&&rr(or,h)||(or=h,h=Hl(Eu,"onSelect"),0<h.length&&(s=new nl("onSelect","select",null,s,o),n.push({event:s,listeners:h}),s.target=Qs)))}function os(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var Zs={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},xu={},yg={};ei&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function ls(n){if(xu[n])return xu[n];if(!Zs[n])return n;var s=Zs[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in yg)return xu[n]=s[o];return n}var vg=ls("animationend"),bg=ls("animationiteration"),Ag=ls("animationstart"),uE=ls("transitionrun"),hE=ls("transitionstart"),dE=ls("transitioncancel"),Sg=ls("transitionend"),wg=new Map,_u="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_u.push("scrollEnd");function Mn(n,s){wg.set(n,s),as(s,[n])}var Eg=new WeakMap;function mn(n,s){if(typeof n=="object"&&n!==null){var o=Eg.get(n);return o!==void 0?o:(s={value:n,source:s,stack:Vp(s)},Eg.set(n,s),s)}return{value:n,source:s,stack:Vp(s)}}var yn=[],Js=0,Cu=0;function al(){for(var n=Js,s=Cu=Js=0;s<n;){var o=yn[s];yn[s++]=null;var h=yn[s];yn[s++]=null;var g=yn[s];yn[s++]=null;var y=yn[s];if(yn[s++]=null,h!==null&&g!==null){var w=h.pending;w===null?g.next=g:(g.next=w.next,w.next=g),h.pending=g}y!==0&&Tg(o,g,y)}}function rl(n,s,o,h){yn[Js++]=n,yn[Js++]=s,yn[Js++]=o,yn[Js++]=h,Cu|=h,n.lanes|=h,n=n.alternate,n!==null&&(n.lanes|=h)}function Ru(n,s,o,h){return rl(n,s,o,h),ol(n)}function ta(n,s){return rl(n,null,null,s),ol(n)}function Tg(n,s,o){n.lanes|=o;var h=n.alternate;h!==null&&(h.lanes|=o);for(var g=!1,y=n.return;y!==null;)y.childLanes|=o,h=y.alternate,h!==null&&(h.childLanes|=o),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(g=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,g&&s!==null&&(g=31-we(o),n=y.hiddenUpdates,h=n[g],h===null?n[g]=[s]:h.push(s),s.lane=o|536870912),y):null}function ol(n){if(50<Or)throw Or=0,Nh=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var ea={};function fE(n,s,o,h){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(n,s,o,h){return new fE(n,s,o,h)}function Mu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ni(n,s){var o=n.alternate;return o===null?(o=an(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function xg(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function ll(n,s,o,h,g,y){var w=0;if(h=n,typeof n=="function")Mu(n)&&(w=1);else if(typeof n=="string")w=g1(n,o,nt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case G:return n=an(31,o,s,g),n.elementType=G,n.lanes=y,n;case A:return cs(o.children,g,y,s);case S:w=8,g|=24;break;case T:return n=an(12,o,s,g|2),n.elementType=T,n.lanes=y,n;case C:return n=an(13,o,s,g),n.elementType=C,n.lanes=y,n;case k:return n=an(19,o,s,g),n.elementType=k,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case E:case _:w=10;break t;case R:w=9;break t;case L:w=11;break t;case I:w=14;break t;case U:w=16,h=null;break t}w=29,o=Error(i(130,n===null?"null":typeof n,"")),h=null}return s=an(w,o,s,g),s.elementType=n,s.type=h,s.lanes=y,s}function cs(n,s,o,h){return n=an(7,n,h,s),n.lanes=o,n}function Du(n,s,o){return n=an(6,n,null,s),n.lanes=o,n}function Lu(n,s,o){return s=an(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var na=[],ia=0,cl=null,ul=0,vn=[],bn=0,us=null,ii=1,si="";function hs(n,s){na[ia++]=ul,na[ia++]=cl,cl=n,ul=s}function _g(n,s,o){vn[bn++]=ii,vn[bn++]=si,vn[bn++]=us,us=n;var h=ii;n=si;var g=32-we(h)-1;h&=~(1<<g),o+=1;var y=32-we(s)+g;if(30<y){var w=g-g%5;y=(h&(1<<w)-1).toString(32),h>>=w,g-=w,ii=1<<32-we(s)+g|o<<g|h,si=y+n}else ii=1<<y|o<<g|h,si=n}function Ou(n){n.return!==null&&(hs(n,1),_g(n,1,0))}function Pu(n){for(;n===cl;)cl=na[--ia],na[ia]=null,ul=na[--ia],na[ia]=null;for(;n===us;)us=vn[--bn],vn[bn]=null,si=vn[--bn],vn[bn]=null,ii=vn[--bn],vn[bn]=null}var Ue=null,Jt=null,Ot=!1,ds=null,In=!1,Nu=Error(i(519));function fs(n){var s=Error(i(418,""));throw ur(mn(s,n)),Nu}function Cg(n){var s=n.stateNode,o=n.type,h=n.memoizedProps;switch(s[Ne]=n,s[Xe]=h,o){case"dialog":_t("cancel",s),_t("close",s);break;case"iframe":case"object":case"embed":_t("load",s);break;case"video":case"audio":for(o=0;o<Nr.length;o++)_t(Nr[o],s);break;case"source":_t("error",s);break;case"img":case"image":case"link":_t("error",s),_t("load",s);break;case"details":_t("toggle",s);break;case"input":_t("invalid",s),jp(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Wo(s);break;case"select":_t("invalid",s);break;case"textarea":_t("invalid",s),Gp(s,h.value,h.defaultValue,h.children),Wo(s)}o=h.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||h.suppressHydrationWarning===!0||Gy(s.textContent,o)?(h.popover!=null&&(_t("beforetoggle",s),_t("toggle",s)),h.onScroll!=null&&_t("scroll",s),h.onScrollEnd!=null&&_t("scrollend",s),h.onClick!=null&&(s.onclick=Gl),s=!0):s=!1,s||fs(n)}function Rg(n){for(Ue=n.return;Ue;)switch(Ue.tag){case 5:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Ue=Ue.return}}function lr(n){if(n!==Ue)return!1;if(!Ot)return Rg(n),Ot=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Wh(n.type,n.memoizedProps)),o=!o),o&&Jt&&fs(n),Rg(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(s===0){Jt=Ln(n.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;n=n.nextSibling}Jt=null}}else s===27?(s=Jt,Hi(n.type)?(n=td,td=null,Jt=n):Jt=s):Jt=Ue?Ln(n.stateNode.nextSibling):null;return!0}function cr(){Jt=Ue=null,Ot=!1}function Mg(){var n=ds;return n!==null&&(We===null?We=n:We.push.apply(We,n),ds=null),n}function ur(n){ds===null?ds=[n]:ds.push(n)}var ku=Y(null),ps=null,ai=null;function Ri(n,s,o){Q(ku,s._currentValue),s._currentValue=o}function ri(n){n._currentValue=ku.current,J(ku)}function Iu(n,s,o){for(;n!==null;){var h=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),n===o)break;n=n.return}}function Bu(n,s,o,h){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var y=g.dependencies;if(y!==null){var w=g.child;y=y.firstContext;t:for(;y!==null;){var x=y;y=g;for(var M=0;M<s.length;M++)if(x.context===s[M]){y.lanes|=o,x=y.alternate,x!==null&&(x.lanes|=o),Iu(y.return,o,n),h||(w=null);break t}y=x.next}}else if(g.tag===18){if(w=g.return,w===null)throw Error(i(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),Iu(w,o,n),w=null}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===n){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}}function hr(n,s,o,h){n=null;for(var g=s,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var w=g.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var x=g.type;sn(g.pendingProps.value,w.value)||(n!==null?n.push(x):n=[x])}}else if(g===St.current){if(w=g.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(zr):n=[zr])}g=g.return}n!==null&&Bu(s,n,o,h),s.flags|=262144}function hl(n){for(n=n.firstContext;n!==null;){if(!sn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function gs(n){ps=n,ai=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ke(n){return Dg(ps,n)}function dl(n,s){return ps===null&&gs(n),Dg(n,s)}function Dg(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ai===null){if(n===null)throw Error(i(308));ai=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ai=ai.next=s;return o}var pE=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,h){n.push(h)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},gE=a.unstable_scheduleCallback,mE=a.unstable_NormalPriority,be={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fu(){return{controller:new pE,data:new Map,refCount:0}}function dr(n){n.refCount--,n.refCount===0&&gE(mE,function(){n.controller.abort()})}var fr=null,Vu=0,sa=0,aa=null;function yE(n,s){if(fr===null){var o=fr=[];Vu=0,sa=Uh(),aa={status:"pending",value:void 0,then:function(h){o.push(h)}}}return Vu++,s.then(Lg,Lg),s}function Lg(){if(--Vu===0&&fr!==null){aa!==null&&(aa.status="fulfilled");var n=fr;fr=null,sa=0,aa=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function vE(n,s){var o=[],h={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return n.then(function(){h.status="fulfilled",h.value=s;for(var g=0;g<o.length;g++)(0,o[g])(s)},function(g){for(h.status="rejected",h.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),h}var Og=N.S;N.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&yE(n,s),Og!==null&&Og(n,s)};var ms=Y(null);function zu(){var n=ms.current;return n!==null?n:Ht.pooledCache}function fl(n,s){s===null?Q(ms,ms.current):Q(ms,s.pool)}function Pg(){var n=zu();return n===null?null:{parent:be._currentValue,pool:n}}var pr=Error(i(460)),Ng=Error(i(474)),pl=Error(i(542)),Uu={then:function(){}};function kg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function gl(){}function Ig(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(gl,gl),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Fg(n),n;default:if(typeof s.status=="string")s.then(gl,gl);else{if(n=Ht,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(h){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=h}},function(h){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Fg(n),n}throw gr=s,pr}}var gr=null;function Bg(){if(gr===null)throw Error(i(459));var n=gr;return gr=null,n}function Fg(n){if(n===pr||n===pl)throw Error(i(483))}var Mi=!1;function ju(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hu(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Di(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Li(n,s,o){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Nt&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,s=ol(n),Tg(n,null,o),s}return rl(n,h,s,o),ol(n)}function mr(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var h=s.lanes;h&=n.pendingLanes,o|=h,s.lanes=o,Lp(n,o)}}function Gu(n,s){var o=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,o===h)){var g=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?g=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?g=y=s:y=y.next=s}else g=y=s;o={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var qu=!1;function yr(){if(qu){var n=aa;if(n!==null)throw n}}function vr(n,s,o,h){qu=!1;var g=n.updateQueue;Mi=!1;var y=g.firstBaseUpdate,w=g.lastBaseUpdate,x=g.shared.pending;if(x!==null){g.shared.pending=null;var M=x,z=M.next;M.next=null,w===null?y=z:w.next=z,w=M;var q=n.alternate;q!==null&&(q=q.updateQueue,x=q.lastBaseUpdate,x!==w&&(x===null?q.firstBaseUpdate=z:x.next=z,q.lastBaseUpdate=M))}if(y!==null){var K=g.baseState;w=0,q=z=M=null,x=y;do{var j=x.lane&-536870913,H=j!==x.lane;if(H?(Dt&j)===j:(h&j)===j){j!==0&&j===sa&&(qu=!0),q!==null&&(q=q.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var mt=n,ht=x;j=s;var Vt=o;switch(ht.tag){case 1:if(mt=ht.payload,typeof mt=="function"){K=mt.call(Vt,K,j);break t}K=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ht.payload,j=typeof mt=="function"?mt.call(Vt,K,j):mt,j==null)break t;K=p({},K,j);break t;case 2:Mi=!0}}j=x.callback,j!==null&&(n.flags|=64,H&&(n.flags|=8192),H=g.callbacks,H===null?g.callbacks=[j]:H.push(j))}else H={lane:j,tag:x.tag,payload:x.payload,callback:x.callback,next:null},q===null?(z=q=H,M=K):q=q.next=H,w|=j;if(x=x.next,x===null){if(x=g.shared.pending,x===null)break;H=x,x=H.next,H.next=null,g.lastBaseUpdate=H,g.shared.pending=null}}while(!0);q===null&&(M=K),g.baseState=M,g.firstBaseUpdate=z,g.lastBaseUpdate=q,y===null&&(g.shared.lanes=0),Vi|=w,n.lanes=w,n.memoizedState=K}}function Vg(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function zg(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Vg(o[n],s)}var ra=Y(null),ml=Y(0);function Ug(n,s){n=fi,Q(ml,n),Q(ra,s),fi=n|s.baseLanes}function Xu(){Q(ml,fi),Q(ra,ra.current)}function Yu(){fi=ml.current,J(ra),J(ml)}var Oi=0,Et=null,Bt=null,he=null,yl=!1,oa=!1,ys=!1,vl=0,br=0,la=null,bE=0;function ne(){throw Error(i(321))}function $u(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!sn(n[o],s[o]))return!1;return!0}function Ku(n,s,o,h,g,y){return Oi=y,Et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,N.H=n===null||n.memoizedState===null?Tm:xm,ys=!1,y=o(h,g),ys=!1,oa&&(y=Hg(s,o,h,g)),jg(n),y}function jg(n){N.H=Tl;var s=Bt!==null&&Bt.next!==null;if(Oi=0,he=Bt=Et=null,yl=!1,br=0,la=null,s)throw Error(i(300));n===null||Te||(n=n.dependencies,n!==null&&hl(n)&&(Te=!0))}function Hg(n,s,o,h){Et=n;var g=0;do{if(oa&&(la=null),br=0,oa=!1,25<=g)throw Error(i(301));if(g+=1,he=Bt=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}N.H=_E,y=s(o,h)}while(oa);return y}function AE(){var n=N.H,s=n.useState()[0];return s=typeof s.then=="function"?Ar(s):s,n=n.useState()[0],(Bt!==null?Bt.memoizedState:null)!==n&&(Et.flags|=1024),s}function Wu(){var n=vl!==0;return vl=0,n}function Qu(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function Zu(n){if(yl){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}yl=!1}Oi=0,he=Bt=Et=null,oa=!1,br=vl=0,la=null}function $e(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?Et.memoizedState=he=n:he=he.next=n,he}function de(){if(Bt===null){var n=Et.alternate;n=n!==null?n.memoizedState:null}else n=Bt.next;var s=he===null?Et.memoizedState:he.next;if(s!==null)he=s,Bt=n;else{if(n===null)throw Et.alternate===null?Error(i(467)):Error(i(310));Bt=n,n={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},he===null?Et.memoizedState=he=n:he=he.next=n}return he}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ar(n){var s=br;return br+=1,la===null&&(la=[]),n=Ig(la,n,s),s=Et,(he===null?s.memoizedState:he.next)===null&&(s=s.alternate,N.H=s===null||s.memoizedState===null?Tm:xm),n}function bl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ar(n);if(n.$$typeof===_)return ke(n)}throw Error(i(438,String(n)))}function th(n){var s=null,o=Et.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var h=Et.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Ju(),Et.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),h=0;h<n;h++)o[h]=W;return s.index++,o}function oi(n,s){return typeof s=="function"?s(n):s}function Al(n){var s=de();return eh(s,Bt,n)}function eh(n,s,o){var h=n.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=o;var g=n.baseQueue,y=h.pending;if(y!==null){if(g!==null){var w=g.next;g.next=y.next,y.next=w}s.baseQueue=g=y,h.pending=null}if(y=n.baseState,g===null)n.memoizedState=y;else{s=g.next;var x=w=null,M=null,z=s,q=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Dt&K)===K:(Oi&K)===K){var j=z.revertLane;if(j===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===sa&&(q=!0);else if((Oi&j)===j){z=z.next,j===sa&&(q=!0);continue}else K={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},M===null?(x=M=K,w=y):M=M.next=K,Et.lanes|=j,Vi|=j;K=z.action,ys&&o(y,K),y=z.hasEagerState?z.eagerState:o(y,K)}else j={lane:K,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},M===null?(x=M=j,w=y):M=M.next=j,Et.lanes|=K,Vi|=K;z=z.next}while(z!==null&&z!==s);if(M===null?w=y:M.next=x,!sn(y,n.memoizedState)&&(Te=!0,q&&(o=aa,o!==null)))throw o;n.memoizedState=y,n.baseState=w,n.baseQueue=M,h.lastRenderedState=y}return g===null&&(h.lanes=0),[n.memoizedState,h.dispatch]}function nh(n){var s=de(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var h=o.dispatch,g=o.pending,y=s.memoizedState;if(g!==null){o.pending=null;var w=g=g.next;do y=n(y,w.action),w=w.next;while(w!==g);sn(y,s.memoizedState)||(Te=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,h]}function Gg(n,s,o){var h=Et,g=de(),y=Ot;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=s();var w=!sn((Bt||g).memoizedState,o);w&&(g.memoizedState=o,Te=!0),g=g.queue;var x=Yg.bind(null,h,g,n);if(Sr(2048,8,x,[n]),g.getSnapshot!==s||w||he!==null&&he.memoizedState.tag&1){if(h.flags|=2048,ca(9,Sl(),Xg.bind(null,h,g,o,s),null),Ht===null)throw Error(i(349));y||(Oi&124)!==0||qg(h,s,o)}return o}function qg(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Et.updateQueue,s===null?(s=Ju(),Et.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function Xg(n,s,o,h){s.value=o,s.getSnapshot=h,$g(s)&&Kg(n)}function Yg(n,s,o){return o(function(){$g(s)&&Kg(n)})}function $g(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!sn(n,o)}catch{return!0}}function Kg(n){var s=ta(n,2);s!==null&&un(s,n,2)}function ih(n){var s=$e();if(typeof n=="function"){var o=n;if(n=o(),ys){nn(!0);try{o()}finally{nn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:n},s}function Wg(n,s,o,h){return n.baseState=o,eh(n,Bt,typeof h=="function"?h:oi)}function SE(n,s,o,h,g){if(El(n))throw Error(i(485));if(n=s.action,n!==null){var y={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};N.T!==null?o(!0):y.isTransition=!1,h(y),o=s.pending,o===null?(y.next=s.pending=y,Qg(s,y)):(y.next=o.next,s.pending=o.next=y)}}function Qg(n,s){var o=s.action,h=s.payload,g=n.state;if(s.isTransition){var y=N.T,w={};N.T=w;try{var x=o(g,h),M=N.S;M!==null&&M(w,x),Zg(n,s,x)}catch(z){sh(n,s,z)}finally{N.T=y}}else try{y=o(g,h),Zg(n,s,y)}catch(z){sh(n,s,z)}}function Zg(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(h){Jg(n,s,h)},function(h){return sh(n,s,h)}):Jg(n,s,o)}function Jg(n,s,o){s.status="fulfilled",s.value=o,tm(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,Qg(n,o)))}function sh(n,s,o){var h=n.pending;if(n.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=o,tm(s),s=s.next;while(s!==h)}n.action=null}function tm(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function em(n,s){return s}function nm(n,s){if(Ot){var o=Ht.formState;if(o!==null){t:{var h=Et;if(Ot){if(Jt){e:{for(var g=Jt,y=In;g.nodeType!==8;){if(!y){g=null;break e}if(g=Ln(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Jt=Ln(g.nextSibling),h=g.data==="F!";break t}}fs(h)}h=!1}h&&(s=o[0])}}return o=$e(),o.memoizedState=o.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:em,lastRenderedState:s},o.queue=h,o=Sm.bind(null,Et,h),h.dispatch=o,h=ih(!1),y=ch.bind(null,Et,!1,h.queue),h=$e(),g={state:s,dispatch:null,action:n,pending:null},h.queue=g,o=SE.bind(null,Et,g,y,o),g.dispatch=o,h.memoizedState=n,[s,o,!1]}function im(n){var s=de();return sm(s,Bt,n)}function sm(n,s,o){if(s=eh(n,s,em)[0],n=Al(oi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Ar(s)}catch(w){throw w===pr?pl:w}else h=s;s=de();var g=s.queue,y=g.dispatch;return o!==s.memoizedState&&(Et.flags|=2048,ca(9,Sl(),wE.bind(null,g,o),null)),[h,y,n]}function wE(n,s){n.action=s}function am(n){var s=de(),o=Bt;if(o!==null)return sm(s,o,n);de(),s=s.memoizedState,o=de();var h=o.queue.dispatch;return o.memoizedState=n,[s,h,!1]}function ca(n,s,o,h){return n={tag:n,create:o,deps:h,inst:s,next:null},s=Et.updateQueue,s===null&&(s=Ju(),Et.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(h=o.next,o.next=n,n.next=h,s.lastEffect=n),n}function Sl(){return{destroy:void 0,resource:void 0}}function rm(){return de().memoizedState}function wl(n,s,o,h){var g=$e();h=h===void 0?null:h,Et.flags|=n,g.memoizedState=ca(1|s,Sl(),o,h)}function Sr(n,s,o,h){var g=de();h=h===void 0?null:h;var y=g.memoizedState.inst;Bt!==null&&h!==null&&$u(h,Bt.memoizedState.deps)?g.memoizedState=ca(s,y,o,h):(Et.flags|=n,g.memoizedState=ca(1|s,y,o,h))}function om(n,s){wl(8390656,8,n,s)}function lm(n,s){Sr(2048,8,n,s)}function cm(n,s){return Sr(4,2,n,s)}function um(n,s){return Sr(4,4,n,s)}function hm(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function dm(n,s,o){o=o!=null?o.concat([n]):null,Sr(4,4,hm.bind(null,s,n),o)}function ah(){}function fm(n,s){var o=de();s=s===void 0?null:s;var h=o.memoizedState;return s!==null&&$u(s,h[1])?h[0]:(o.memoizedState=[n,s],n)}function pm(n,s){var o=de();s=s===void 0?null:s;var h=o.memoizedState;if(s!==null&&$u(s,h[1]))return h[0];if(h=n(),ys){nn(!0);try{n()}finally{nn(!1)}}return o.memoizedState=[h,s],h}function rh(n,s,o){return o===void 0||(Oi&1073741824)!==0?n.memoizedState=s:(n.memoizedState=o,n=yy(),Et.lanes|=n,Vi|=n,o)}function gm(n,s,o,h){return sn(o,s)?o:ra.current!==null?(n=rh(n,o,h),sn(n,s)||(Te=!0),n):(Oi&42)===0?(Te=!0,n.memoizedState=o):(n=yy(),Et.lanes|=n,Vi|=n,s)}function mm(n,s,o,h,g){var y=F.p;F.p=y!==0&&8>y?y:8;var w=N.T,x={};N.T=x,ch(n,!1,s,o);try{var M=g(),z=N.S;if(z!==null&&z(x,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var q=vE(M,h);wr(n,s,q,cn(n))}else wr(n,s,h,cn(n))}catch(K){wr(n,s,{then:function(){},status:"rejected",reason:K},cn())}finally{F.p=y,N.T=w}}function EE(){}function oh(n,s,o,h){if(n.tag!==5)throw Error(i(476));var g=ym(n).queue;mm(n,g,s,tt,o===null?EE:function(){return vm(n),o(h)})}function ym(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:tt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function vm(n){var s=ym(n).next.queue;wr(n,s,{},cn())}function lh(){return ke(zr)}function bm(){return de().memoizedState}function Am(){return de().memoizedState}function TE(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=cn();n=Di(o);var h=Li(s,n,o);h!==null&&(un(h,s,o),mr(h,s,o)),s={cache:Fu()},n.payload=s;return}s=s.return}}function xE(n,s,o){var h=cn();o={lane:h,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},El(n)?wm(s,o):(o=Ru(n,s,o,h),o!==null&&(un(o,n,h),Em(o,s,h)))}function Sm(n,s,o){var h=cn();wr(n,s,o,h)}function wr(n,s,o,h){var g={lane:h,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(El(n))wm(s,g);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,x=y(w,o);if(g.hasEagerState=!0,g.eagerState=x,sn(x,w))return rl(n,s,g,0),Ht===null&&al(),!1}catch{}finally{}if(o=Ru(n,s,g,h),o!==null)return un(o,n,h),Em(o,s,h),!0}return!1}function ch(n,s,o,h){if(h={lane:2,revertLane:Uh(),action:h,hasEagerState:!1,eagerState:null,next:null},El(n)){if(s)throw Error(i(479))}else s=Ru(n,o,h,2),s!==null&&un(s,n,2)}function El(n){var s=n.alternate;return n===Et||s!==null&&s===Et}function wm(n,s){oa=yl=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function Em(n,s,o){if((o&4194048)!==0){var h=s.lanes;h&=n.pendingLanes,o|=h,s.lanes=o,Lp(n,o)}}var Tl={readContext:ke,use:bl,useCallback:ne,useContext:ne,useEffect:ne,useImperativeHandle:ne,useLayoutEffect:ne,useInsertionEffect:ne,useMemo:ne,useReducer:ne,useRef:ne,useState:ne,useDebugValue:ne,useDeferredValue:ne,useTransition:ne,useSyncExternalStore:ne,useId:ne,useHostTransitionStatus:ne,useFormState:ne,useActionState:ne,useOptimistic:ne,useMemoCache:ne,useCacheRefresh:ne},Tm={readContext:ke,use:bl,useCallback:function(n,s){return $e().memoizedState=[n,s===void 0?null:s],n},useContext:ke,useEffect:om,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,wl(4194308,4,hm.bind(null,s,n),o)},useLayoutEffect:function(n,s){return wl(4194308,4,n,s)},useInsertionEffect:function(n,s){wl(4,2,n,s)},useMemo:function(n,s){var o=$e();s=s===void 0?null:s;var h=n();if(ys){nn(!0);try{n()}finally{nn(!1)}}return o.memoizedState=[h,s],h},useReducer:function(n,s,o){var h=$e();if(o!==void 0){var g=o(s);if(ys){nn(!0);try{o(s)}finally{nn(!1)}}}else g=s;return h.memoizedState=h.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},h.queue=n,n=n.dispatch=xE.bind(null,Et,n),[h.memoizedState,n]},useRef:function(n){var s=$e();return n={current:n},s.memoizedState=n},useState:function(n){n=ih(n);var s=n.queue,o=Sm.bind(null,Et,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:ah,useDeferredValue:function(n,s){var o=$e();return rh(o,n,s)},useTransition:function(){var n=ih(!1);return n=mm.bind(null,Et,n.queue,!0,!1),$e().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var h=Et,g=$e();if(Ot){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),Ht===null)throw Error(i(349));(Dt&124)!==0||qg(h,s,o)}g.memoizedState=o;var y={value:o,getSnapshot:s};return g.queue=y,om(Yg.bind(null,h,y,n),[n]),h.flags|=2048,ca(9,Sl(),Xg.bind(null,h,y,o,s),null),o},useId:function(){var n=$e(),s=Ht.identifierPrefix;if(Ot){var o=si,h=ii;o=(h&~(1<<32-we(h)-1)).toString(32)+o,s=""+s+"R"+o,o=vl++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=bE++,s=""+s+"r"+o.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:lh,useFormState:nm,useActionState:nm,useOptimistic:function(n){var s=$e();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=ch.bind(null,Et,!0,o),o.dispatch=s,[n,s]},useMemoCache:th,useCacheRefresh:function(){return $e().memoizedState=TE.bind(null,Et)}},xm={readContext:ke,use:bl,useCallback:fm,useContext:ke,useEffect:lm,useImperativeHandle:dm,useInsertionEffect:cm,useLayoutEffect:um,useMemo:pm,useReducer:Al,useRef:rm,useState:function(){return Al(oi)},useDebugValue:ah,useDeferredValue:function(n,s){var o=de();return gm(o,Bt.memoizedState,n,s)},useTransition:function(){var n=Al(oi)[0],s=de().memoizedState;return[typeof n=="boolean"?n:Ar(n),s]},useSyncExternalStore:Gg,useId:bm,useHostTransitionStatus:lh,useFormState:im,useActionState:im,useOptimistic:function(n,s){var o=de();return Wg(o,Bt,n,s)},useMemoCache:th,useCacheRefresh:Am},_E={readContext:ke,use:bl,useCallback:fm,useContext:ke,useEffect:lm,useImperativeHandle:dm,useInsertionEffect:cm,useLayoutEffect:um,useMemo:pm,useReducer:nh,useRef:rm,useState:function(){return nh(oi)},useDebugValue:ah,useDeferredValue:function(n,s){var o=de();return Bt===null?rh(o,n,s):gm(o,Bt.memoizedState,n,s)},useTransition:function(){var n=nh(oi)[0],s=de().memoizedState;return[typeof n=="boolean"?n:Ar(n),s]},useSyncExternalStore:Gg,useId:bm,useHostTransitionStatus:lh,useFormState:am,useActionState:am,useOptimistic:function(n,s){var o=de();return Bt!==null?Wg(o,Bt,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:th,useCacheRefresh:Am},ua=null,Er=0;function xl(n){var s=Er;return Er+=1,ua===null&&(ua=[]),Ig(ua,n,s)}function Tr(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function _l(n,s){throw s.$$typeof===m?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function _m(n){var s=n._init;return s(n._payload)}function Cm(n){function s(B,P){if(n){var V=B.deletions;V===null?(B.deletions=[P],B.flags|=16):V.push(P)}}function o(B,P){if(!n)return null;for(;P!==null;)s(B,P),P=P.sibling;return null}function h(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function g(B,P){return B=ni(B,P),B.index=0,B.sibling=null,B}function y(B,P,V){return B.index=V,n?(V=B.alternate,V!==null?(V=V.index,V<P?(B.flags|=67108866,P):V):(B.flags|=67108866,P)):(B.flags|=1048576,P)}function w(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function x(B,P,V,$){return P===null||P.tag!==6?(P=Du(V,B.mode,$),P.return=B,P):(P=g(P,V),P.return=B,P)}function M(B,P,V,$){var it=V.type;return it===A?q(B,P,V.props.children,$,V.key):P!==null&&(P.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===U&&_m(it)===P.type)?(P=g(P,V.props),Tr(P,V),P.return=B,P):(P=ll(V.type,V.key,V.props,null,B.mode,$),Tr(P,V),P.return=B,P)}function z(B,P,V,$){return P===null||P.tag!==4||P.stateNode.containerInfo!==V.containerInfo||P.stateNode.implementation!==V.implementation?(P=Lu(V,B.mode,$),P.return=B,P):(P=g(P,V.children||[]),P.return=B,P)}function q(B,P,V,$,it){return P===null||P.tag!==7?(P=cs(V,B.mode,$,it),P.return=B,P):(P=g(P,V),P.return=B,P)}function K(B,P,V){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Du(""+P,B.mode,V),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case v:return V=ll(P.type,P.key,P.props,null,B.mode,V),Tr(V,P),V.return=B,V;case b:return P=Lu(P,B.mode,V),P.return=B,P;case U:var $=P._init;return P=$(P._payload),K(B,P,V)}if(rt(P)||st(P))return P=cs(P,B.mode,V,null),P.return=B,P;if(typeof P.then=="function")return K(B,xl(P),V);if(P.$$typeof===_)return K(B,dl(B,P),V);_l(B,P)}return null}function j(B,P,V,$){var it=P!==null?P.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return it!==null?null:x(B,P,""+V,$);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case v:return V.key===it?M(B,P,V,$):null;case b:return V.key===it?z(B,P,V,$):null;case U:return it=V._init,V=it(V._payload),j(B,P,V,$)}if(rt(V)||st(V))return it!==null?null:q(B,P,V,$,null);if(typeof V.then=="function")return j(B,P,xl(V),$);if(V.$$typeof===_)return j(B,P,dl(B,V),$);_l(B,V)}return null}function H(B,P,V,$,it){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return B=B.get(V)||null,x(P,B,""+$,it);if(typeof $=="object"&&$!==null){switch($.$$typeof){case v:return B=B.get($.key===null?V:$.key)||null,M(P,B,$,it);case b:return B=B.get($.key===null?V:$.key)||null,z(P,B,$,it);case U:var Tt=$._init;return $=Tt($._payload),H(B,P,V,$,it)}if(rt($)||st($))return B=B.get(V)||null,q(P,B,$,it,null);if(typeof $.then=="function")return H(B,P,V,xl($),it);if($.$$typeof===_)return H(B,P,V,dl(P,$),it);_l(P,$)}return null}function mt(B,P,V,$){for(var it=null,Tt=null,ot=P,dt=P=0,_e=null;ot!==null&&dt<V.length;dt++){ot.index>dt?(_e=ot,ot=null):_e=ot.sibling;var Lt=j(B,ot,V[dt],$);if(Lt===null){ot===null&&(ot=_e);break}n&&ot&&Lt.alternate===null&&s(B,ot),P=y(Lt,P,dt),Tt===null?it=Lt:Tt.sibling=Lt,Tt=Lt,ot=_e}if(dt===V.length)return o(B,ot),Ot&&hs(B,dt),it;if(ot===null){for(;dt<V.length;dt++)ot=K(B,V[dt],$),ot!==null&&(P=y(ot,P,dt),Tt===null?it=ot:Tt.sibling=ot,Tt=ot);return Ot&&hs(B,dt),it}for(ot=h(ot);dt<V.length;dt++)_e=H(ot,B,dt,V[dt],$),_e!==null&&(n&&_e.alternate!==null&&ot.delete(_e.key===null?dt:_e.key),P=y(_e,P,dt),Tt===null?it=_e:Tt.sibling=_e,Tt=_e);return n&&ot.forEach(function($i){return s(B,$i)}),Ot&&hs(B,dt),it}function ht(B,P,V,$){if(V==null)throw Error(i(151));for(var it=null,Tt=null,ot=P,dt=P=0,_e=null,Lt=V.next();ot!==null&&!Lt.done;dt++,Lt=V.next()){ot.index>dt?(_e=ot,ot=null):_e=ot.sibling;var $i=j(B,ot,Lt.value,$);if($i===null){ot===null&&(ot=_e);break}n&&ot&&$i.alternate===null&&s(B,ot),P=y($i,P,dt),Tt===null?it=$i:Tt.sibling=$i,Tt=$i,ot=_e}if(Lt.done)return o(B,ot),Ot&&hs(B,dt),it;if(ot===null){for(;!Lt.done;dt++,Lt=V.next())Lt=K(B,Lt.value,$),Lt!==null&&(P=y(Lt,P,dt),Tt===null?it=Lt:Tt.sibling=Lt,Tt=Lt);return Ot&&hs(B,dt),it}for(ot=h(ot);!Lt.done;dt++,Lt=V.next())Lt=H(ot,B,dt,Lt.value,$),Lt!==null&&(n&&Lt.alternate!==null&&ot.delete(Lt.key===null?dt:Lt.key),P=y(Lt,P,dt),Tt===null?it=Lt:Tt.sibling=Lt,Tt=Lt);return n&&ot.forEach(function(C1){return s(B,C1)}),Ot&&hs(B,dt),it}function Vt(B,P,V,$){if(typeof V=="object"&&V!==null&&V.type===A&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case v:t:{for(var it=V.key;P!==null;){if(P.key===it){if(it=V.type,it===A){if(P.tag===7){o(B,P.sibling),$=g(P,V.props.children),$.return=B,B=$;break t}}else if(P.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===U&&_m(it)===P.type){o(B,P.sibling),$=g(P,V.props),Tr($,V),$.return=B,B=$;break t}o(B,P);break}else s(B,P);P=P.sibling}V.type===A?($=cs(V.props.children,B.mode,$,V.key),$.return=B,B=$):($=ll(V.type,V.key,V.props,null,B.mode,$),Tr($,V),$.return=B,B=$)}return w(B);case b:t:{for(it=V.key;P!==null;){if(P.key===it)if(P.tag===4&&P.stateNode.containerInfo===V.containerInfo&&P.stateNode.implementation===V.implementation){o(B,P.sibling),$=g(P,V.children||[]),$.return=B,B=$;break t}else{o(B,P);break}else s(B,P);P=P.sibling}$=Lu(V,B.mode,$),$.return=B,B=$}return w(B);case U:return it=V._init,V=it(V._payload),Vt(B,P,V,$)}if(rt(V))return mt(B,P,V,$);if(st(V)){if(it=st(V),typeof it!="function")throw Error(i(150));return V=it.call(V),ht(B,P,V,$)}if(typeof V.then=="function")return Vt(B,P,xl(V),$);if(V.$$typeof===_)return Vt(B,P,dl(B,V),$);_l(B,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,P!==null&&P.tag===6?(o(B,P.sibling),$=g(P,V),$.return=B,B=$):(o(B,P),$=Du(V,B.mode,$),$.return=B,B=$),w(B)):o(B,P)}return function(B,P,V,$){try{Er=0;var it=Vt(B,P,V,$);return ua=null,it}catch(ot){if(ot===pr||ot===pl)throw ot;var Tt=an(29,ot,null,B.mode);return Tt.lanes=$,Tt.return=B,Tt}finally{}}}var ha=Cm(!0),Rm=Cm(!1),An=Y(null),Bn=null;function Pi(n){var s=n.alternate;Q(Ae,Ae.current&1),Q(An,n),Bn===null&&(s===null||ra.current!==null||s.memoizedState!==null)&&(Bn=n)}function Mm(n){if(n.tag===22){if(Q(Ae,Ae.current),Q(An,n),Bn===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Bn=n)}}else Ni()}function Ni(){Q(Ae,Ae.current),Q(An,An.current)}function li(n){J(An),Bn===n&&(Bn=null),J(Ae)}var Ae=Y(0);function Cl(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Jh(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function uh(n,s,o,h){s=n.memoizedState,o=o(h,s),o=o==null?s:p({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var hh={enqueueSetState:function(n,s,o){n=n._reactInternals;var h=cn(),g=Di(h);g.payload=s,o!=null&&(g.callback=o),s=Li(n,g,h),s!==null&&(un(s,n,h),mr(s,n,h))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var h=cn(),g=Di(h);g.tag=1,g.payload=s,o!=null&&(g.callback=o),s=Li(n,g,h),s!==null&&(un(s,n,h),mr(s,n,h))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=cn(),h=Di(o);h.tag=2,s!=null&&(h.callback=s),s=Li(n,h,o),s!==null&&(un(s,n,o),mr(s,n,o))}};function Dm(n,s,o,h,g,y,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,y,w):s.prototype&&s.prototype.isPureReactComponent?!rr(o,h)||!rr(g,y):!0}function Lm(n,s,o,h){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,h),s.state!==n&&hh.enqueueReplaceState(s,s.state,null)}function vs(n,s){var o=s;if("ref"in s){o={};for(var h in s)h!=="ref"&&(o[h]=s[h])}if(n=n.defaultProps){o===s&&(o=p({},o));for(var g in n)o[g]===void 0&&(o[g]=n[g])}return o}var Rl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Om(n){Rl(n)}function Pm(n){console.error(n)}function Nm(n){Rl(n)}function Ml(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function km(n,s,o){try{var h=n.onCaughtError;h(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function dh(n,s,o){return o=Di(o),o.tag=3,o.payload={element:null},o.callback=function(){Ml(n,s)},o}function Im(n){return n=Di(n),n.tag=3,n}function Bm(n,s,o,h){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;n.payload=function(){return g(y)},n.callback=function(){km(s,o,h)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){km(s,o,h),typeof g!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var x=h.stack;this.componentDidCatch(h.value,{componentStack:x!==null?x:""})})}function CE(n,s,o,h,g){if(o.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=o.alternate,s!==null&&hr(s,o,g,!0),o=An.current,o!==null){switch(o.tag){case 13:return Bn===null?Ih():o.alternate===null&&te===0&&(te=3),o.flags&=-257,o.flags|=65536,o.lanes=g,h===Uu?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([h]):s.add(h),Fh(n,h,g)),!1;case 22:return o.flags|=65536,h===Uu?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([h]):o.add(h)),Fh(n,h,g)),!1}throw Error(i(435,o.tag))}return Fh(n,h,g),Ih(),!1}if(Ot)return s=An.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,h!==Nu&&(n=Error(i(422),{cause:h}),ur(mn(n,o)))):(h!==Nu&&(s=Error(i(423),{cause:h}),ur(mn(s,o))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,h=mn(h,o),g=dh(n.stateNode,h,g),Gu(n,g),te!==4&&(te=2)),!1;var y=Error(i(520),{cause:h});if(y=mn(y,o),Lr===null?Lr=[y]:Lr.push(y),te!==4&&(te=2),s===null)return!0;h=mn(h,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=g&-g,o.lanes|=n,n=dh(o.stateNode,h,n),Gu(o,n),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(zi===null||!zi.has(y))))return o.flags|=65536,g&=-g,o.lanes|=g,g=Im(g),Bm(g,n,o,h),Gu(o,g),!1}o=o.return}while(o!==null);return!1}var Fm=Error(i(461)),Te=!1;function Me(n,s,o,h){s.child=n===null?Rm(s,null,o,h):ha(s,n.child,o,h)}function Vm(n,s,o,h,g){o=o.render;var y=s.ref;if("ref"in h){var w={};for(var x in h)x!=="ref"&&(w[x]=h[x])}else w=h;return gs(s),h=Ku(n,s,o,w,y,g),x=Wu(),n!==null&&!Te?(Qu(n,s,g),ci(n,s,g)):(Ot&&x&&Ou(s),s.flags|=1,Me(n,s,h,g),s.child)}function zm(n,s,o,h,g){if(n===null){var y=o.type;return typeof y=="function"&&!Mu(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,Um(n,s,y,h,g)):(n=ll(o.type,null,h,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(y=n.child,!Ah(n,g)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:rr,o(w,h)&&n.ref===s.ref)return ci(n,s,g)}return s.flags|=1,n=ni(y,h),n.ref=s.ref,n.return=s,s.child=n}function Um(n,s,o,h,g){if(n!==null){var y=n.memoizedProps;if(rr(y,h)&&n.ref===s.ref)if(Te=!1,s.pendingProps=h=y,Ah(n,g))(n.flags&131072)!==0&&(Te=!0);else return s.lanes=n.lanes,ci(n,s,g)}return fh(n,s,o,h,g)}function jm(n,s,o){var h=s.pendingProps,g=h.children,y=n!==null?n.memoizedState:null;if(h.mode==="hidden"){if((s.flags&128)!==0){if(h=y!==null?y.baseLanes|o:o,n!==null){for(g=s.child=n.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;s.childLanes=y&~h}else s.childLanes=0,s.child=null;return Hm(n,s,h,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&fl(s,y!==null?y.cachePool:null),y!==null?Ug(s,y):Xu(),Mm(s);else return s.lanes=s.childLanes=536870912,Hm(n,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(fl(s,y.cachePool),Ug(s,y),Ni(),s.memoizedState=null):(n!==null&&fl(s,null),Xu(),Ni());return Me(n,s,g,o),s.child}function Hm(n,s,o,h){var g=zu();return g=g===null?null:{parent:be._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},n!==null&&fl(s,null),Xu(),Mm(s),n!==null&&hr(n,s,h,!0),null}function Dl(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function fh(n,s,o,h,g){return gs(s),o=Ku(n,s,o,h,void 0,g),h=Wu(),n!==null&&!Te?(Qu(n,s,g),ci(n,s,g)):(Ot&&h&&Ou(s),s.flags|=1,Me(n,s,o,g),s.child)}function Gm(n,s,o,h,g,y){return gs(s),s.updateQueue=null,o=Hg(s,h,o,g),jg(n),h=Wu(),n!==null&&!Te?(Qu(n,s,y),ci(n,s,y)):(Ot&&h&&Ou(s),s.flags|=1,Me(n,s,o,y),s.child)}function qm(n,s,o,h,g){if(gs(s),s.stateNode===null){var y=ea,w=o.contextType;typeof w=="object"&&w!==null&&(y=ke(w)),y=new o(h,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=hh,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=h,y.state=s.memoizedState,y.refs={},ju(s),w=o.contextType,y.context=typeof w=="object"&&w!==null?ke(w):ea,y.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(uh(s,o,w,h),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&hh.enqueueReplaceState(y,y.state,null),vr(s,h,y,g),yr(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(n===null){y=s.stateNode;var x=s.memoizedProps,M=vs(o,x);y.props=M;var z=y.context,q=o.contextType;w=ea,typeof q=="object"&&q!==null&&(w=ke(q));var K=o.getDerivedStateFromProps;q=typeof K=="function"||typeof y.getSnapshotBeforeUpdate=="function",x=s.pendingProps!==x,q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x||z!==w)&&Lm(s,y,h,w),Mi=!1;var j=s.memoizedState;y.state=j,vr(s,h,y,g),yr(),z=s.memoizedState,x||j!==z||Mi?(typeof K=="function"&&(uh(s,o,K,h),z=s.memoizedState),(M=Mi||Dm(s,o,M,h,j,z,w))?(q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=z),y.props=h,y.state=z,y.context=w,h=M):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{y=s.stateNode,Hu(n,s),w=s.memoizedProps,q=vs(o,w),y.props=q,K=s.pendingProps,j=y.context,z=o.contextType,M=ea,typeof z=="object"&&z!==null&&(M=ke(z)),x=o.getDerivedStateFromProps,(z=typeof x=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==K||j!==M)&&Lm(s,y,h,M),Mi=!1,j=s.memoizedState,y.state=j,vr(s,h,y,g),yr();var H=s.memoizedState;w!==K||j!==H||Mi||n!==null&&n.dependencies!==null&&hl(n.dependencies)?(typeof x=="function"&&(uh(s,o,x,h),H=s.memoizedState),(q=Mi||Dm(s,o,q,h,j,H,M)||n!==null&&n.dependencies!==null&&hl(n.dependencies))?(z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,H,M),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,H,M)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===n.memoizedProps&&j===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&j===n.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=H),y.props=h,y.state=H,y.context=M,h=q):(typeof y.componentDidUpdate!="function"||w===n.memoizedProps&&j===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&j===n.memoizedState||(s.flags|=1024),h=!1)}return y=h,Dl(n,s),h=(s.flags&128)!==0,y||h?(y=s.stateNode,o=h&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,n!==null&&h?(s.child=ha(s,n.child,null,g),s.child=ha(s,null,o,g)):Me(n,s,o,g),s.memoizedState=y.state,n=s.child):n=ci(n,s,g),n}function Xm(n,s,o,h){return cr(),s.flags|=256,Me(n,s,o,h),s.child}var ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gh(n){return{baseLanes:n,cachePool:Pg()}}function mh(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=Sn),n}function Ym(n,s,o){var h=s.pendingProps,g=!1,y=(s.flags&128)!==0,w;if((w=y)||(w=n!==null&&n.memoizedState===null?!1:(Ae.current&2)!==0),w&&(g=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ot){if(g?Pi(s):Ni(),Ot){var x=Jt,M;if(M=x){t:{for(M=x,x=In;M.nodeType!==8;){if(!x){x=null;break t}if(M=Ln(M.nextSibling),M===null){x=null;break t}}x=M}x!==null?(s.memoizedState={dehydrated:x,treeContext:us!==null?{id:ii,overflow:si}:null,retryLane:536870912,hydrationErrors:null},M=an(18,null,null,0),M.stateNode=x,M.return=s,s.child=M,Ue=s,Jt=null,M=!0):M=!1}M||fs(s)}if(x=s.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return Jh(x)?s.lanes=32:s.lanes=536870912,null;li(s)}return x=h.children,h=h.fallback,g?(Ni(),g=s.mode,x=Ll({mode:"hidden",children:x},g),h=cs(h,g,o,null),x.return=s,h.return=s,x.sibling=h,s.child=x,g=s.child,g.memoizedState=gh(o),g.childLanes=mh(n,w,o),s.memoizedState=ph,h):(Pi(s),yh(s,x))}if(M=n.memoizedState,M!==null&&(x=M.dehydrated,x!==null)){if(y)s.flags&256?(Pi(s),s.flags&=-257,s=vh(n,s,o)):s.memoizedState!==null?(Ni(),s.child=n.child,s.flags|=128,s=null):(Ni(),g=h.fallback,x=s.mode,h=Ll({mode:"visible",children:h.children},x),g=cs(g,x,o,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,ha(s,n.child,null,o),h=s.child,h.memoizedState=gh(o),h.childLanes=mh(n,w,o),s.memoizedState=ph,s=g);else if(Pi(s),Jh(x)){if(w=x.nextSibling&&x.nextSibling.dataset,w)var z=w.dgst;w=z,h=Error(i(419)),h.stack="",h.digest=w,ur({value:h,source:null,stack:null}),s=vh(n,s,o)}else if(Te||hr(n,s,o,!1),w=(o&n.childLanes)!==0,Te||w){if(w=Ht,w!==null&&(h=o&-o,h=(h&42)!==0?1:tu(h),h=(h&(w.suspendedLanes|o))!==0?0:h,h!==0&&h!==M.retryLane))throw M.retryLane=h,ta(n,h),un(w,n,h),Fm;x.data==="$?"||Ih(),s=vh(n,s,o)}else x.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=M.treeContext,Jt=Ln(x.nextSibling),Ue=s,Ot=!0,ds=null,In=!1,n!==null&&(vn[bn++]=ii,vn[bn++]=si,vn[bn++]=us,ii=n.id,si=n.overflow,us=s),s=yh(s,h.children),s.flags|=4096);return s}return g?(Ni(),g=h.fallback,x=s.mode,M=n.child,z=M.sibling,h=ni(M,{mode:"hidden",children:h.children}),h.subtreeFlags=M.subtreeFlags&65011712,z!==null?g=ni(z,g):(g=cs(g,x,o,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,x=n.child.memoizedState,x===null?x=gh(o):(M=x.cachePool,M!==null?(z=be._currentValue,M=M.parent!==z?{parent:z,pool:z}:M):M=Pg(),x={baseLanes:x.baseLanes|o,cachePool:M}),g.memoizedState=x,g.childLanes=mh(n,w,o),s.memoizedState=ph,h):(Pi(s),o=n.child,n=o.sibling,o=ni(o,{mode:"visible",children:h.children}),o.return=s,o.sibling=null,n!==null&&(w=s.deletions,w===null?(s.deletions=[n],s.flags|=16):w.push(n)),s.child=o,s.memoizedState=null,o)}function yh(n,s){return s=Ll({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Ll(n,s){return n=an(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function vh(n,s,o){return ha(s,n.child,null,o),n=yh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function $m(n,s,o){n.lanes|=s;var h=n.alternate;h!==null&&(h.lanes|=s),Iu(n.return,s,o)}function bh(n,s,o,h,g){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:o,tailMode:g}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=o,y.tailMode=g)}function Km(n,s,o){var h=s.pendingProps,g=h.revealOrder,y=h.tail;if(Me(n,s,h.children,o),h=Ae.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$m(n,o,s);else if(n.tag===19)$m(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}switch(Q(Ae,h),g){case"forwards":for(o=s.child,g=null;o!==null;)n=o.alternate,n!==null&&Cl(n)===null&&(g=o),o=o.sibling;o=g,o===null?(g=s.child,s.child=null):(g=o.sibling,o.sibling=null),bh(s,!1,g,o,y);break;case"backwards":for(o=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&Cl(n)===null){s.child=g;break}n=g.sibling,g.sibling=o,o=g,g=n}bh(s,!0,o,null,y);break;case"together":bh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ci(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Vi|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(hr(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,o=ni(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=ni(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Ah(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&hl(n)))}function RE(n,s,o){switch(s.tag){case 3:Mt(s,s.stateNode.containerInfo),Ri(s,be,n.memoizedState.cache),cr();break;case 27:case 5:It(s);break;case 4:Mt(s,s.stateNode.containerInfo);break;case 10:Ri(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Pi(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Ym(n,s,o):(Pi(s),n=ci(n,s,o),n!==null?n.sibling:null);Pi(s);break;case 19:var g=(n.flags&128)!==0;if(h=(o&s.childLanes)!==0,h||(hr(n,s,o,!1),h=(o&s.childLanes)!==0),g){if(h)return Km(n,s,o);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Q(Ae,Ae.current),h)break;return null;case 22:case 23:return s.lanes=0,jm(n,s,o);case 24:Ri(s,be,n.memoizedState.cache)}return ci(n,s,o)}function Wm(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)Te=!0;else{if(!Ah(n,o)&&(s.flags&128)===0)return Te=!1,RE(n,s,o);Te=(n.flags&131072)!==0}else Te=!1,Ot&&(s.flags&1048576)!==0&&_g(s,ul,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var h=s.elementType,g=h._init;if(h=g(h._payload),s.type=h,typeof h=="function")Mu(h)?(n=vs(h,n),s.tag=1,s=qm(null,s,h,n,o)):(s.tag=0,s=fh(null,s,h,n,o));else{if(h!=null){if(g=h.$$typeof,g===L){s.tag=11,s=Vm(null,s,h,n,o);break t}else if(g===I){s.tag=14,s=zm(null,s,h,n,o);break t}}throw s=ct(h)||h,Error(i(306,s,""))}}return s;case 0:return fh(n,s,s.type,s.pendingProps,o);case 1:return h=s.type,g=vs(h,s.pendingProps),qm(n,s,h,g,o);case 3:t:{if(Mt(s,s.stateNode.containerInfo),n===null)throw Error(i(387));h=s.pendingProps;var y=s.memoizedState;g=y.element,Hu(n,s),vr(s,h,null,o);var w=s.memoizedState;if(h=w.cache,Ri(s,be,h),h!==y.cache&&Bu(s,[be],o,!0),yr(),h=w.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=Xm(n,s,h,o);break t}else if(h!==g){g=mn(Error(i(424)),s),ur(g),s=Xm(n,s,h,o);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Jt=Ln(n.firstChild),Ue=s,Ot=!0,ds=null,In=!0,o=Rm(s,null,h,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(cr(),h===g){s=ci(n,s,o);break t}Me(n,s,h,o)}s=s.child}return s;case 26:return Dl(n,s),n===null?(o=tv(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ot||(o=s.type,n=s.pendingProps,h=ql(at.current).createElement(o),h[Ne]=s,h[Xe]=n,Le(h,o,n),Ee(h),s.stateNode=h):s.memoizedState=tv(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return It(s),n===null&&Ot&&(h=s.stateNode=Qy(s.type,s.pendingProps,at.current),Ue=s,In=!0,g=Jt,Hi(s.type)?(td=g,Jt=Ln(h.firstChild)):Jt=g),Me(n,s,s.pendingProps.children,o),Dl(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ot&&((g=h=Jt)&&(h=n1(h,s.type,s.pendingProps,In),h!==null?(s.stateNode=h,Ue=s,Jt=Ln(h.firstChild),In=!1,g=!0):g=!1),g||fs(s)),It(s),g=s.type,y=s.pendingProps,w=n!==null?n.memoizedProps:null,h=y.children,Wh(g,y)?h=null:w!==null&&Wh(g,w)&&(s.flags|=32),s.memoizedState!==null&&(g=Ku(n,s,AE,null,null,o),zr._currentValue=g),Dl(n,s),Me(n,s,h,o),s.child;case 6:return n===null&&Ot&&((n=o=Jt)&&(o=i1(o,s.pendingProps,In),o!==null?(s.stateNode=o,Ue=s,Jt=null,n=!0):n=!1),n||fs(s)),null;case 13:return Ym(n,s,o);case 4:return Mt(s,s.stateNode.containerInfo),h=s.pendingProps,n===null?s.child=ha(s,null,h,o):Me(n,s,h,o),s.child;case 11:return Vm(n,s,s.type,s.pendingProps,o);case 7:return Me(n,s,s.pendingProps,o),s.child;case 8:return Me(n,s,s.pendingProps.children,o),s.child;case 12:return Me(n,s,s.pendingProps.children,o),s.child;case 10:return h=s.pendingProps,Ri(s,s.type,h.value),Me(n,s,h.children,o),s.child;case 9:return g=s.type._context,h=s.pendingProps.children,gs(s),g=ke(g),h=h(g),s.flags|=1,Me(n,s,h,o),s.child;case 14:return zm(n,s,s.type,s.pendingProps,o);case 15:return Um(n,s,s.type,s.pendingProps,o);case 19:return Km(n,s,o);case 31:return h=s.pendingProps,o=s.mode,h={mode:h.mode,children:h.children},n===null?(o=Ll(h,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=ni(n.child,h),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return jm(n,s,o);case 24:return gs(s),h=ke(be),n===null?(g=zu(),g===null&&(g=Ht,y=Fu(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=o),g=y),s.memoizedState={parent:h,cache:g},ju(s),Ri(s,be,g)):((n.lanes&o)!==0&&(Hu(n,s),vr(s,null,null,o),yr()),g=n.memoizedState,y=s.memoizedState,g.parent!==h?(g={parent:h,cache:h},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Ri(s,be,h)):(h=y.cache,Ri(s,be,h),h!==g.cache&&Bu(s,[be],o,!0))),Me(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ui(n){n.flags|=4}function Qm(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!av(s)){if(s=An.current,s!==null&&((Dt&4194048)===Dt?Bn!==null:(Dt&62914560)!==Dt&&(Dt&536870912)===0||s!==Bn))throw gr=Uu,Ng;n.flags|=8192}}function Ol(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Mp():536870912,n.lanes|=s,ga|=s)}function xr(n,s){if(!Ot)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function $t(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,h=0;if(s)for(var g=n.child;g!==null;)o|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)o|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=h,n.childLanes=o,s}function ME(n,s,o){var h=s.pendingProps;switch(Pu(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(s),null;case 1:return $t(s),null;case 3:return o=s.stateNode,h=null,n!==null&&(h=n.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),ri(be),me(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(lr(s)?ui(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Mg())),$t(s),null;case 26:return o=s.memoizedState,n===null?(ui(s),o!==null?($t(s),Qm(s,o)):($t(s),s.flags&=-16777217)):o?o!==n.memoizedState?(ui(s),$t(s),Qm(s,o)):($t(s),s.flags&=-16777217):(n.memoizedProps!==h&&ui(s),$t(s),s.flags&=-16777217),null;case 27:qe(s),o=at.current;var g=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==h&&ui(s);else{if(!h){if(s.stateNode===null)throw Error(i(166));return $t(s),null}n=nt.current,lr(s)?Cg(s):(n=Qy(g,h,o),s.stateNode=n,ui(s))}return $t(s),null;case 5:if(qe(s),o=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==h&&ui(s);else{if(!h){if(s.stateNode===null)throw Error(i(166));return $t(s),null}if(n=nt.current,lr(s))Cg(s);else{switch(g=ql(at.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?n.multiple=!0:h.size&&(n.size=h.size);break;default:n=typeof h.is=="string"?g.createElement(o,{is:h.is}):g.createElement(o)}}n[Ne]=s,n[Xe]=h;t:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break t;for(;g.sibling===null;){if(g.return===null||g.return===s)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=n;t:switch(Le(n,o,h),o){case"button":case"input":case"select":case"textarea":n=!!h.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&ui(s)}}return $t(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==h&&ui(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(i(166));if(n=at.current,lr(s)){if(n=s.stateNode,o=s.memoizedProps,h=null,g=Ue,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}n[Ne]=s,n=!!(n.nodeValue===o||h!==null&&h.suppressHydrationWarning===!0||Gy(n.nodeValue,o)),n||fs(s)}else n=ql(n).createTextNode(h),n[Ne]=s,s.stateNode=n}return $t(s),null;case 13:if(h=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=lr(s),h!==null&&h.dehydrated!==null){if(n===null){if(!g)throw Error(i(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Ne]=s}else cr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$t(s),g=!1}else g=Mg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(li(s),s):(li(s),null)}if(li(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=h!==null,n=n!==null&&n.memoizedState!==null,o){h=s.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)}return o!==n&&o&&(s.child.flags|=8192),Ol(s,s.updateQueue),$t(s),null;case 4:return me(),n===null&&qh(s.stateNode.containerInfo),$t(s),null;case 10:return ri(s.type),$t(s),null;case 19:if(J(Ae),g=s.memoizedState,g===null)return $t(s),null;if(h=(s.flags&128)!==0,y=g.rendering,y===null)if(h)xr(g,!1);else{if(te!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(y=Cl(n),y!==null){for(s.flags|=128,xr(g,!1),n=y.updateQueue,s.updateQueue=n,Ol(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)xg(o,n),o=o.sibling;return Q(Ae,Ae.current&1|2),s.child}n=n.sibling}g.tail!==null&&ve()>kl&&(s.flags|=128,h=!0,xr(g,!1),s.lanes=4194304)}else{if(!h)if(n=Cl(y),n!==null){if(s.flags|=128,h=!0,n=n.updateQueue,s.updateQueue=n,Ol(s,n),xr(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Ot)return $t(s),null}else 2*ve()-g.renderingStartTime>kl&&o!==536870912&&(s.flags|=128,h=!0,xr(g,!1),s.lanes=4194304);g.isBackwards?(y.sibling=s.child,s.child=y):(n=g.last,n!==null?n.sibling=y:s.child=y,g.last=y)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=ve(),s.sibling=null,n=Ae.current,Q(Ae,h?n&1|2:n&1),s):($t(s),null);case 22:case 23:return li(s),Yu(),h=s.memoizedState!==null,n!==null?n.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(o&536870912)!==0&&(s.flags&128)===0&&($t(s),s.subtreeFlags&6&&(s.flags|=8192)):$t(s),o=s.updateQueue,o!==null&&Ol(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==o&&(s.flags|=2048),n!==null&&J(ms),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ri(be),$t(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function DE(n,s){switch(Pu(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ri(be),me(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return qe(s),null;case 13:if(li(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));cr()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return J(Ae),null;case 4:return me(),null;case 10:return ri(s.type),null;case 22:case 23:return li(s),Yu(),n!==null&&J(ms),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ri(be),null;case 25:return null;default:return null}}function Zm(n,s){switch(Pu(s),s.tag){case 3:ri(be),me();break;case 26:case 27:case 5:qe(s);break;case 4:me();break;case 13:li(s);break;case 19:J(Ae);break;case 10:ri(s.type);break;case 22:case 23:li(s),Yu(),n!==null&&J(ms);break;case 24:ri(be)}}function _r(n,s){try{var o=s.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var g=h.next;o=g;do{if((o.tag&n)===n){h=void 0;var y=o.create,w=o.inst;h=y(),w.destroy=h}o=o.next}while(o!==g)}}catch(x){Ut(s,s.return,x)}}function ki(n,s,o){try{var h=s.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&n)===n){var w=h.inst,x=w.destroy;if(x!==void 0){w.destroy=void 0,g=s;var M=o,z=x;try{z()}catch(q){Ut(g,M,q)}}}h=h.next}while(h!==y)}}catch(q){Ut(s,s.return,q)}}function Jm(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{zg(s,o)}catch(h){Ut(n,n.return,h)}}}function ty(n,s,o){o.props=vs(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(h){Ut(n,s,h)}}function Cr(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var h=n.stateNode;break;case 30:h=n.stateNode;break;default:h=n.stateNode}typeof o=="function"?n.refCleanup=o(h):o.current=h}}catch(g){Ut(n,s,g)}}function Fn(n,s){var o=n.ref,h=n.refCleanup;if(o!==null)if(typeof h=="function")try{h()}catch(g){Ut(n,s,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){Ut(n,s,g)}else o.current=null}function ey(n){var s=n.type,o=n.memoizedProps,h=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&h.focus();break t;case"img":o.src?h.src=o.src:o.srcSet&&(h.srcset=o.srcSet)}}catch(g){Ut(n,n.return,g)}}function Sh(n,s,o){try{var h=n.stateNode;QE(h,n.type,o,s),h[Xe]=s}catch(g){Ut(n,n.return,g)}}function ny(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Hi(n.type)||n.tag===4}function wh(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||ny(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Hi(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Eh(n,s,o){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Gl));else if(h!==4&&(h===27&&Hi(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(Eh(n,s,o),n=n.sibling;n!==null;)Eh(n,s,o),n=n.sibling}function Pl(n,s,o){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(h!==4&&(h===27&&Hi(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Pl(n,s,o),n=n.sibling;n!==null;)Pl(n,s,o),n=n.sibling}function iy(n){var s=n.stateNode,o=n.memoizedProps;try{for(var h=n.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Le(s,h,o),s[Ne]=n,s[Xe]=o}catch(y){Ut(n,n.return,y)}}var hi=!1,ie=!1,Th=!1,sy=typeof WeakSet=="function"?WeakSet:Set,xe=null;function LE(n,s){if(n=n.containerInfo,$h=Ql,n=gg(n),wu(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else t:{o=(o=n.ownerDocument)&&o.defaultView||window;var h=o.getSelection&&o.getSelection();if(h&&h.rangeCount!==0){o=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break t}var w=0,x=-1,M=-1,z=0,q=0,K=n,j=null;e:for(;;){for(var H;K!==o||g!==0&&K.nodeType!==3||(x=w+g),K!==y||h!==0&&K.nodeType!==3||(M=w+h),K.nodeType===3&&(w+=K.nodeValue.length),(H=K.firstChild)!==null;)j=K,K=H;for(;;){if(K===n)break e;if(j===o&&++z===g&&(x=w),j===y&&++q===h&&(M=w),(H=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=H}o=x===-1||M===-1?null:{start:x,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(Kh={focusedElem:n,selectionRange:o},Ql=!1,xe=s;xe!==null;)if(s=xe,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,xe=n;else for(;xe!==null;){switch(s=xe,y=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,o=s,g=y.memoizedProps,y=y.memoizedState,h=o.stateNode;try{var mt=vs(o.type,g,o.elementType===o.type);n=h.getSnapshotBeforeUpdate(mt,y),h.__reactInternalSnapshotBeforeUpdate=n}catch(ht){Ut(o,o.return,ht)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)Zh(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Zh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,xe=n;break}xe=s.return}}function ay(n,s,o){var h=o.flags;switch(o.tag){case 0:case 11:case 15:Ii(n,o),h&4&&_r(5,o);break;case 1:if(Ii(n,o),h&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(w){Ut(o,o.return,w)}else{var g=vs(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(g,s,n.__reactInternalSnapshotBeforeUpdate)}catch(w){Ut(o,o.return,w)}}h&64&&Jm(o),h&512&&Cr(o,o.return);break;case 3:if(Ii(n,o),h&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{zg(n,s)}catch(w){Ut(o,o.return,w)}}break;case 27:s===null&&h&4&&iy(o);case 26:case 5:Ii(n,o),s===null&&h&4&&ey(o),h&512&&Cr(o,o.return);break;case 12:Ii(n,o);break;case 13:Ii(n,o),h&4&&ly(n,o),h&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=zE.bind(null,o),s1(n,o))));break;case 22:if(h=o.memoizedState!==null||hi,!h){s=s!==null&&s.memoizedState!==null||ie,g=hi;var y=ie;hi=h,(ie=s)&&!y?Bi(n,o,(o.subtreeFlags&8772)!==0):Ii(n,o),hi=g,ie=y}break;case 30:break;default:Ii(n,o)}}function ry(n){var s=n.alternate;s!==null&&(n.alternate=null,ry(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&iu(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Gt=null,Ke=!1;function di(n,s,o){for(o=o.child;o!==null;)oy(n,s,o),o=o.sibling}function oy(n,s,o){if(ue&&typeof ue.onCommitFiberUnmount=="function")try{ue.onCommitFiberUnmount(is,o)}catch{}switch(o.tag){case 26:ie||Fn(o,s),di(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ie||Fn(o,s);var h=Gt,g=Ke;Hi(o.type)&&(Gt=o.stateNode,Ke=!1),di(n,s,o),Ir(o.stateNode),Gt=h,Ke=g;break;case 5:ie||Fn(o,s);case 6:if(h=Gt,g=Ke,Gt=null,di(n,s,o),Gt=h,Ke=g,Gt!==null)if(Ke)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(o.stateNode)}catch(y){Ut(o,s,y)}else try{Gt.removeChild(o.stateNode)}catch(y){Ut(o,s,y)}break;case 18:Gt!==null&&(Ke?(n=Gt,Ky(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Gr(n)):Ky(Gt,o.stateNode));break;case 4:h=Gt,g=Ke,Gt=o.stateNode.containerInfo,Ke=!0,di(n,s,o),Gt=h,Ke=g;break;case 0:case 11:case 14:case 15:ie||ki(2,o,s),ie||ki(4,o,s),di(n,s,o);break;case 1:ie||(Fn(o,s),h=o.stateNode,typeof h.componentWillUnmount=="function"&&ty(o,s,h)),di(n,s,o);break;case 21:di(n,s,o);break;case 22:ie=(h=ie)||o.memoizedState!==null,di(n,s,o),ie=h;break;default:di(n,s,o)}}function ly(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Gr(n)}catch(o){Ut(s,s.return,o)}}function OE(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new sy),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new sy),s;default:throw Error(i(435,n.tag))}}function xh(n,s){var o=OE(n);s.forEach(function(h){var g=UE.bind(null,n,h);o.has(h)||(o.add(h),h.then(g,g))})}function rn(n,s){var o=s.deletions;if(o!==null)for(var h=0;h<o.length;h++){var g=o[h],y=n,w=s,x=w;t:for(;x!==null;){switch(x.tag){case 27:if(Hi(x.type)){Gt=x.stateNode,Ke=!1;break t}break;case 5:Gt=x.stateNode,Ke=!1;break t;case 3:case 4:Gt=x.stateNode.containerInfo,Ke=!0;break t}x=x.return}if(Gt===null)throw Error(i(160));oy(y,w,g),Gt=null,Ke=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)cy(s,n),s=s.sibling}var Dn=null;function cy(n,s){var o=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:rn(s,n),on(n),h&4&&(ki(3,n,n.return),_r(3,n),ki(5,n,n.return));break;case 1:rn(s,n),on(n),h&512&&(ie||o===null||Fn(o,o.return)),h&64&&hi&&(n=n.updateQueue,n!==null&&(h=n.callbacks,h!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?h:o.concat(h))));break;case 26:var g=Dn;if(rn(s,n),on(n),h&512&&(ie||o===null||Fn(o,o.return)),h&4){var y=o!==null?o.memoizedState:null;if(h=n.memoizedState,o===null)if(h===null)if(n.stateNode===null){t:{h=n.type,o=n.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Qa]||y[Ne]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),Le(y,h,o),y[Ne]=n,Ee(y),h=y;break t;case"link":var w=iv("link","href",g).get(h+(o.href||""));if(w){for(var x=0;x<w.length;x++)if(y=w[x],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(x,1);break e}}y=g.createElement(h),Le(y,h,o),g.head.appendChild(y);break;case"meta":if(w=iv("meta","content",g).get(h+(o.content||""))){for(x=0;x<w.length;x++)if(y=w[x],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(x,1);break e}}y=g.createElement(h),Le(y,h,o),g.head.appendChild(y);break;default:throw Error(i(468,h))}y[Ne]=n,Ee(y),h=y}n.stateNode=h}else sv(g,n.type,n.stateNode);else n.stateNode=nv(g,h,n.memoizedProps);else y!==h?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,h===null?sv(g,n.type,n.stateNode):nv(g,h,n.memoizedProps)):h===null&&n.stateNode!==null&&Sh(n,n.memoizedProps,o.memoizedProps)}break;case 27:rn(s,n),on(n),h&512&&(ie||o===null||Fn(o,o.return)),o!==null&&h&4&&Sh(n,n.memoizedProps,o.memoizedProps);break;case 5:if(rn(s,n),on(n),h&512&&(ie||o===null||Fn(o,o.return)),n.flags&32){g=n.stateNode;try{Ys(g,"")}catch(H){Ut(n,n.return,H)}}h&4&&n.stateNode!=null&&(g=n.memoizedProps,Sh(n,g,o!==null?o.memoizedProps:g)),h&1024&&(Th=!0);break;case 6:if(rn(s,n),on(n),h&4){if(n.stateNode===null)throw Error(i(162));h=n.memoizedProps,o=n.stateNode;try{o.nodeValue=h}catch(H){Ut(n,n.return,H)}}break;case 3:if($l=null,g=Dn,Dn=Xl(s.containerInfo),rn(s,n),Dn=g,on(n),h&4&&o!==null&&o.memoizedState.isDehydrated)try{Gr(s.containerInfo)}catch(H){Ut(n,n.return,H)}Th&&(Th=!1,uy(n));break;case 4:h=Dn,Dn=Xl(n.stateNode.containerInfo),rn(s,n),on(n),Dn=h;break;case 12:rn(s,n),on(n);break;case 13:rn(s,n),on(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Lh=ve()),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,xh(n,h)));break;case 22:g=n.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,z=hi,q=ie;if(hi=z||g,ie=q||M,rn(s,n),ie=q,hi=z,on(n),h&8192)t:for(s=n.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(o===null||M||hi||ie||bs(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){M=o=s;try{if(y=M.stateNode,g)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{x=M.stateNode;var K=M.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;x.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(H){Ut(M,M.return,H)}}}else if(s.tag===6){if(o===null){M=s;try{M.stateNode.nodeValue=g?"":M.memoizedProps}catch(H){Ut(M,M.return,H)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=n.updateQueue,h!==null&&(o=h.retryQueue,o!==null&&(h.retryQueue=null,xh(n,o))));break;case 19:rn(s,n),on(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,xh(n,h)));break;case 30:break;case 21:break;default:rn(s,n),on(n)}}function on(n){var s=n.flags;if(s&2){try{for(var o,h=n.return;h!==null;){if(ny(h)){o=h;break}h=h.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var g=o.stateNode,y=wh(n);Pl(n,y,g);break;case 5:var w=o.stateNode;o.flags&32&&(Ys(w,""),o.flags&=-33);var x=wh(n);Pl(n,x,w);break;case 3:case 4:var M=o.stateNode.containerInfo,z=wh(n);Eh(n,z,M);break;default:throw Error(i(161))}}catch(q){Ut(n,n.return,q)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function uy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;uy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Ii(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ay(n,s.alternate,s),s=s.sibling}function bs(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:ki(4,s,s.return),bs(s);break;case 1:Fn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&ty(s,s.return,o),bs(s);break;case 27:Ir(s.stateNode);case 26:case 5:Fn(s,s.return),bs(s);break;case 22:s.memoizedState===null&&bs(s);break;case 30:bs(s);break;default:bs(s)}n=n.sibling}}function Bi(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,g=n,y=s,w=y.flags;switch(y.tag){case 0:case 11:case 15:Bi(g,y,o),_r(4,y);break;case 1:if(Bi(g,y,o),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(z){Ut(h,h.return,z)}if(h=y,g=h.updateQueue,g!==null){var x=h.stateNode;try{var M=g.shared.hiddenCallbacks;if(M!==null)for(g.shared.hiddenCallbacks=null,g=0;g<M.length;g++)Vg(M[g],x)}catch(z){Ut(h,h.return,z)}}o&&w&64&&Jm(y),Cr(y,y.return);break;case 27:iy(y);case 26:case 5:Bi(g,y,o),o&&h===null&&w&4&&ey(y),Cr(y,y.return);break;case 12:Bi(g,y,o);break;case 13:Bi(g,y,o),o&&w&4&&ly(g,y);break;case 22:y.memoizedState===null&&Bi(g,y,o),Cr(y,y.return);break;case 30:break;default:Bi(g,y,o)}s=s.sibling}}function _h(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&dr(o))}function Ch(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&dr(n))}function Vn(n,s,o,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)hy(n,s,o,h),s=s.sibling}function hy(n,s,o,h){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Vn(n,s,o,h),g&2048&&_r(9,s);break;case 1:Vn(n,s,o,h);break;case 3:Vn(n,s,o,h),g&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&dr(n)));break;case 12:if(g&2048){Vn(n,s,o,h),n=s.stateNode;try{var y=s.memoizedProps,w=y.id,x=y.onPostCommit;typeof x=="function"&&x(w,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){Ut(s,s.return,M)}}else Vn(n,s,o,h);break;case 13:Vn(n,s,o,h);break;case 23:break;case 22:y=s.stateNode,w=s.alternate,s.memoizedState!==null?y._visibility&2?Vn(n,s,o,h):Rr(n,s):y._visibility&2?Vn(n,s,o,h):(y._visibility|=2,da(n,s,o,h,(s.subtreeFlags&10256)!==0)),g&2048&&_h(w,s);break;case 24:Vn(n,s,o,h),g&2048&&Ch(s.alternate,s);break;default:Vn(n,s,o,h)}}function da(n,s,o,h,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=n,w=s,x=o,M=h,z=w.flags;switch(w.tag){case 0:case 11:case 15:da(y,w,x,M,g),_r(8,w);break;case 23:break;case 22:var q=w.stateNode;w.memoizedState!==null?q._visibility&2?da(y,w,x,M,g):Rr(y,w):(q._visibility|=2,da(y,w,x,M,g)),g&&z&2048&&_h(w.alternate,w);break;case 24:da(y,w,x,M,g),g&&z&2048&&Ch(w.alternate,w);break;default:da(y,w,x,M,g)}s=s.sibling}}function Rr(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,h=s,g=h.flags;switch(h.tag){case 22:Rr(o,h),g&2048&&_h(h.alternate,h);break;case 24:Rr(o,h),g&2048&&Ch(h.alternate,h);break;default:Rr(o,h)}s=s.sibling}}var Mr=8192;function fa(n){if(n.subtreeFlags&Mr)for(n=n.child;n!==null;)dy(n),n=n.sibling}function dy(n){switch(n.tag){case 26:fa(n),n.flags&Mr&&n.memoizedState!==null&&y1(Dn,n.memoizedState,n.memoizedProps);break;case 5:fa(n);break;case 3:case 4:var s=Dn;Dn=Xl(n.stateNode.containerInfo),fa(n),Dn=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Mr,Mr=16777216,fa(n),Mr=s):fa(n));break;default:fa(n)}}function fy(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Dr(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var h=s[o];xe=h,gy(h,n)}fy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(n),n=n.sibling}function py(n){switch(n.tag){case 0:case 11:case 15:Dr(n),n.flags&2048&&ki(9,n,n.return);break;case 3:Dr(n);break;case 12:Dr(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Nl(n)):Dr(n);break;default:Dr(n)}}function Nl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var h=s[o];xe=h,gy(h,n)}fy(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:ki(8,s,s.return),Nl(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Nl(s));break;default:Nl(s)}n=n.sibling}}function gy(n,s){for(;xe!==null;){var o=xe;switch(o.tag){case 0:case 11:case 15:ki(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var h=o.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:dr(o.memoizedState.cache)}if(h=o.child,h!==null)h.return=o,xe=h;else t:for(o=n;xe!==null;){h=xe;var g=h.sibling,y=h.return;if(ry(h),h===o){xe=null;break t}if(g!==null){g.return=y,xe=g;break t}xe=y}}}var PE={getCacheForType:function(n){var s=ke(be),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o}},NE=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Ht=null,xt=null,Dt=0,kt=0,ln=null,Fi=!1,pa=!1,Rh=!1,fi=0,te=0,Vi=0,As=0,Mh=0,Sn=0,ga=0,Lr=null,We=null,Dh=!1,Lh=0,kl=1/0,Il=null,zi=null,De=0,Ui=null,ma=null,ya=0,Oh=0,Ph=null,my=null,Or=0,Nh=null;function cn(){if((Nt&2)!==0&&Dt!==0)return Dt&-Dt;if(N.T!==null){var n=sa;return n!==0?n:Uh()}return Op()}function yy(){Sn===0&&(Sn=(Dt&536870912)===0||Ot?Rp():536870912);var n=An.current;return n!==null&&(n.flags|=32),Sn}function un(n,s,o){(n===Ht&&(kt===2||kt===9)||n.cancelPendingCommit!==null)&&(va(n,0),ji(n,Dt,Sn,!1)),Wa(n,o),((Nt&2)===0||n!==Ht)&&(n===Ht&&((Nt&2)===0&&(As|=o),te===4&&ji(n,Dt,Sn,!1)),zn(n))}function vy(n,s,o){if((Nt&6)!==0)throw Error(i(327));var h=!o&&(s&124)===0&&(s&n.expiredLanes)===0||Ka(n,s),g=h?BE(n,s):Bh(n,s,!0),y=h;do{if(g===0){pa&&!h&&ji(n,s,0,!1);break}else{if(o=n.current.alternate,y&&!kE(o)){g=Bh(n,s,!1),y=!1;continue}if(g===2){if(y=s,n.errorRecoveryDisabledLanes&y)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;t:{var x=n;g=Lr;var M=x.current.memoizedState.isDehydrated;if(M&&(va(x,w).flags|=256),w=Bh(x,w,!1),w!==2){if(Rh&&!M){x.errorRecoveryDisabledLanes|=y,As|=y,g=4;break t}y=We,We=g,y!==null&&(We===null?We=y:We.push.apply(We,y))}g=w}if(y=!1,g!==2)continue}}if(g===1){va(n,0),ji(n,s,0,!0);break}t:{switch(h=n,y=g,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ji(h,s,Sn,!Fi);break t;case 2:We=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(g=Lh+300-ve(),10<g)){if(ji(h,s,Sn,!Fi),Yo(h,0,!0)!==0)break t;h.timeoutHandle=Yy(by.bind(null,h,o,We,Il,Dh,s,Sn,As,ga,Fi,y,2,-0,0),g);break t}by(h,o,We,Il,Dh,s,Sn,As,ga,Fi,y,0,-0,0)}}break}while(!0);zn(n)}function by(n,s,o,h,g,y,w,x,M,z,q,K,j,H){if(n.timeoutHandle=-1,K=s.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Vr={stylesheets:null,count:0,unsuspend:m1},dy(s),K=v1(),K!==null)){n.cancelPendingCommit=K(_y.bind(null,n,s,y,o,h,g,w,x,M,q,1,j,H)),ji(n,y,w,!z);return}_y(n,s,y,o,h,g,w,x,M)}function kE(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var h=0;h<o.length;h++){var g=o[h],y=g.getSnapshot;g=g.value;try{if(!sn(y(),g))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ji(n,s,o,h){s&=~Mh,s&=~As,n.suspendedLanes|=s,n.pingedLanes&=~s,h&&(n.warmLanes|=s),h=n.expirationTimes;for(var g=s;0<g;){var y=31-we(g),w=1<<y;h[y]=-1,g&=~w}o!==0&&Dp(n,o,s)}function Bl(){return(Nt&6)===0?(Pr(0),!1):!0}function kh(){if(xt!==null){if(kt===0)var n=xt.return;else n=xt,ai=ps=null,Zu(n),ua=null,Er=0,n=xt;for(;n!==null;)Zm(n.alternate,n),n=n.return;xt=null}}function va(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,JE(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),kh(),Ht=n,xt=o=ni(n.current,null),Dt=s,kt=0,ln=null,Fi=!1,pa=Ka(n,s),Rh=!1,ga=Sn=Mh=As=Vi=te=0,We=Lr=null,Dh=!1,(s&8)!==0&&(s|=s&32);var h=n.entangledLanes;if(h!==0)for(n=n.entanglements,h&=s;0<h;){var g=31-we(h),y=1<<g;s|=n[g],h&=~y}return fi=s,al(),o}function Ay(n,s){Et=null,N.H=Tl,s===pr||s===pl?(s=Bg(),kt=3):s===Ng?(s=Bg(),kt=4):kt=s===Fm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ln=s,xt===null&&(te=1,Ml(n,mn(s,n.current)))}function Sy(){var n=N.H;return N.H=Tl,n===null?Tl:n}function wy(){var n=N.A;return N.A=PE,n}function Ih(){te=4,Fi||(Dt&4194048)!==Dt&&An.current!==null||(pa=!0),(Vi&134217727)===0&&(As&134217727)===0||Ht===null||ji(Ht,Dt,Sn,!1)}function Bh(n,s,o){var h=Nt;Nt|=2;var g=Sy(),y=wy();(Ht!==n||Dt!==s)&&(Il=null,va(n,s)),s=!1;var w=te;t:do try{if(kt!==0&&xt!==null){var x=xt,M=ln;switch(kt){case 8:kh(),w=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(s=!0);var z=kt;if(kt=0,ln=null,ba(n,x,M,z),o&&pa){w=0;break t}break;default:z=kt,kt=0,ln=null,ba(n,x,M,z)}}IE(),w=te;break}catch(q){Ay(n,q)}while(!0);return s&&n.shellSuspendCounter++,ai=ps=null,Nt=h,N.H=g,N.A=y,xt===null&&(Ht=null,Dt=0,al()),w}function IE(){for(;xt!==null;)Ey(xt)}function BE(n,s){var o=Nt;Nt|=2;var h=Sy(),g=wy();Ht!==n||Dt!==s?(Il=null,kl=ve()+500,va(n,s)):pa=Ka(n,s);t:do try{if(kt!==0&&xt!==null){s=xt;var y=ln;e:switch(kt){case 1:kt=0,ln=null,ba(n,s,y,1);break;case 2:case 9:if(kg(y)){kt=0,ln=null,Ty(s);break}s=function(){kt!==2&&kt!==9||Ht!==n||(kt=7),zn(n)},y.then(s,s);break t;case 3:kt=7;break t;case 4:kt=5;break t;case 7:kg(y)?(kt=0,ln=null,Ty(s)):(kt=0,ln=null,ba(n,s,y,7));break;case 5:var w=null;switch(xt.tag){case 26:w=xt.memoizedState;case 5:case 27:var x=xt;if(!w||av(w)){kt=0,ln=null;var M=x.sibling;if(M!==null)xt=M;else{var z=x.return;z!==null?(xt=z,Fl(z)):xt=null}break e}}kt=0,ln=null,ba(n,s,y,5);break;case 6:kt=0,ln=null,ba(n,s,y,6);break;case 8:kh(),te=6;break t;default:throw Error(i(462))}}FE();break}catch(q){Ay(n,q)}while(!0);return ai=ps=null,N.H=h,N.A=g,Nt=o,xt!==null?0:(Ht=null,Dt=0,al(),te)}function FE(){for(;xt!==null&&!ce();)Ey(xt)}function Ey(n){var s=Wm(n.alternate,n,fi);n.memoizedProps=n.pendingProps,s===null?Fl(n):xt=s}function Ty(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=Gm(o,s,s.pendingProps,s.type,void 0,Dt);break;case 11:s=Gm(o,s,s.pendingProps,s.type.render,s.ref,Dt);break;case 5:Zu(s);default:Zm(o,s),s=xt=xg(s,fi),s=Wm(o,s,fi)}n.memoizedProps=n.pendingProps,s===null?Fl(n):xt=s}function ba(n,s,o,h){ai=ps=null,Zu(s),ua=null,Er=0;var g=s.return;try{if(CE(n,g,s,o,Dt)){te=1,Ml(n,mn(o,n.current)),xt=null;return}}catch(y){if(g!==null)throw xt=g,y;te=1,Ml(n,mn(o,n.current)),xt=null;return}s.flags&32768?(Ot||h===1?n=!0:pa||(Dt&536870912)!==0?n=!1:(Fi=n=!0,(h===2||h===9||h===3||h===6)&&(h=An.current,h!==null&&h.tag===13&&(h.flags|=16384))),xy(s,n)):Fl(s)}function Fl(n){var s=n;do{if((s.flags&32768)!==0){xy(s,Fi);return}n=s.return;var o=ME(s.alternate,s,fi);if(o!==null){xt=o;return}if(s=s.sibling,s!==null){xt=s;return}xt=s=n}while(s!==null);te===0&&(te=5)}function xy(n,s){do{var o=DE(n.alternate,n);if(o!==null){o.flags&=32767,xt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){xt=n;return}xt=n=o}while(n!==null);te=6,xt=null}function _y(n,s,o,h,g,y,w,x,M){n.cancelPendingCommit=null;do Vl();while(De!==0);if((Nt&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=Cu,mw(n,o,y,w,x,M),n===Ht&&(xt=Ht=null,Dt=0),ma=s,Ui=n,ya=o,Oh=y,Ph=g,my=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,jE(Jn,function(){return Ly(),null})):(n.callbackNode=null,n.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=N.T,N.T=null,g=F.p,F.p=2,w=Nt,Nt|=4;try{LE(n,s,o)}finally{Nt=w,F.p=g,N.T=h}}De=1,Cy(),Ry(),My()}}function Cy(){if(De===1){De=0;var n=Ui,s=ma,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=N.T,N.T=null;var h=F.p;F.p=2;var g=Nt;Nt|=4;try{cy(s,n);var y=Kh,w=gg(n.containerInfo),x=y.focusedElem,M=y.selectionRange;if(w!==x&&x&&x.ownerDocument&&pg(x.ownerDocument.documentElement,x)){if(M!==null&&wu(x)){var z=M.start,q=M.end;if(q===void 0&&(q=z),"selectionStart"in x)x.selectionStart=z,x.selectionEnd=Math.min(q,x.value.length);else{var K=x.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var H=j.getSelection(),mt=x.textContent.length,ht=Math.min(M.start,mt),Vt=M.end===void 0?ht:Math.min(M.end,mt);!H.extend&&ht>Vt&&(w=Vt,Vt=ht,ht=w);var B=fg(x,ht),P=fg(x,Vt);if(B&&P&&(H.rangeCount!==1||H.anchorNode!==B.node||H.anchorOffset!==B.offset||H.focusNode!==P.node||H.focusOffset!==P.offset)){var V=K.createRange();V.setStart(B.node,B.offset),H.removeAllRanges(),ht>Vt?(H.addRange(V),H.extend(P.node,P.offset)):(V.setEnd(P.node,P.offset),H.addRange(V))}}}}for(K=[],H=x;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<K.length;x++){var $=K[x];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Ql=!!$h,Kh=$h=null}finally{Nt=g,F.p=h,N.T=o}}n.current=s,De=2}}function Ry(){if(De===2){De=0;var n=Ui,s=ma,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=N.T,N.T=null;var h=F.p;F.p=2;var g=Nt;Nt|=4;try{ay(n,s.alternate,s)}finally{Nt=g,F.p=h,N.T=o}}De=3}}function My(){if(De===4||De===3){De=0,Yt();var n=Ui,s=ma,o=ya,h=my;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?De=5:(De=0,ma=Ui=null,Dy(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(zi=null),eu(o),s=s.stateNode,ue&&typeof ue.onCommitFiberRoot=="function")try{ue.onCommitFiberRoot(is,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=N.T,g=F.p,F.p=2,N.T=null;try{for(var y=n.onRecoverableError,w=0;w<h.length;w++){var x=h[w];y(x.value,{componentStack:x.stack})}}finally{N.T=s,F.p=g}}(ya&3)!==0&&Vl(),zn(n),g=n.pendingLanes,(o&4194090)!==0&&(g&42)!==0?n===Nh?Or++:(Or=0,Nh=n):Or=0,Pr(0)}}function Dy(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,dr(s)))}function Vl(n){return Cy(),Ry(),My(),Ly()}function Ly(){if(De!==5)return!1;var n=Ui,s=Oh;Oh=0;var o=eu(ya),h=N.T,g=F.p;try{F.p=32>o?32:o,N.T=null,o=Ph,Ph=null;var y=Ui,w=ya;if(De=0,ma=Ui=null,ya=0,(Nt&6)!==0)throw Error(i(331));var x=Nt;if(Nt|=4,py(y.current),hy(y,y.current,w,o),Nt=x,Pr(0,!1),ue&&typeof ue.onPostCommitFiberRoot=="function")try{ue.onPostCommitFiberRoot(is,y)}catch{}return!0}finally{F.p=g,N.T=h,Dy(n,s)}}function Oy(n,s,o){s=mn(o,s),s=dh(n.stateNode,s,2),n=Li(n,s,2),n!==null&&(Wa(n,2),zn(n))}function Ut(n,s,o){if(n.tag===3)Oy(n,n,o);else for(;s!==null;){if(s.tag===3){Oy(s,n,o);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(zi===null||!zi.has(h))){n=mn(o,n),o=Im(2),h=Li(s,o,2),h!==null&&(Bm(o,h,s,n),Wa(h,2),zn(h));break}}s=s.return}}function Fh(n,s,o){var h=n.pingCache;if(h===null){h=n.pingCache=new NE;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(o)||(Rh=!0,g.add(o),n=VE.bind(null,n,s,o),s.then(n,n))}function VE(n,s,o){var h=n.pingCache;h!==null&&h.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Ht===n&&(Dt&o)===o&&(te===4||te===3&&(Dt&62914560)===Dt&&300>ve()-Lh?(Nt&2)===0&&va(n,0):Mh|=o,ga===Dt&&(ga=0)),zn(n)}function Py(n,s){s===0&&(s=Mp()),n=ta(n,s),n!==null&&(Wa(n,s),zn(n))}function zE(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),Py(n,o)}function UE(n,s){var o=0;switch(n.tag){case 13:var h=n.stateNode,g=n.memoizedState;g!==null&&(o=g.retryLane);break;case 19:h=n.stateNode;break;case 22:h=n.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(s),Py(n,o)}function jE(n,s){return ye(n,s)}var zl=null,Aa=null,Vh=!1,Ul=!1,zh=!1,Ss=0;function zn(n){n!==Aa&&n.next===null&&(Aa===null?zl=Aa=n:Aa=Aa.next=n),Ul=!0,Vh||(Vh=!0,GE())}function Pr(n,s){if(!zh&&Ul){zh=!0;do for(var o=!1,h=zl;h!==null;){if(n!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var w=h.suspendedLanes,x=h.pingedLanes;y=(1<<31-we(42|n)+1)-1,y&=g&~(w&~x),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,By(h,y))}else y=Dt,y=Yo(h,h===Ht?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Ka(h,y)||(o=!0,By(h,y));h=h.next}while(o);zh=!1}}function HE(){Ny()}function Ny(){Ul=Vh=!1;var n=0;Ss!==0&&(ZE()&&(n=Ss),Ss=0);for(var s=ve(),o=null,h=zl;h!==null;){var g=h.next,y=ky(h,s);y===0?(h.next=null,o===null?zl=g:o.next=g,g===null&&(Aa=o)):(o=h,(n!==0||(y&3)!==0)&&(Ul=!0)),h=g}Pr(n)}function ky(n,s){for(var o=n.suspendedLanes,h=n.pingedLanes,g=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var w=31-we(y),x=1<<w,M=g[w];M===-1?((x&o)===0||(x&h)!==0)&&(g[w]=gw(x,s)):M<=s&&(n.expiredLanes|=x),y&=~x}if(s=Ht,o=Dt,o=Yo(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h=n.callbackNode,o===0||n===s&&(kt===2||kt===9)||n.cancelPendingCommit!==null)return h!==null&&h!==null&&Pt(h),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Ka(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(h!==null&&Pt(h),eu(o)){case 2:case 8:o=Ho;break;case 32:o=Jn;break;case 268435456:o=Go;break;default:o=Jn}return h=Iy.bind(null,n),o=ye(o,h),n.callbackPriority=s,n.callbackNode=o,s}return h!==null&&h!==null&&Pt(h),n.callbackPriority=2,n.callbackNode=null,2}function Iy(n,s){if(De!==0&&De!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Vl()&&n.callbackNode!==o)return null;var h=Dt;return h=Yo(n,n===Ht?h:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h===0?null:(vy(n,h,s),ky(n,ve()),n.callbackNode!=null&&n.callbackNode===o?Iy.bind(null,n):null)}function By(n,s){if(Vl())return null;vy(n,s,!0)}function GE(){t1(function(){(Nt&6)!==0?ye(xi,HE):Ny()})}function Uh(){return Ss===0&&(Ss=Rp()),Ss}function Fy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Zo(""+n)}function Vy(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function qE(n,s,o,h,g){if(s==="submit"&&o&&o.stateNode===g){var y=Fy((g[Xe]||null).action),w=h.submitter;w&&(s=(s=w[Xe]||null)?Fy(s.formAction):w.getAttribute("formAction"),s!==null&&(y=s,w=null));var x=new nl("action","action",null,h,g);n.push({event:x,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ss!==0){var M=w?Vy(g,w):new FormData(g);oh(o,{pending:!0,data:M,method:g.method,action:y},null,M)}}else typeof y=="function"&&(x.preventDefault(),M=w?Vy(g,w):new FormData(g),oh(o,{pending:!0,data:M,method:g.method,action:y},y,M))},currentTarget:g}]})}}for(var jh=0;jh<_u.length;jh++){var Hh=_u[jh],XE=Hh.toLowerCase(),YE=Hh[0].toUpperCase()+Hh.slice(1);Mn(XE,"on"+YE)}Mn(vg,"onAnimationEnd"),Mn(bg,"onAnimationIteration"),Mn(Ag,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(uE,"onTransitionRun"),Mn(hE,"onTransitionStart"),Mn(dE,"onTransitionCancel"),Mn(Sg,"onTransitionEnd"),Gs("onMouseEnter",["mouseout","mouseover"]),Gs("onMouseLeave",["mouseout","mouseover"]),Gs("onPointerEnter",["pointerout","pointerover"]),Gs("onPointerLeave",["pointerout","pointerover"]),as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),as("onBeforeInput",["compositionend","keypress","textInput","paste"]),as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$E=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nr));function zy(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var h=n[o],g=h.event;h=h.listeners;t:{var y=void 0;if(s)for(var w=h.length-1;0<=w;w--){var x=h[w],M=x.instance,z=x.currentTarget;if(x=x.listener,M!==y&&g.isPropagationStopped())break t;y=x,g.currentTarget=z;try{y(g)}catch(q){Rl(q)}g.currentTarget=null,y=M}else for(w=0;w<h.length;w++){if(x=h[w],M=x.instance,z=x.currentTarget,x=x.listener,M!==y&&g.isPropagationStopped())break t;y=x,g.currentTarget=z;try{y(g)}catch(q){Rl(q)}g.currentTarget=null,y=M}}}}function _t(n,s){var o=s[nu];o===void 0&&(o=s[nu]=new Set);var h=n+"__bubble";o.has(h)||(Uy(s,n,2,!1),o.add(h))}function Gh(n,s,o){var h=0;s&&(h|=4),Uy(o,n,h,s)}var jl="_reactListening"+Math.random().toString(36).slice(2);function qh(n){if(!n[jl]){n[jl]=!0,Np.forEach(function(o){o!=="selectionchange"&&($E.has(o)||Gh(o,!1,n),Gh(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[jl]||(s[jl]=!0,Gh("selectionchange",!1,s))}}function Uy(n,s,o,h){switch(hv(s)){case 2:var g=S1;break;case 8:g=w1;break;default:g=ad}o=g.bind(null,s,o,n),g=void 0,!fu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?n.addEventListener(s,o,{capture:!0,passive:g}):n.addEventListener(s,o,!0):g!==void 0?n.addEventListener(s,o,{passive:g}):n.addEventListener(s,o,!1)}function Xh(n,s,o,h,g){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)t:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var x=h.stateNode.containerInfo;if(x===g)break;if(w===4)for(w=h.return;w!==null;){var M=w.tag;if((M===3||M===4)&&w.stateNode.containerInfo===g)return;w=w.return}for(;x!==null;){if(w=Us(x),w===null)return;if(M=w.tag,M===5||M===6||M===26||M===27){h=y=w;continue t}x=x.parentNode}}h=h.return}$p(function(){var z=y,q=hu(o),K=[];t:{var j=wg.get(n);if(j!==void 0){var H=nl,mt=n;switch(n){case"keypress":if(tl(o)===0)break t;case"keydown":case"keyup":H=jw;break;case"focusin":mt="focus",H=yu;break;case"focusout":mt="blur",H=yu;break;case"beforeblur":case"afterblur":H=yu;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Qp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Dw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=qw;break;case vg:case bg:case Ag:H=Pw;break;case Sg:H=Yw;break;case"scroll":case"scrollend":H=Rw;break;case"wheel":H=Kw;break;case"copy":case"cut":case"paste":H=kw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Jp;break;case"toggle":case"beforetoggle":H=Qw}var ht=(s&4)!==0,Vt=!ht&&(n==="scroll"||n==="scrollend"),B=ht?j!==null?j+"Capture":null:j;ht=[];for(var P=z,V;P!==null;){var $=P;if(V=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||V===null||B===null||($=Ja(P,B),$!=null&&ht.push(kr(P,$,V))),Vt)break;P=P.return}0<ht.length&&(j=new H(j,mt,null,o,q),K.push({event:j,listeners:ht}))}}if((s&7)===0){t:{if(j=n==="mouseover"||n==="pointerover",H=n==="mouseout"||n==="pointerout",j&&o!==uu&&(mt=o.relatedTarget||o.fromElement)&&(Us(mt)||mt[zs]))break t;if((H||j)&&(j=q.window===q?q:(j=q.ownerDocument)?j.defaultView||j.parentWindow:window,H?(mt=o.relatedTarget||o.toElement,H=z,mt=mt?Us(mt):null,mt!==null&&(Vt=l(mt),ht=mt.tag,mt!==Vt||ht!==5&&ht!==27&&ht!==6)&&(mt=null)):(H=null,mt=z),H!==mt)){if(ht=Qp,$="onMouseLeave",B="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(ht=Jp,$="onPointerLeave",B="onPointerEnter",P="pointer"),Vt=H==null?j:Za(H),V=mt==null?j:Za(mt),j=new ht($,P+"leave",H,o,q),j.target=Vt,j.relatedTarget=V,$=null,Us(q)===z&&(ht=new ht(B,P+"enter",mt,o,q),ht.target=V,ht.relatedTarget=Vt,$=ht),Vt=$,H&&mt)e:{for(ht=H,B=mt,P=0,V=ht;V;V=Sa(V))P++;for(V=0,$=B;$;$=Sa($))V++;for(;0<P-V;)ht=Sa(ht),P--;for(;0<V-P;)B=Sa(B),V--;for(;P--;){if(ht===B||B!==null&&ht===B.alternate)break e;ht=Sa(ht),B=Sa(B)}ht=null}else ht=null;H!==null&&jy(K,j,H,ht,!1),mt!==null&&Vt!==null&&jy(K,Vt,mt,ht,!0)}}t:{if(j=z?Za(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var it=og;else if(ag(j))if(lg)it=oE;else{it=aE;var Tt=sE}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&cu(z.elementType)&&(it=og):it=rE;if(it&&(it=it(n,z))){rg(K,it,o,q);break t}Tt&&Tt(n,j,z),n==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&lu(j,"number",j.value)}switch(Tt=z?Za(z):window,n){case"focusin":(ag(Tt)||Tt.contentEditable==="true")&&(Qs=Tt,Eu=z,or=null);break;case"focusout":or=Eu=Qs=null;break;case"mousedown":Tu=!0;break;case"contextmenu":case"mouseup":case"dragend":Tu=!1,mg(K,o,q);break;case"selectionchange":if(cE)break;case"keydown":case"keyup":mg(K,o,q)}var ot;if(bu)t:{switch(n){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Ws?ig(n,o)&&(dt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(dt="onCompositionStart");dt&&(tg&&o.locale!=="ko"&&(Ws||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Ws&&(ot=Kp()):(Ci=q,pu="value"in Ci?Ci.value:Ci.textContent,Ws=!0)),Tt=Hl(z,dt),0<Tt.length&&(dt=new Zp(dt,n,null,o,q),K.push({event:dt,listeners:Tt}),ot?dt.data=ot:(ot=sg(o),ot!==null&&(dt.data=ot)))),(ot=Jw?tE(n,o):eE(n,o))&&(dt=Hl(z,"onBeforeInput"),0<dt.length&&(Tt=new Zp("onBeforeInput","beforeinput",null,o,q),K.push({event:Tt,listeners:dt}),Tt.data=ot)),qE(K,n,z,o,q)}zy(K,s)})}function kr(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Hl(n,s){for(var o=s+"Capture",h=[];n!==null;){var g=n,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Ja(n,o),g!=null&&h.unshift(kr(n,g,y)),g=Ja(n,s),g!=null&&h.push(kr(n,g,y))),n.tag===3)return h;n=n.return}return[]}function Sa(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function jy(n,s,o,h,g){for(var y=s._reactName,w=[];o!==null&&o!==h;){var x=o,M=x.alternate,z=x.stateNode;if(x=x.tag,M!==null&&M===h)break;x!==5&&x!==26&&x!==27||z===null||(M=z,g?(z=Ja(o,y),z!=null&&w.unshift(kr(o,z,M))):g||(z=Ja(o,y),z!=null&&w.push(kr(o,z,M)))),o=o.return}w.length!==0&&n.push({event:s,listeners:w})}var KE=/\r\n?/g,WE=/\u0000|\uFFFD/g;function Hy(n){return(typeof n=="string"?n:""+n).replace(KE,`
`).replace(WE,"")}function Gy(n,s){return s=Hy(s),Hy(n)===s}function Gl(){}function Ft(n,s,o,h,g,y){switch(o){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Ys(n,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Ys(n,""+h);break;case"className":Ko(n,"class",h);break;case"tabIndex":Ko(n,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ko(n,o,h);break;case"style":Xp(n,h,y);break;case"data":if(s!=="object"){Ko(n,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(o);break}h=Zo(""+h),n.setAttribute(o,h);break;case"action":case"formAction":if(typeof h=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&Ft(n,s,"name",g.name,g,null),Ft(n,s,"formEncType",g.formEncType,g,null),Ft(n,s,"formMethod",g.formMethod,g,null),Ft(n,s,"formTarget",g.formTarget,g,null)):(Ft(n,s,"encType",g.encType,g,null),Ft(n,s,"method",g.method,g,null),Ft(n,s,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(o);break}h=Zo(""+h),n.setAttribute(o,h);break;case"onClick":h!=null&&(n.onclick=Gl);break;case"onScroll":h!=null&&_t("scroll",n);break;case"onScrollEnd":h!=null&&_t("scrollend",n);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(o=h.__html,o!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":n.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){n.removeAttribute("xlink:href");break}o=Zo(""+h),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(o,""+h):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":h===!0?n.setAttribute(o,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(o,h):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?n.setAttribute(o,h):n.removeAttribute(o);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?n.removeAttribute(o):n.setAttribute(o,h);break;case"popover":_t("beforetoggle",n),_t("toggle",n),$o(n,"popover",h);break;case"xlinkActuate":ti(n,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ti(n,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ti(n,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ti(n,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ti(n,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ti(n,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ti(n,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ti(n,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ti(n,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":$o(n,"is",h);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=_w.get(o)||o,$o(n,o,h))}}function Yh(n,s,o,h,g,y){switch(o){case"style":Xp(n,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(o=h.__html,o!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof h=="string"?Ys(n,h):(typeof h=="number"||typeof h=="bigint")&&Ys(n,""+h);break;case"onScroll":h!=null&&_t("scroll",n);break;case"onScrollEnd":h!=null&&_t("scrollend",n);break;case"onClick":h!=null&&(n.onclick=Gl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kp.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),s=o.slice(2,g?o.length-7:void 0),y=n[Xe]||null,y=y!=null?y[o]:null,typeof y=="function"&&n.removeEventListener(s,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,h,g);break t}o in n?n[o]=h:h===!0?n.setAttribute(o,""):$o(n,o,h)}}}function Le(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_t("error",n),_t("load",n);var h=!1,g=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ft(n,s,y,w,o,null)}}g&&Ft(n,s,"srcSet",o.srcSet,o,null),h&&Ft(n,s,"src",o.src,o,null);return;case"input":_t("invalid",n);var x=y=w=g=null,M=null,z=null;for(h in o)if(o.hasOwnProperty(h)){var q=o[h];if(q!=null)switch(h){case"name":g=q;break;case"type":w=q;break;case"checked":M=q;break;case"defaultChecked":z=q;break;case"value":y=q;break;case"defaultValue":x=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,s));break;default:Ft(n,s,h,q,o,null)}}jp(n,y,x,M,z,w,g,!1),Wo(n);return;case"select":_t("invalid",n),h=w=y=null;for(g in o)if(o.hasOwnProperty(g)&&(x=o[g],x!=null))switch(g){case"value":y=x;break;case"defaultValue":w=x;break;case"multiple":h=x;default:Ft(n,s,g,x,o,null)}s=y,o=w,n.multiple=!!h,s!=null?Xs(n,!!h,s,!1):o!=null&&Xs(n,!!h,o,!0);return;case"textarea":_t("invalid",n),y=g=h=null;for(w in o)if(o.hasOwnProperty(w)&&(x=o[w],x!=null))switch(w){case"value":h=x;break;case"defaultValue":g=x;break;case"children":y=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:Ft(n,s,w,x,o,null)}Gp(n,h,g,y),Wo(n);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(h=o[M],h!=null))switch(M){case"selected":n.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Ft(n,s,M,h,o,null)}return;case"dialog":_t("beforetoggle",n),_t("toggle",n),_t("cancel",n),_t("close",n);break;case"iframe":case"object":_t("load",n);break;case"video":case"audio":for(h=0;h<Nr.length;h++)_t(Nr[h],n);break;case"image":_t("error",n),_t("load",n);break;case"details":_t("toggle",n);break;case"embed":case"source":case"link":_t("error",n),_t("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in o)if(o.hasOwnProperty(z)&&(h=o[z],h!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ft(n,s,z,h,o,null)}return;default:if(cu(s)){for(q in o)o.hasOwnProperty(q)&&(h=o[q],h!==void 0&&Yh(n,s,q,h,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(h=o[x],h!=null&&Ft(n,s,x,h,o,null))}function QE(n,s,o,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,w=null,x=null,M=null,z=null,q=null;for(H in o){var K=o[H];if(o.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":M=K;default:h.hasOwnProperty(H)||Ft(n,s,H,null,h,K)}}for(var j in h){var H=h[j];if(K=o[j],h.hasOwnProperty(j)&&(H!=null||K!=null))switch(j){case"type":y=H;break;case"name":g=H;break;case"checked":z=H;break;case"defaultChecked":q=H;break;case"value":w=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,s));break;default:H!==K&&Ft(n,s,j,H,h,K)}}ou(n,w,x,M,z,q,y,g);return;case"select":H=w=x=j=null;for(y in o)if(M=o[y],o.hasOwnProperty(y)&&M!=null)switch(y){case"value":break;case"multiple":H=M;default:h.hasOwnProperty(y)||Ft(n,s,y,null,h,M)}for(g in h)if(y=h[g],M=o[g],h.hasOwnProperty(g)&&(y!=null||M!=null))switch(g){case"value":j=y;break;case"defaultValue":x=y;break;case"multiple":w=y;default:y!==M&&Ft(n,s,g,y,h,M)}s=x,o=w,h=H,j!=null?Xs(n,!!o,j,!1):!!h!=!!o&&(s!=null?Xs(n,!!o,s,!0):Xs(n,!!o,o?[]:"",!1));return;case"textarea":H=j=null;for(x in o)if(g=o[x],o.hasOwnProperty(x)&&g!=null&&!h.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ft(n,s,x,null,h,g)}for(w in h)if(g=h[w],y=o[w],h.hasOwnProperty(w)&&(g!=null||y!=null))switch(w){case"value":j=g;break;case"defaultValue":H=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==y&&Ft(n,s,w,g,h,y)}Hp(n,j,H);return;case"option":for(var mt in o)if(j=o[mt],o.hasOwnProperty(mt)&&j!=null&&!h.hasOwnProperty(mt))switch(mt){case"selected":n.selected=!1;break;default:Ft(n,s,mt,null,h,j)}for(M in h)if(j=h[M],H=o[M],h.hasOwnProperty(M)&&j!==H&&(j!=null||H!=null))switch(M){case"selected":n.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Ft(n,s,M,j,h,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in o)j=o[ht],o.hasOwnProperty(ht)&&j!=null&&!h.hasOwnProperty(ht)&&Ft(n,s,ht,null,h,j);for(z in h)if(j=h[z],H=o[z],h.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(137,s));break;default:Ft(n,s,z,j,h,H)}return;default:if(cu(s)){for(var Vt in o)j=o[Vt],o.hasOwnProperty(Vt)&&j!==void 0&&!h.hasOwnProperty(Vt)&&Yh(n,s,Vt,void 0,h,j);for(q in h)j=h[q],H=o[q],!h.hasOwnProperty(q)||j===H||j===void 0&&H===void 0||Yh(n,s,q,j,h,H);return}}for(var B in o)j=o[B],o.hasOwnProperty(B)&&j!=null&&!h.hasOwnProperty(B)&&Ft(n,s,B,null,h,j);for(K in h)j=h[K],H=o[K],!h.hasOwnProperty(K)||j===H||j==null&&H==null||Ft(n,s,K,j,h,H)}var $h=null,Kh=null;function ql(n){return n.nodeType===9?n:n.ownerDocument}function qy(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xy(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Wh(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Qh=null;function ZE(){var n=window.event;return n&&n.type==="popstate"?n===Qh?!1:(Qh=n,!0):(Qh=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,JE=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,t1=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(n){return $y.resolve(null).then(n).catch(e1)}:Yy;function e1(n){setTimeout(function(){throw n})}function Hi(n){return n==="head"}function Ky(n,s){var o=s,h=0,g=0;do{var y=o.nextSibling;if(n.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<h&&8>h){o=h;var w=n.ownerDocument;if(o&1&&Ir(w.documentElement),o&2&&Ir(w.body),o&4)for(o=w.head,Ir(o),w=o.firstChild;w;){var x=w.nextSibling,M=w.nodeName;w[Qa]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=x}}if(g===0){n.removeChild(y),Gr(s);return}g--}else o==="$"||o==="$?"||o==="$!"?g++:h=o.charCodeAt(0)-48;else h=0;o=y}while(o);Gr(s)}function Zh(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Zh(o),iu(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function n1(n,s,o,h){for(;n.nodeType===1;){var g=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(h){if(!n[Qa])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Ln(n.nextSibling),n===null)break}return null}function i1(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Ln(n.nextSibling),n===null))return null;return n}function Jh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function s1(n,s){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")s();else{var h=function(){s(),o.removeEventListener("DOMContentLoaded",h)};o.addEventListener("DOMContentLoaded",h),n._reactRetry=h}}function Ln(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var td=null;function Wy(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}function Qy(n,s,o){switch(s=ql(o),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Ir(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);iu(n)}var wn=new Map,Zy=new Set;function Xl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var pi=F.d;F.d={f:a1,r:r1,D:o1,C:l1,L:c1,m:u1,X:d1,S:h1,M:f1};function a1(){var n=pi.f(),s=Bl();return n||s}function r1(n){var s=js(n);s!==null&&s.tag===5&&s.type==="form"?vm(s):pi.r(n)}var wa=typeof document>"u"?null:document;function Jy(n,s,o){var h=wa;if(h&&typeof s=="string"&&s){var g=gn(s);g='link[rel="'+n+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),Zy.has(g)||(Zy.add(g),n={rel:n,crossOrigin:o,href:s},h.querySelector(g)===null&&(s=h.createElement("link"),Le(s,"link",n),Ee(s),h.head.appendChild(s)))}}function o1(n){pi.D(n),Jy("dns-prefetch",n,null)}function l1(n,s){pi.C(n,s),Jy("preconnect",n,s)}function c1(n,s,o){pi.L(n,s,o);var h=wa;if(h&&n&&s){var g='link[rel="preload"][as="'+gn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+gn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+gn(o.imageSizes)+'"]')):g+='[href="'+gn(n)+'"]';var y=g;switch(s){case"style":y=Ea(n);break;case"script":y=Ta(n)}wn.has(y)||(n=p({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),wn.set(y,n),h.querySelector(g)!==null||s==="style"&&h.querySelector(Br(y))||s==="script"&&h.querySelector(Fr(y))||(s=h.createElement("link"),Le(s,"link",n),Ee(s),h.head.appendChild(s)))}}function u1(n,s){pi.m(n,s);var o=wa;if(o&&n){var h=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+gn(h)+'"][href="'+gn(n)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ta(n)}if(!wn.has(y)&&(n=p({rel:"modulepreload",href:n},s),wn.set(y,n),o.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Fr(y)))return}h=o.createElement("link"),Le(h,"link",n),Ee(h),o.head.appendChild(h)}}}function h1(n,s,o){pi.S(n,s,o);var h=wa;if(h&&n){var g=Hs(h).hoistableStyles,y=Ea(n);s=s||"default";var w=g.get(y);if(!w){var x={loading:0,preload:null};if(w=h.querySelector(Br(y)))x.loading=5;else{n=p({rel:"stylesheet",href:n,"data-precedence":s},o),(o=wn.get(y))&&ed(n,o);var M=w=h.createElement("link");Ee(M),Le(M,"link",n),M._p=new Promise(function(z,q){M.onload=z,M.onerror=q}),M.addEventListener("load",function(){x.loading|=1}),M.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Yl(w,s,h)}w={type:"stylesheet",instance:w,count:1,state:x},g.set(y,w)}}}function d1(n,s){pi.X(n,s);var o=wa;if(o&&n){var h=Hs(o).hoistableScripts,g=Ta(n),y=h.get(g);y||(y=o.querySelector(Fr(g)),y||(n=p({src:n,async:!0},s),(s=wn.get(g))&&nd(n,s),y=o.createElement("script"),Ee(y),Le(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function f1(n,s){pi.M(n,s);var o=wa;if(o&&n){var h=Hs(o).hoistableScripts,g=Ta(n),y=h.get(g);y||(y=o.querySelector(Fr(g)),y||(n=p({src:n,async:!0,type:"module"},s),(s=wn.get(g))&&nd(n,s),y=o.createElement("script"),Ee(y),Le(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function tv(n,s,o,h){var g=(g=at.current)?Xl(g):null;if(!g)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Ea(o.href),o=Hs(g).hoistableStyles,h=o.get(s),h||(h={type:"style",instance:null,count:0,state:null},o.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Ea(o.href);var y=Hs(g).hoistableStyles,w=y.get(n);if(w||(g=g.ownerDocument||g,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,w),(y=g.querySelector(Br(n)))&&!y._p&&(w.instance=y,w.state.loading=5),wn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},wn.set(n,o),y||p1(g,n,o,w.state))),s&&h===null)throw Error(i(528,""));return w}if(s&&h!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ta(o),o=Hs(g).hoistableScripts,h=o.get(s),h||(h={type:"script",instance:null,count:0,state:null},o.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Ea(n){return'href="'+gn(n)+'"'}function Br(n){return'link[rel="stylesheet"]['+n+"]"}function ev(n){return p({},n,{"data-precedence":n.precedence,precedence:null})}function p1(n,s,o,h){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=n.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Le(s,"link",o),Ee(s),n.head.appendChild(s))}function Ta(n){return'[src="'+gn(n)+'"]'}function Fr(n){return"script[async]"+n}function nv(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var h=n.querySelector('style[data-href~="'+gn(o.href)+'"]');if(h)return s.instance=h,Ee(h),h;var g=p({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return h=(n.ownerDocument||n).createElement("style"),Ee(h),Le(h,"style",g),Yl(h,o.precedence,n),s.instance=h;case"stylesheet":g=Ea(o.href);var y=n.querySelector(Br(g));if(y)return s.state.loading|=4,s.instance=y,Ee(y),y;h=ev(o),(g=wn.get(g))&&ed(h,g),y=(n.ownerDocument||n).createElement("link"),Ee(y);var w=y;return w._p=new Promise(function(x,M){w.onload=x,w.onerror=M}),Le(y,"link",h),s.state.loading|=4,Yl(y,o.precedence,n),s.instance=y;case"script":return y=Ta(o.src),(g=n.querySelector(Fr(y)))?(s.instance=g,Ee(g),g):(h=o,(g=wn.get(y))&&(h=p({},o),nd(h,g)),n=n.ownerDocument||n,g=n.createElement("script"),Ee(g),Le(g,"link",h),n.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Yl(h,o.precedence,n));return s.instance}function Yl(n,s,o){for(var h=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,w=0;w<h.length;w++){var x=h[w];if(x.dataset.precedence===s)y=x;else if(y!==g)break}y?y.parentNode.insertBefore(n,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function ed(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function nd(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var $l=null;function iv(n,s,o){if($l===null){var h=new Map,g=$l=new Map;g.set(o,h)}else g=$l,h=g.get(o),h||(h=new Map,g.set(o,h));if(h.has(n))return h;for(h.set(n,null),o=o.getElementsByTagName(n),g=0;g<o.length;g++){var y=o[g];if(!(y[Qa]||y[Ne]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(s)||"";w=n+w;var x=h.get(w);x?x.push(y):h.set(w,[y])}}return h}function sv(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function g1(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function av(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Vr=null;function m1(){}function y1(n,s,o){if(Vr===null)throw Error(i(475));var h=Vr;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=Ea(o.href),y=n.querySelector(Br(g));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(h.count++,h=Kl.bind(h),n.then(h,h)),s.state.loading|=4,s.instance=y,Ee(y);return}y=n.ownerDocument||n,o=ev(o),(g=wn.get(g))&&ed(o,g),y=y.createElement("link"),Ee(y);var w=y;w._p=new Promise(function(x,M){w.onload=x,w.onerror=M}),Le(y,"link",o),s.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=Kl.bind(h),n.addEventListener("load",s),n.addEventListener("error",s))}}function v1(){if(Vr===null)throw Error(i(475));var n=Vr;return n.stylesheets&&n.count===0&&id(n,n.stylesheets),0<n.count?function(s){var o=setTimeout(function(){if(n.stylesheets&&id(n,n.stylesheets),n.unsuspend){var h=n.unsuspend;n.unsuspend=null,h()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Kl(){if(this.count--,this.count===0){if(this.stylesheets)id(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Wl=null;function id(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Wl=new Map,s.forEach(b1,n),Wl=null,Kl.call(n))}function b1(n,s){if(!(s.state.loading&4)){var o=Wl.get(n);if(o)var h=o.get(null);else{o=new Map,Wl.set(n,o);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var w=g[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),h=w)}h&&o.set(null,h)}g=s.instance,w=g.getAttribute("data-precedence"),y=o.get(w)||h,y===h&&o.set(null,g),o.set(w,g),this.count++,h=Kl.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),s.state.loading|=4}}var zr={$$typeof:_,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function A1(n,s,o,h,g,y,w,x){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jc(0),this.hiddenUpdates=Jc(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function rv(n,s,o,h,g,y,w,x,M,z,q,K){return n=new A1(n,s,o,w,x,M,z,K),s=1,y===!0&&(s|=24),y=an(3,null,null,s),n.current=y,y.stateNode=n,s=Fu(),s.refCount++,n.pooledCache=s,s.refCount++,y.memoizedState={element:h,isDehydrated:o,cache:s},ju(y),n}function ov(n){return n?(n=ea,n):ea}function lv(n,s,o,h,g,y){g=ov(g),h.context===null?h.context=g:h.pendingContext=g,h=Di(s),h.payload={element:o},y=y===void 0?null:y,y!==null&&(h.callback=y),o=Li(n,h,s),o!==null&&(un(o,n,s),mr(o,n,s))}function cv(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function sd(n,s){cv(n,s),(n=n.alternate)&&cv(n,s)}function uv(n){if(n.tag===13){var s=ta(n,67108864);s!==null&&un(s,n,67108864),sd(n,67108864)}}var Ql=!0;function S1(n,s,o,h){var g=N.T;N.T=null;var y=F.p;try{F.p=2,ad(n,s,o,h)}finally{F.p=y,N.T=g}}function w1(n,s,o,h){var g=N.T;N.T=null;var y=F.p;try{F.p=8,ad(n,s,o,h)}finally{F.p=y,N.T=g}}function ad(n,s,o,h){if(Ql){var g=rd(h);if(g===null)Xh(n,s,h,Zl,o),dv(n,h);else if(T1(g,n,s,o,h))h.stopPropagation();else if(dv(n,h),s&4&&-1<E1.indexOf(n)){for(;g!==null;){var y=js(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=ss(y.pendingLanes);if(w!==0){var x=y;for(x.pendingLanes|=2,x.entangledLanes|=2;w;){var M=1<<31-we(w);x.entanglements[1]|=M,w&=~M}zn(y),(Nt&6)===0&&(kl=ve()+500,Pr(0))}}break;case 13:x=ta(y,2),x!==null&&un(x,y,2),Bl(),sd(y,2)}if(y=rd(h),y===null&&Xh(n,s,h,Zl,o),y===g)break;g=y}g!==null&&h.stopPropagation()}else Xh(n,s,h,null,o)}}function rd(n){return n=hu(n),od(n)}var Zl=null;function od(n){if(Zl=null,n=Us(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Zl=n,null}function hv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ti()){case xi:return 2;case Ho:return 8;case Jn:case Wc:return 32;case Go:return 268435456;default:return 32}default:return 32}}var ld=!1,Gi=null,qi=null,Xi=null,Ur=new Map,jr=new Map,Yi=[],E1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dv(n,s){switch(n){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":Ur.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(s.pointerId)}}function Hr(n,s,o,h,g,y){return n===null||n.nativeEvent!==y?(n={blockedOn:s,domEventName:o,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},s!==null&&(s=js(s),s!==null&&uv(s)),n):(n.eventSystemFlags|=h,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function T1(n,s,o,h,g){switch(s){case"focusin":return Gi=Hr(Gi,n,s,o,h,g),!0;case"dragenter":return qi=Hr(qi,n,s,o,h,g),!0;case"mouseover":return Xi=Hr(Xi,n,s,o,h,g),!0;case"pointerover":var y=g.pointerId;return Ur.set(y,Hr(Ur.get(y)||null,n,s,o,h,g)),!0;case"gotpointercapture":return y=g.pointerId,jr.set(y,Hr(jr.get(y)||null,n,s,o,h,g)),!0}return!1}function fv(n){var s=Us(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,yw(n.priority,function(){if(o.tag===13){var h=cn();h=tu(h);var g=ta(o,h);g!==null&&un(g,o,h),sd(o,h)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Jl(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=rd(n.nativeEvent);if(o===null){o=n.nativeEvent;var h=new o.constructor(o.type,o);uu=h,o.target.dispatchEvent(h),uu=null}else return s=js(o),s!==null&&uv(s),n.blockedOn=o,!1;s.shift()}return!0}function pv(n,s,o){Jl(n)&&o.delete(s)}function x1(){ld=!1,Gi!==null&&Jl(Gi)&&(Gi=null),qi!==null&&Jl(qi)&&(qi=null),Xi!==null&&Jl(Xi)&&(Xi=null),Ur.forEach(pv),jr.forEach(pv)}function tc(n,s){n.blockedOn===s&&(n.blockedOn=null,ld||(ld=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,x1)))}var ec=null;function gv(n){ec!==n&&(ec=n,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ec===n&&(ec=null);for(var s=0;s<n.length;s+=3){var o=n[s],h=n[s+1],g=n[s+2];if(typeof h!="function"){if(od(h||o)===null)continue;break}var y=js(o);y!==null&&(n.splice(s,3),s-=3,oh(y,{pending:!0,data:g,method:o.method,action:h},h,g))}}))}function Gr(n){function s(M){return tc(M,n)}Gi!==null&&tc(Gi,n),qi!==null&&tc(qi,n),Xi!==null&&tc(Xi,n),Ur.forEach(s),jr.forEach(s);for(var o=0;o<Yi.length;o++){var h=Yi[o];h.blockedOn===n&&(h.blockedOn=null)}for(;0<Yi.length&&(o=Yi[0],o.blockedOn===null);)fv(o),o.blockedOn===null&&Yi.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(h=0;h<o.length;h+=3){var g=o[h],y=o[h+1],w=g[Xe]||null;if(typeof y=="function")w||gv(o);else if(w){var x=null;if(y&&y.hasAttribute("formAction")){if(g=y,w=y[Xe]||null)x=w.formAction;else if(od(g)!==null)continue}else x=w.action;typeof x=="function"?o[h+1]=x:(o.splice(h,3),h-=3),gv(o)}}}function cd(n){this._internalRoot=n}nc.prototype.render=cd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,h=cn();lv(o,h,n,s,null,null)},nc.prototype.unmount=cd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;lv(n.current,2,null,n,null,null),Bl(),s[zs]=null}};function nc(n){this._internalRoot=n}nc.prototype.unstable_scheduleHydration=function(n){if(n){var s=Op();n={blockedOn:null,target:n,priority:s};for(var o=0;o<Yi.length&&s!==0&&s<Yi[o].priority;o++);Yi.splice(o,0,n),o===0&&fv(n)}};var mv=t.version;if(mv!=="19.1.0")throw Error(i(527,mv,"19.1.0"));F.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=d(s),n=n!==null?f(n):null,n=n===null?null:n.stateNode,n};var _1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{is=ic.inject(_1),ue=ic}catch{}}return Xr.createRoot=function(n,s){if(!r(n))throw Error(i(299));var o=!1,h="",g=Om,y=Pm,w=Nm,x=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(x=s.unstable_transitionCallbacks)),s=rv(n,1,!1,null,null,o,h,g,y,w,x,null),n[zs]=s.current,qh(n),new cd(s)},Xr.hydrateRoot=function(n,s,o){if(!r(n))throw Error(i(299));var h=!1,g="",y=Om,w=Pm,x=Nm,M=null,z=null;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks),o.formState!==void 0&&(z=o.formState)),s=rv(n,1,!0,s,o??null,h,g,y,w,x,M,z),s.context=ov(null),o=s.current,h=cn(),h=tu(h),g=Di(h),g.callback=null,Li(o,g,h),o=h,s.current.lanes=o,Wa(s,o),zn(s),n[zs]=s.current,qh(n),new nc(s)},Xr.version="19.1.0",Xr}var Rv;function B1(){if(Rv)return fd.exports;Rv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),fd.exports=I1(),fd.exports}var F1=B1(),Yr={},Mv;function V1(){if(Mv)return Yr;Mv=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.parse=c,Yr.serialize=f;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,l=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function c(v,b){const A=new l,S=v.length;if(S<2)return A;const T=b?.decode||p;let E=0;do{const R=v.indexOf("=",E);if(R===-1)break;const _=v.indexOf(";",E),L=_===-1?S:_;if(R>L){E=v.lastIndexOf(";",R-1)+1;continue}const C=u(v,E,R),k=d(v,R,C),I=v.slice(C,k);if(A[I]===void 0){let U=u(v,R+1,L),G=d(v,L,U);const W=T(v.slice(U,G));A[I]=W}E=L+1}while(E<S);return A}function u(v,b,A){do{const S=v.charCodeAt(b);if(S!==32&&S!==9)return b}while(++b<A);return A}function d(v,b,A){for(;b>A;){const S=v.charCodeAt(--b);if(S!==32&&S!==9)return b+1}return A}function f(v,b,A){const S=A?.encode||encodeURIComponent;if(!a.test(v))throw new TypeError(`argument name is invalid: ${v}`);const T=S(b);if(!t.test(T))throw new TypeError(`argument val is invalid: ${b}`);let E=v+"="+T;if(!A)return E;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);E+="; Max-Age="+A.maxAge}if(A.domain){if(!e.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);E+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);E+="; Path="+A.path}if(A.expires){if(!m(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);E+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(E+="; HttpOnly"),A.secure&&(E+="; Secure"),A.partitioned&&(E+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return E}function p(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function m(v){return r.call(v)==="[object Date]"}return Yr}V1();var Dv="popstate";function z1(a={}){function t(r,l){let{pathname:c="/",search:u="",hash:d=""}=Bs(r.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ud("",{pathname:c,search:u,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function e(r,l){let c=r.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let d=r.location.href,f=d.indexOf("#");u=f===-1?d:d.slice(0,f)}return u+"#"+(typeof l=="string"?l:fo(l))}function i(r,l){Nn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return j1(t,e,i,a)}function Qt(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function Nn(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function U1(){return Math.random().toString(36).substring(2,10)}function Lv(a,t){return{usr:a.state,key:a.key,idx:t}}function Ud(a,t,e=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?Bs(t):t,state:e,key:t&&t.key||i||U1()}}function fo({pathname:a="/",search:t="",hash:e=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(a+=e.charAt(0)==="#"?e:"#"+e),a}function Bs(a){let t={};if(a){let e=a.indexOf("#");e>=0&&(t.hash=a.substring(e),a=a.substring(0,e));let i=a.indexOf("?");i>=0&&(t.search=a.substring(i),a=a.substring(0,i)),a&&(t.pathname=a)}return t}function j1(a,t,e,i={}){let{window:r=document.defaultView,v5Compat:l=!1}=i,c=r.history,u="POP",d=null,f=p();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function p(){return(c.state||{idx:null}).idx}function m(){u="POP";let T=p(),E=T==null?null:T-f;f=T,d&&d({action:u,location:S.location,delta:E})}function v(T,E){u="PUSH";let R=Ud(S.location,T,E);e&&e(R,T),f=p()+1;let _=Lv(R,f),L=S.createHref(R);try{c.pushState(_,"",L)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(L)}l&&d&&d({action:u,location:S.location,delta:1})}function b(T,E){u="REPLACE";let R=Ud(S.location,T,E);e&&e(R,T),f=p();let _=Lv(R,f),L=S.createHref(R);c.replaceState(_,"",L),l&&d&&d({action:u,location:S.location,delta:0})}function A(T){return H1(T)}let S={get action(){return u},get location(){return a(r,c)},listen(T){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(Dv,m),d=T,()=>{r.removeEventListener(Dv,m),d=null}},createHref(T){return t(r,T)},createURL:A,encodeLocation(T){let E=A(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:b,go(T){return c.go(T)}};return S}function H1(a,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Qt(e,"No window.location.(origin|href) available to create URL");let i=typeof a=="string"?a:fo(a);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function _0(a,t,e="/"){return G1(a,t,e,!1)}function G1(a,t,e,i){let r=typeof t=="string"?Bs(t):t,l=vi(r.pathname||"/",e);if(l==null)return null;let c=C0(a);q1(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let f=nT(l);u=tT(c[d],f,i)}return u}function C0(a,t=[],e=[],i=""){let r=(l,c,u)=>{let d={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};d.relativePath.startsWith("/")&&(Qt(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let f=yi([i,d.relativePath]),p=e.concat(d);l.children&&l.children.length>0&&(Qt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),C0(l.children,t,p,f)),!(l.path==null&&!l.index)&&t.push({path:f,score:Z1(f,l.index),routesMeta:p})};return a.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))r(l,c);else for(let u of R0(l.path))r(l,c,u)}),t}function R0(a){let t=a.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),l=e.replace(/\?$/,"");if(i.length===0)return r?[l,""]:[l];let c=R0(i.join("/")),u=[];return u.push(...c.map(d=>d===""?l:[l,d].join("/"))),r&&u.push(...c),u.map(d=>a.startsWith("/")&&d===""?"/":d)}function q1(a){a.sort((t,e)=>t.score!==e.score?e.score-t.score:J1(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var X1=/^:[\w-]+$/,Y1=3,$1=2,K1=1,W1=10,Q1=-2,Ov=a=>a==="*";function Z1(a,t){let e=a.split("/"),i=e.length;return e.some(Ov)&&(i+=Q1),t&&(i+=$1),e.filter(r=>!Ov(r)).reduce((r,l)=>r+(X1.test(l)?Y1:l===""?K1:W1),i)}function J1(a,t){return a.length===t.length&&a.slice(0,-1).every((i,r)=>i===t[r])?a[a.length-1]-t[t.length-1]:0}function tT(a,t,e=!1){let{routesMeta:i}=a,r={},l="/",c=[];for(let u=0;u<i.length;++u){let d=i[u],f=u===i.length-1,p=l==="/"?t:t.slice(l.length)||"/",m=xc({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!m&&f&&e&&!i[i.length-1].route.index&&(m=xc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(r,m.params),c.push({params:r,pathname:yi([l,m.pathname]),pathnameBase:rT(yi([l,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(l=yi([l,m.pathnameBase]))}return c}function xc(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[e,i]=eT(a.path,a.caseSensitive,a.end),r=t.match(e);if(!r)return null;let l=r[0],c=l.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:m},v)=>{if(p==="*"){let A=u[v]||"";c=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const b=u[v];return m&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:a}}function eT(a,t=!1,e=!0){Nn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],r="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(i.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(i.push({paramName:"*"}),r+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":a!==""&&a!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function nT(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function vi(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=a.charAt(e);return i&&i!=="/"?null:a.slice(e)||"/"}function iT(a,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof a=="string"?Bs(a):a;return{pathname:e?e.startsWith("/")?e:sT(e,t):t,search:oT(i),hash:lT(r)}}function sT(a,t){let e=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function yd(a,t,e,i){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aT(a){return a.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function M0(a){let t=aT(a);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function D0(a,t,e,i=!1){let r;typeof a=="string"?r=Bs(a):(r={...a},Qt(!r.pathname||!r.pathname.includes("?"),yd("?","pathname","search",r)),Qt(!r.pathname||!r.pathname.includes("#"),yd("#","pathname","hash",r)),Qt(!r.search||!r.search.includes("#"),yd("#","search","hash",r)));let l=a===""||r.pathname==="",c=l?"/":r.pathname,u;if(c==null)u=e;else{let m=t.length-1;if(!i&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),m-=1;r.pathname=v.join("/")}u=m>=0?t[m]:"/"}let d=iT(r,u),f=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var yi=a=>a.join("/").replace(/\/\/+/g,"/"),rT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),oT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,lT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function cT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var L0=["POST","PUT","PATCH","DELETE"];new Set(L0);var uT=["GET",...L0];new Set(uT);var Ha=D.createContext(null);Ha.displayName="DataRouter";var Nc=D.createContext(null);Nc.displayName="DataRouterState";var O0=D.createContext({isTransitioning:!1});O0.displayName="ViewTransition";var hT=D.createContext(new Map);hT.displayName="Fetchers";var dT=D.createContext(null);dT.displayName="Await";var Zn=D.createContext(null);Zn.displayName="Navigation";var _o=D.createContext(null);_o.displayName="Location";var Ei=D.createContext({outlet:null,matches:[],isDataRoute:!1});Ei.displayName="Route";var Sf=D.createContext(null);Sf.displayName="RouteError";function fT(a,{relative:t}={}){Qt(Co(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=D.useContext(Zn),{hash:r,pathname:l,search:c}=Ro(a,{relative:t}),u=l;return e!=="/"&&(u=l==="/"?e:yi([e,l])),i.createHref({pathname:u,search:c,hash:r})}function Co(){return D.useContext(_o)!=null}function es(){return Qt(Co(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(_o).location}var P0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function N0(a){D.useContext(Zn).static||D.useLayoutEffect(a)}function pT(){let{isDataRoute:a}=D.useContext(Ei);return a?CT():gT()}function gT(){Qt(Co(),"useNavigate() may be used only in the context of a <Router> component.");let a=D.useContext(Ha),{basename:t,navigator:e}=D.useContext(Zn),{matches:i}=D.useContext(Ei),{pathname:r}=es(),l=JSON.stringify(M0(i)),c=D.useRef(!1);return N0(()=>{c.current=!0}),D.useCallback((d,f={})=>{if(Nn(c.current,P0),!c.current)return;if(typeof d=="number"){e.go(d);return}let p=D0(d,JSON.parse(l),r,f.relative==="path");a==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:yi([t,p.pathname])),(f.replace?e.replace:e.push)(p,f.state,f)},[t,e,l,r,a])}D.createContext(null);function Ro(a,{relative:t}={}){let{matches:e}=D.useContext(Ei),{pathname:i}=es(),r=JSON.stringify(M0(e));return D.useMemo(()=>D0(a,JSON.parse(r),i,t==="path"),[a,r,i,t])}function mT(a,t){return k0(a,t)}function k0(a,t,e,i){Qt(Co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=D.useContext(Zn),{matches:l}=D.useContext(Ei),c=l[l.length-1],u=c?c.params:{},d=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let E=p&&p.path||"";I0(d,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let m=es(),v;if(t){let E=typeof t=="string"?Bs(t):t;Qt(f==="/"||E.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),v=E}else v=m;let b=v.pathname||"/",A=b;if(f!=="/"){let E=f.replace(/^\//,"").split("/");A="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=_0(a,{pathname:A});Nn(p||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Nn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=ST(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:yi([f,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:yi([f,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),l,e,i);return t&&T?D.createElement(_o.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},T):T}function yT(){let a=_T(),t=cT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),e=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",a),c=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),e?D.createElement("pre",{style:r},e):null,c)}var vT=D.createElement(yT,null),bT=class extends D.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){console.error("React Router caught the following error during render",a,t)}render(){return this.state.error!==void 0?D.createElement(Ei.Provider,{value:this.props.routeContext},D.createElement(Sf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AT({routeContext:a,match:t,children:e}){let i=D.useContext(Ha);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(Ei.Provider,{value:a},e)}function ST(a,t=[],e=null,i=null){if(a==null){if(!e)return null;if(e.errors)a=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)a=e.matches;else return null}let r=a,l=e?.errors;if(l!=null){let d=r.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);Qt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let c=!1,u=-1;if(e)for(let d=0;d<r.length;d++){let f=r[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:m}=e,v=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((d,f,p)=>{let m,v=!1,b=null,A=null;e&&(m=l&&f.route.id?l[f.route.id]:void 0,b=f.route.errorElement||vT,c&&(u<0&&p===0?(I0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,A=null):u===p&&(v=!0,A=f.route.hydrateFallbackElement||null)));let S=t.concat(r.slice(0,p+1)),T=()=>{let E;return m?E=b:v?E=A:f.route.Component?E=D.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,D.createElement(AT,{match:f,routeContext:{outlet:d,matches:S,isDataRoute:e!=null},children:E})};return e&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?D.createElement(bT,{location:e.location,revalidation:e.revalidation,component:b,error:m,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}function wf(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wT(a){let t=D.useContext(Ha);return Qt(t,wf(a)),t}function ET(a){let t=D.useContext(Nc);return Qt(t,wf(a)),t}function TT(a){let t=D.useContext(Ei);return Qt(t,wf(a)),t}function Ef(a){let t=TT(a),e=t.matches[t.matches.length-1];return Qt(e.route.id,`${a} can only be used on routes that contain a unique "id"`),e.route.id}function xT(){return Ef("useRouteId")}function _T(){let a=D.useContext(Sf),t=ET("useRouteError"),e=Ef("useRouteError");return a!==void 0?a:t.errors?.[e]}function CT(){let{router:a}=wT("useNavigate"),t=Ef("useNavigate"),e=D.useRef(!1);return N0(()=>{e.current=!0}),D.useCallback(async(r,l={})=>{Nn(e.current,P0),e.current&&(typeof r=="number"?a.navigate(r):await a.navigate(r,{fromRouteId:t,...l}))},[a,t])}var Pv={};function I0(a,t,e){!t&&!Pv[a]&&(Pv[a]=!0,Nn(!1,e))}D.memo(RT);function RT({routes:a,future:t,state:e}){return k0(a,void 0,e,t)}function to(a){Qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MT({basename:a="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:l=!1}){Qt(!Co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=a.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:c,navigator:r,static:l,future:{}}),[c,r,l]);typeof e=="string"&&(e=Bs(e));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:v="default"}=e,b=D.useMemo(()=>{let A=vi(d,c);return A==null?null:{location:{pathname:A,search:f,hash:p,state:m,key:v},navigationType:i}},[c,d,f,p,m,v,i]);return Nn(b!=null,`<Router basename="${c}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:D.createElement(Zn.Provider,{value:u},D.createElement(_o.Provider,{children:t,value:b}))}function DT({children:a,location:t}){return mT(jd(a),t)}function jd(a,t=[]){let e=[];return D.Children.forEach(a,(i,r)=>{if(!D.isValidElement(i))return;let l=[...t,r];if(i.type===D.Fragment){e.push.apply(e,jd(i.props.children,l));return}Qt(i.type===to,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=jd(i.props.children,l)),e.push(c)}),e}var yc="get",vc="application/x-www-form-urlencoded";function kc(a){return a!=null&&typeof a.tagName=="string"}function LT(a){return kc(a)&&a.tagName.toLowerCase()==="button"}function OT(a){return kc(a)&&a.tagName.toLowerCase()==="form"}function PT(a){return kc(a)&&a.tagName.toLowerCase()==="input"}function NT(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function kT(a,t){return a.button===0&&(!t||t==="_self")&&!NT(a)}var sc=null;function IT(){if(sc===null)try{new FormData(document.createElement("form"),0),sc=!1}catch{sc=!0}return sc}var BT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vd(a){return a!=null&&!BT.has(a)?(Nn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vc}"`),null):a}function FT(a,t){let e,i,r,l,c;if(OT(a)){let u=a.getAttribute("action");i=u?vi(u,t):null,e=a.getAttribute("method")||yc,r=vd(a.getAttribute("enctype"))||vc,l=new FormData(a)}else if(LT(a)||PT(a)&&(a.type==="submit"||a.type==="image")){let u=a.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=a.getAttribute("formaction")||u.getAttribute("action");if(i=d?vi(d,t):null,e=a.getAttribute("formmethod")||u.getAttribute("method")||yc,r=vd(a.getAttribute("formenctype"))||vd(u.getAttribute("enctype"))||vc,l=new FormData(u,a),!IT()){let{name:f,type:p,value:m}=a;if(p==="image"){let v=f?`${f}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else f&&l.append(f,m)}}else{if(kc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=yc,i=null,r=vc,c=a}return l&&r==="text/plain"&&(c=l,l=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:l,body:c}}function Tf(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}async function VT(a,t){if(a.id in t)return t[a.id];try{let e=await import(a.module);return t[a.id]=e,e}catch(e){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zT(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function UT(a,t,e){let i=await Promise.all(a.map(async r=>{let l=t.routes[r.route.id];if(l){let c=await VT(l,e);return c.links?c.links():[]}return[]}));return qT(i.flat(1).filter(zT).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Nv(a,t,e,i,r,l){let c=(d,f)=>e[f]?d.route.id!==e[f].route.id:!0,u=(d,f)=>e[f].pathname!==d.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==d.params["*"];return l==="assets"?t.filter((d,f)=>c(d,f)||u(d,f)):l==="data"?t.filter((d,f)=>{let p=i.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(c(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function jT(a,t,{includeHydrateFallback:e}={}){return HT(a.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function HT(a){return[...new Set(a)]}function GT(a){let t={},e=Object.keys(a).sort();for(let i of e)t[i]=a[i];return t}function qT(a,t){let e=new Set;return new Set(t),a.reduce((i,r)=>{let l=JSON.stringify(GT(r));return e.has(l)||(e.add(l),i.push({key:l,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var XT=new Set([100,101,204,205]);function YT(a,t){let e=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return e.pathname==="/"?e.pathname="_root.data":t&&vi(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function B0(){let a=D.useContext(Ha);return Tf(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function $T(){let a=D.useContext(Nc);return Tf(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var xf=D.createContext(void 0);xf.displayName="FrameworkContext";function F0(){let a=D.useContext(xf);return Tf(a,"You must render this element inside a <HydratedRouter> element"),a}function KT(a,t){let e=D.useContext(xf),[i,r]=D.useState(!1),[l,c]=D.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=t,v=D.useRef(null);D.useEffect(()=>{if(a==="render"&&c(!0),a==="viewport"){let S=E=>{E.forEach(R=>{c(R.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return v.current&&T.observe(v.current),()=>{T.disconnect()}}},[a]),D.useEffect(()=>{if(i){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[i]);let b=()=>{r(!0)},A=()=>{r(!1),c(!1)};return e?a!=="intent"?[l,v,{}]:[l,v,{onFocus:$r(u,b),onBlur:$r(d,A),onMouseEnter:$r(f,b),onMouseLeave:$r(p,A),onTouchStart:$r(m,b)}]:[!1,v,{}]}function $r(a,t){return e=>{a&&a(e),e.defaultPrevented||t(e)}}function WT({page:a,...t}){let{router:e}=B0(),i=D.useMemo(()=>_0(e.routes,a,e.basename),[e.routes,a,e.basename]);return i?D.createElement(ZT,{page:a,matches:i,...t}):null}function QT(a){let{manifest:t,routeModules:e}=F0(),[i,r]=D.useState([]);return D.useEffect(()=>{let l=!1;return UT(a,t,e).then(c=>{l||r(c)}),()=>{l=!0}},[a,t,e]),i}function ZT({page:a,matches:t,...e}){let i=es(),{manifest:r,routeModules:l}=F0(),{basename:c}=B0(),{loaderData:u,matches:d}=$T(),f=D.useMemo(()=>Nv(a,t,d,r,i,"data"),[a,t,d,r,i]),p=D.useMemo(()=>Nv(a,t,d,r,i,"assets"),[a,t,d,r,i]),m=D.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let A=new Set,S=!1;if(t.forEach(E=>{let R=r.routes[E.route.id];!R||!R.hasLoader||(!f.some(_=>_.route.id===E.route.id)&&E.route.id in u&&l[E.route.id]?.shouldRevalidate||R.hasClientLoader?S=!0:A.add(E.route.id))}),A.size===0)return[];let T=YT(a,c);return S&&A.size>0&&T.searchParams.set("_routes",t.filter(E=>A.has(E.route.id)).map(E=>E.route.id).join(",")),[T.pathname+T.search]},[c,u,i,r,f,t,a,l]),v=D.useMemo(()=>jT(p,r),[p,r]),b=QT(p);return D.createElement(D.Fragment,null,m.map(A=>D.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...e})),v.map(A=>D.createElement("link",{key:A,rel:"modulepreload",href:A,...e})),b.map(({key:A,link:S})=>D.createElement("link",{key:A,...S})))}function JT(...a){return t=>{a.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var V0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V0&&(window.__reactRouterVersion="7.6.3")}catch{}function tx({basename:a,children:t,window:e}){let i=D.useRef();i.current==null&&(i.current=z1({window:e,v5Compat:!0}));let r=i.current,[l,c]=D.useState({action:r.action,location:r.location}),u=D.useCallback(d=>{D.startTransition(()=>c(d))},[c]);return D.useLayoutEffect(()=>r.listen(u),[r,u]),D.createElement(MT,{basename:a,children:t,location:l.location,navigationType:l.action,navigator:r})}var z0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ca=D.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:l,replace:c,state:u,target:d,to:f,preventScrollReset:p,viewTransition:m,...v},b){let{basename:A}=D.useContext(Zn),S=typeof f=="string"&&z0.test(f),T,E=!1;if(typeof f=="string"&&S&&(T=f,V0))try{let G=new URL(window.location.href),W=f.startsWith("//")?new URL(G.protocol+f):new URL(f),Z=vi(W.pathname,A);W.origin===G.origin&&Z!=null?f=Z+W.search+W.hash:E=!0}catch{Nn(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=fT(f,{relative:r}),[_,L,C]=KT(i,v),k=sx(f,{replace:c,state:u,target:d,preventScrollReset:p,relative:r,viewTransition:m});function I(G){t&&t(G),G.defaultPrevented||k(G)}let U=D.createElement("a",{...v,...C,href:T||R,onClick:E||l?t:I,ref:JT(b,L),target:d,"data-discover":!S&&e==="render"?"true":void 0});return _&&!S?D.createElement(D.Fragment,null,U,D.createElement(WT,{page:R})):U});Ca.displayName="Link";var ex=D.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:l,to:c,viewTransition:u,children:d,...f},p){let m=Ro(c,{relative:f.relative}),v=es(),b=D.useContext(Nc),{navigator:A,basename:S}=D.useContext(Zn),T=b!=null&&cx(m)&&u===!0,E=A.encodeLocation?A.encodeLocation(m).pathname:m.pathname,R=v.pathname,_=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;e||(R=R.toLowerCase(),_=_?_.toLowerCase():null,E=E.toLowerCase()),_&&S&&(_=vi(_,S)||_);const L=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let C=R===E||!r&&R.startsWith(E)&&R.charAt(L)==="/",k=_!=null&&(_===E||!r&&_.startsWith(E)&&_.charAt(E.length)==="/"),I={isActive:C,isPending:k,isTransitioning:T},U=C?t:void 0,G;typeof i=="function"?G=i(I):G=[i,C?"active":null,k?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let W=typeof l=="function"?l(I):l;return D.createElement(Ca,{...f,"aria-current":U,className:G,ref:p,style:W,to:c,viewTransition:u},typeof d=="function"?d(I):d)});ex.displayName="NavLink";var nx=D.forwardRef(({discover:a="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:l,method:c=yc,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,...v},b)=>{let A=ox(),S=lx(u,{relative:f}),T=c.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&z0.test(u),R=_=>{if(d&&d(_),_.defaultPrevented)return;_.preventDefault();let L=_.nativeEvent.submitter,C=L?.getAttribute("formmethod")||c;A(L||_.currentTarget,{fetcherKey:t,method:C,navigate:e,replace:r,state:l,relative:f,preventScrollReset:p,viewTransition:m})};return D.createElement("form",{ref:b,method:T,action:S,onSubmit:i?d:R,...v,"data-discover":!E&&a==="render"?"true":void 0})});nx.displayName="Form";function ix(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U0(a){let t=D.useContext(Ha);return Qt(t,ix(a)),t}function sx(a,{target:t,replace:e,state:i,preventScrollReset:r,relative:l,viewTransition:c}={}){let u=pT(),d=es(),f=Ro(a,{relative:l});return D.useCallback(p=>{if(kT(p,t)){p.preventDefault();let m=e!==void 0?e:fo(d)===fo(f);u(a,{replace:m,state:i,preventScrollReset:r,relative:l,viewTransition:c})}},[d,u,f,e,i,t,a,r,l,c])}var ax=0,rx=()=>`__${String(++ax)}__`;function ox(){let{router:a}=U0("useSubmit"),{basename:t}=D.useContext(Zn),e=xT();return D.useCallback(async(i,r={})=>{let{action:l,method:c,encType:u,formData:d,body:f}=FT(i,t);if(r.navigate===!1){let p=r.fetcherKey||rx();await a.fetch(p,e,r.action||l,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||c,formEncType:r.encType||u,flushSync:r.flushSync})}else await a.navigate(r.action||l,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||c,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[a,t,e])}function lx(a,{relative:t}={}){let{basename:e}=D.useContext(Zn),i=D.useContext(Ei);Qt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),l={...Ro(a||".",{relative:t})},c=es();if(a==null){l.search=c.search;let u=new URLSearchParams(l.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();l.search=p?`?${p}`:""}}return(!a||a===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:yi([e,l.pathname])),fo(l)}function cx(a,t={}){let e=D.useContext(O0);Qt(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=U0("useViewTransitionState"),r=Ro(a,{relative:t.relative});if(!e.isTransitioning)return!1;let l=vi(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=vi(e.nextLocation.pathname,i)||e.nextLocation.pathname;return xc(r.pathname,c)!=null||xc(r.pathname,l)!=null}[...XT];const _f=D.createContext({});function Cf(a){const t=D.useRef(null);return t.current===null&&(t.current=a()),t.current}const Rf=typeof window<"u",j0=Rf?D.useLayoutEffect:D.useEffect,Ic=D.createContext(null);function Mf(a,t){a.indexOf(t)===-1&&a.push(t)}function Df(a,t){const e=a.indexOf(t);e>-1&&a.splice(e,1)}const bi=(a,t,e)=>e>t?t:e<a?a:e;let Lf=()=>{};const Ai={},H0=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a);function G0(a){return typeof a=="object"&&a!==null}const q0=a=>/^0[^.\s]+$/u.test(a);function Of(a){let t;return()=>(t===void 0&&(t=a()),t)}const Cn=a=>a,ux=(a,t)=>e=>t(a(e)),Mo=(...a)=>a.reduce(ux),po=(a,t,e)=>{const i=t-a;return i===0?1:(e-a)/i};class Pf{constructor(){this.subscriptions=[]}add(t){return Mf(this.subscriptions,t),()=>Df(this.subscriptions,t)}notify(t,e,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,e,i);else for(let l=0;l<r;l++){const c=this.subscriptions[l];c&&c(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kn=a=>a*1e3,Wn=a=>a/1e3;function X0(a,t){return t?a*(1e3/t):0}const Y0=(a,t,e)=>(((1-3*e+3*t)*a+(3*e-6*t))*a+3*t)*a,hx=1e-7,dx=12;function fx(a,t,e,i,r){let l,c,u=0;do c=t+(e-t)/2,l=Y0(c,i,r)-a,l>0?e=c:t=c;while(Math.abs(l)>hx&&++u<dx);return c}function Do(a,t,e,i){if(a===t&&e===i)return Cn;const r=l=>fx(l,0,1,a,e);return l=>l===0||l===1?l:Y0(r(l),t,i)}const $0=a=>t=>t<=.5?a(2*t)/2:(2-a(2*(1-t)))/2,K0=a=>t=>1-a(1-t),W0=Do(.33,1.53,.69,.99),Nf=K0(W0),Q0=$0(Nf),Z0=a=>(a*=2)<1?.5*Nf(a):.5*(2-Math.pow(2,-10*(a-1))),kf=a=>1-Math.sin(Math.acos(a)),J0=K0(kf),tA=$0(kf),px=Do(.42,0,1,1),gx=Do(0,0,.58,1),eA=Do(.42,0,.58,1),mx=a=>Array.isArray(a)&&typeof a[0]!="number",nA=a=>Array.isArray(a)&&typeof a[0]=="number",yx={linear:Cn,easeIn:px,easeInOut:eA,easeOut:gx,circIn:kf,circInOut:tA,circOut:J0,backIn:Nf,backInOut:Q0,backOut:W0,anticipate:Z0},vx=a=>typeof a=="string",kv=a=>{if(nA(a)){Lf(a.length===4);const[t,e,i,r]=a;return Do(t,e,i,r)}else if(vx(a))return yx[a];return a},ac=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Iv={value:null};function bx(a,t){let e=new Set,i=new Set,r=!1,l=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},d=0;function f(m){c.has(m)&&(p.schedule(m),a()),d++,m(u)}const p={schedule:(m,v=!1,b=!1)=>{const S=b&&r?e:i;return v&&c.add(m),S.has(m)||S.add(m),m},cancel:m=>{i.delete(m),c.delete(m)},process:m=>{if(u=m,r){l=!0;return}r=!0,[e,i]=[i,e],e.forEach(f),t&&Iv.value&&Iv.value.frameloop[t].push(d),d=0,e.clear(),r=!1,l&&(l=!1,p.process(m))}};return p}const Ax=40;function iA(a,t){let e=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,c=ac.reduce((_,L)=>(_[L]=bx(l,t?L:void 0),_),{}),{setup:u,read:d,resolveKeyframes:f,preUpdate:p,update:m,preRender:v,render:b,postRender:A}=c,S=()=>{const _=Ai.useManualTiming?r.timestamp:performance.now();e=!1,Ai.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(_-r.timestamp,Ax),1)),r.timestamp=_,r.isProcessing=!0,u.process(r),d.process(r),f.process(r),p.process(r),m.process(r),v.process(r),b.process(r),A.process(r),r.isProcessing=!1,e&&t&&(i=!1,a(S))},T=()=>{e=!0,i=!0,r.isProcessing||a(S)};return{schedule:ac.reduce((_,L)=>{const C=c[L];return _[L]=(k,I=!1,U=!1)=>(e||T(),C.schedule(k,I,U)),_},{}),cancel:_=>{for(let L=0;L<ac.length;L++)c[ac[L]].cancel(_)},state:r,steps:c}}const{schedule:Zt,cancel:Zi,state:Oe,steps:bd}=iA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cn,!0);let bc;function Sx(){bc=void 0}const tn={now:()=>(bc===void 0&&tn.set(Oe.isProcessing||Ai.useManualTiming?Oe.timestamp:performance.now()),bc),set:a=>{bc=a,queueMicrotask(Sx)}},sA=a=>t=>typeof t=="string"&&t.startsWith(a),If=sA("--"),wx=sA("var(--"),Bf=a=>wx(a)?Ex.test(a.split("/*")[0].trim()):!1,Ex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ga={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},go={...Ga,transform:a=>bi(0,1,a)},rc={...Ga,default:1},ao=a=>Math.round(a*1e5)/1e5,Ff=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Tx(a){return a==null}const xx=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vf=(a,t)=>e=>!!(typeof e=="string"&&xx.test(e)&&e.startsWith(a)||t&&!Tx(e)&&Object.prototype.hasOwnProperty.call(e,t)),aA=(a,t,e)=>i=>{if(typeof i!="string")return i;const[r,l,c,u]=i.match(Ff);return{[a]:parseFloat(r),[t]:parseFloat(l),[e]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},_x=a=>bi(0,255,a),Ad={...Ga,transform:a=>Math.round(_x(a))},_s={test:Vf("rgb","red"),parse:aA("red","green","blue"),transform:({red:a,green:t,blue:e,alpha:i=1})=>"rgba("+Ad.transform(a)+", "+Ad.transform(t)+", "+Ad.transform(e)+", "+ao(go.transform(i))+")"};function Cx(a){let t="",e="",i="",r="";return a.length>5?(t=a.substring(1,3),e=a.substring(3,5),i=a.substring(5,7),r=a.substring(7,9)):(t=a.substring(1,2),e=a.substring(2,3),i=a.substring(3,4),r=a.substring(4,5),t+=t,e+=e,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Hd={test:Vf("#"),parse:Cx,transform:_s.transform},Lo=a=>({test:t=>typeof t=="string"&&t.endsWith(a)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${a}`}),Ki=Lo("deg"),Qn=Lo("%"),yt=Lo("px"),Rx=Lo("vh"),Mx=Lo("vw"),Bv={...Qn,parse:a=>Qn.parse(a)/100,transform:a=>Qn.transform(a*100)},Ra={test:Vf("hsl","hue"),parse:aA("hue","saturation","lightness"),transform:({hue:a,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(a)+", "+Qn.transform(ao(t))+", "+Qn.transform(ao(e))+", "+ao(go.transform(i))+")"},pe={test:a=>_s.test(a)||Hd.test(a)||Ra.test(a),parse:a=>_s.test(a)?_s.parse(a):Ra.test(a)?Ra.parse(a):Hd.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?_s.transform(a):Ra.transform(a),getAnimatableNone:a=>{const t=pe.parse(a);return t.alpha=0,pe.transform(t)}},Dx=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Lx(a){return isNaN(a)&&typeof a=="string"&&(a.match(Ff)?.length||0)+(a.match(Dx)?.length||0)>0}const rA="number",oA="color",Ox="var",Px="var(",Fv="${}",Nx=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mo(a){const t=a.toString(),e=[],i={color:[],number:[],var:[]},r=[];let l=0;const u=t.replace(Nx,d=>(pe.test(d)?(i.color.push(l),r.push(oA),e.push(pe.parse(d))):d.startsWith(Px)?(i.var.push(l),r.push(Ox),e.push(d)):(i.number.push(l),r.push(rA),e.push(parseFloat(d))),++l,Fv)).split(Fv);return{values:e,split:u,indexes:i,types:r}}function lA(a){return mo(a).values}function cA(a){const{split:t,types:e}=mo(a),i=t.length;return r=>{let l="";for(let c=0;c<i;c++)if(l+=t[c],r[c]!==void 0){const u=e[c];u===rA?l+=ao(r[c]):u===oA?l+=pe.transform(r[c]):l+=r[c]}return l}}const kx=a=>typeof a=="number"?0:pe.test(a)?pe.getAnimatableNone(a):a;function Ix(a){const t=lA(a);return cA(a)(t.map(kx))}const Ji={test:Lx,parse:lA,createTransformer:cA,getAnimatableNone:Ix};function Sd(a,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?a+(t-a)*6*e:e<1/2?t:e<2/3?a+(t-a)*(2/3-e)*6:a}function Bx({hue:a,saturation:t,lightness:e,alpha:i}){a/=360,t/=100,e/=100;let r=0,l=0,c=0;if(!t)r=l=c=e;else{const u=e<.5?e*(1+t):e+t-e*t,d=2*e-u;r=Sd(d,u,a+1/3),l=Sd(d,u,a),c=Sd(d,u,a-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function _c(a,t){return e=>e>0?t:a}const Wt=(a,t,e)=>a+(t-a)*e,wd=(a,t,e)=>{const i=a*a,r=e*(t*t-i)+i;return r<0?0:Math.sqrt(r)},Fx=[Hd,_s,Ra],Vx=a=>Fx.find(t=>t.test(a));function Vv(a){const t=Vx(a);if(!t)return!1;let e=t.parse(a);return t===Ra&&(e=Bx(e)),e}const zv=(a,t)=>{const e=Vv(a),i=Vv(t);if(!e||!i)return _c(a,t);const r={...e};return l=>(r.red=wd(e.red,i.red,l),r.green=wd(e.green,i.green,l),r.blue=wd(e.blue,i.blue,l),r.alpha=Wt(e.alpha,i.alpha,l),_s.transform(r))},Gd=new Set(["none","hidden"]);function zx(a,t){return Gd.has(a)?e=>e<=0?a:t:e=>e>=1?t:a}function Ux(a,t){return e=>Wt(a,t,e)}function zf(a){return typeof a=="number"?Ux:typeof a=="string"?Bf(a)?_c:pe.test(a)?zv:Gx:Array.isArray(a)?uA:typeof a=="object"?pe.test(a)?zv:jx:_c}function uA(a,t){const e=[...a],i=e.length,r=a.map((l,c)=>zf(l)(l,t[c]));return l=>{for(let c=0;c<i;c++)e[c]=r[c](l);return e}}function jx(a,t){const e={...a,...t},i={};for(const r in e)a[r]!==void 0&&t[r]!==void 0&&(i[r]=zf(a[r])(a[r],t[r]));return r=>{for(const l in i)e[l]=i[l](r);return e}}function Hx(a,t){const e=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const l=t.types[r],c=a.indexes[l][i[l]],u=a.values[c]??0;e[r]=u,i[l]++}return e}const Gx=(a,t)=>{const e=Ji.createTransformer(t),i=mo(a),r=mo(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Gd.has(a)&&!r.values.length||Gd.has(t)&&!i.values.length?zx(a,t):Mo(uA(Hx(i,r),r.values),e):_c(a,t)};function hA(a,t,e){return typeof a=="number"&&typeof t=="number"&&typeof e=="number"?Wt(a,t,e):zf(a)(a,t)}const qx=a=>{const t=({timestamp:e})=>a(e);return{start:(e=!0)=>Zt.update(t,e),stop:()=>Zi(t),now:()=>Oe.isProcessing?Oe.timestamp:tn.now()}},dA=(a,t,e=10)=>{let i="";const r=Math.max(Math.round(t/e),2);for(let l=0;l<r;l++)i+=Math.round(a(l/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Cc=2e4;function Uf(a){let t=0;const e=50;let i=a.next(t);for(;!i.done&&t<Cc;)t+=e,i=a.next(t);return t>=Cc?1/0:t}function Xx(a,t=100,e){const i=e({...a,keyframes:[0,t]}),r=Math.min(Uf(i),Cc);return{type:"keyframes",ease:l=>i.next(r*l).value/t,duration:Wn(r)}}const Yx=5;function fA(a,t,e){const i=Math.max(t-Yx,0);return X0(e-a(i),t-i)}const ee={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ed=.001;function $x({duration:a=ee.duration,bounce:t=ee.bounce,velocity:e=ee.velocity,mass:i=ee.mass}){let r,l,c=1-t;c=bi(ee.minDamping,ee.maxDamping,c),a=bi(ee.minDuration,ee.maxDuration,Wn(a)),c<1?(r=f=>{const p=f*c,m=p*a,v=p-e,b=qd(f,c),A=Math.exp(-m);return Ed-v/b*A},l=f=>{const m=f*c*a,v=m*e+e,b=Math.pow(c,2)*Math.pow(f,2)*a,A=Math.exp(-m),S=qd(Math.pow(f,2),c);return(-r(f)+Ed>0?-1:1)*((v-b)*A)/S}):(r=f=>{const p=Math.exp(-f*a),m=(f-e)*a+1;return-Ed+p*m},l=f=>{const p=Math.exp(-f*a),m=(e-f)*(a*a);return p*m});const u=5/a,d=Wx(r,l,u);if(a=Kn(a),isNaN(d))return{stiffness:ee.stiffness,damping:ee.damping,duration:a};{const f=Math.pow(d,2)*i;return{stiffness:f,damping:c*2*Math.sqrt(i*f),duration:a}}}const Kx=12;function Wx(a,t,e){let i=e;for(let r=1;r<Kx;r++)i=i-a(i)/t(i);return i}function qd(a,t){return a*Math.sqrt(1-t*t)}const Qx=["duration","bounce"],Zx=["stiffness","damping","mass"];function Uv(a,t){return t.some(e=>a[e]!==void 0)}function Jx(a){let t={velocity:ee.velocity,stiffness:ee.stiffness,damping:ee.damping,mass:ee.mass,isResolvedFromDuration:!1,...a};if(!Uv(a,Zx)&&Uv(a,Qx))if(a.visualDuration){const e=a.visualDuration,i=2*Math.PI/(e*1.2),r=i*i,l=2*bi(.05,1,1-(a.bounce||0))*Math.sqrt(r);t={...t,mass:ee.mass,stiffness:r,damping:l}}else{const e=$x(a);t={...t,...e,mass:ee.mass},t.isResolvedFromDuration=!0}return t}function Rc(a=ee.visualDuration,t=ee.bounce){const e=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:t}:a;let{restSpeed:i,restDelta:r}=e;const l=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],u={done:!1,value:l},{stiffness:d,damping:f,mass:p,duration:m,velocity:v,isResolvedFromDuration:b}=Jx({...e,velocity:-Wn(e.velocity||0)}),A=v||0,S=f/(2*Math.sqrt(d*p)),T=c-l,E=Wn(Math.sqrt(d/p)),R=Math.abs(T)<5;i||(i=R?ee.restSpeed.granular:ee.restSpeed.default),r||(r=R?ee.restDelta.granular:ee.restDelta.default);let _;if(S<1){const C=qd(E,S);_=k=>{const I=Math.exp(-S*E*k);return c-I*((A+S*E*T)/C*Math.sin(C*k)+T*Math.cos(C*k))}}else if(S===1)_=C=>c-Math.exp(-E*C)*(T+(A+E*T)*C);else{const C=E*Math.sqrt(S*S-1);_=k=>{const I=Math.exp(-S*E*k),U=Math.min(C*k,300);return c-I*((A+S*E*T)*Math.sinh(U)+C*T*Math.cosh(U))/C}}const L={calculatedDuration:b&&m||null,next:C=>{const k=_(C);if(b)u.done=C>=m;else{let I=C===0?A:0;S<1&&(I=C===0?Kn(A):fA(_,C,k));const U=Math.abs(I)<=i,G=Math.abs(c-k)<=r;u.done=U&&G}return u.value=u.done?c:k,u},toString:()=>{const C=Math.min(Uf(L),Cc),k=dA(I=>L.next(C*I).value,C,30);return C+"ms "+k},toTransition:()=>{}};return L}Rc.applyToOptions=a=>{const t=Xx(a,100,Rc);return a.ease=t.ease,a.duration=Kn(t.duration),a.type="keyframes",a};function Xd({keyframes:a,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:d,restDelta:f=.5,restSpeed:p}){const m=a[0],v={done:!1,value:m},b=U=>u!==void 0&&U<u||d!==void 0&&U>d,A=U=>u===void 0?d:d===void 0||Math.abs(u-U)<Math.abs(d-U)?u:d;let S=e*t;const T=m+S,E=c===void 0?T:c(T);E!==T&&(S=E-m);const R=U=>-S*Math.exp(-U/i),_=U=>E+R(U),L=U=>{const G=R(U),W=_(U);v.done=Math.abs(G)<=f,v.value=v.done?E:W};let C,k;const I=U=>{b(v.value)&&(C=U,k=Rc({keyframes:[v.value,A(v.value)],velocity:fA(_,U,v.value),damping:r,stiffness:l,restDelta:f,restSpeed:p}))};return I(0),{calculatedDuration:null,next:U=>{let G=!1;return!k&&C===void 0&&(G=!0,L(U),I(U)),C!==void 0&&U>=C?k.next(U-C):(!G&&L(U),v)}}}function t_(a,t,e){const i=[],r=e||Ai.mix||hA,l=a.length-1;for(let c=0;c<l;c++){let u=r(a[c],a[c+1]);if(t){const d=Array.isArray(t)?t[c]||Cn:t;u=Mo(d,u)}i.push(u)}return i}function e_(a,t,{clamp:e=!0,ease:i,mixer:r}={}){const l=a.length;if(Lf(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=a[0]===a[1];a[0]>a[l-1]&&(a=[...a].reverse(),t=[...t].reverse());const u=t_(t,i,r),d=u.length,f=p=>{if(c&&p<a[0])return t[0];let m=0;if(d>1)for(;m<a.length-2&&!(p<a[m+1]);m++);const v=po(a[m],a[m+1],p);return u[m](v)};return e?p=>f(bi(a[0],a[l-1],p)):f}function n_(a,t){const e=a[a.length-1];for(let i=1;i<=t;i++){const r=po(0,t,i);a.push(Wt(e,1,r))}}function i_(a){const t=[0];return n_(t,a.length-1),t}function s_(a,t){return a.map(e=>e*t)}function a_(a,t){return a.map(()=>t||eA).splice(0,a.length-1)}function ro({duration:a=300,keyframes:t,times:e,ease:i="easeInOut"}){const r=mx(i)?i.map(kv):kv(i),l={done:!1,value:t[0]},c=s_(e&&e.length===t.length?e:i_(t),a),u=e_(c,t,{ease:Array.isArray(r)?r:a_(t,r)});return{calculatedDuration:a,next:d=>(l.value=u(d),l.done=d>=a,l)}}const r_=a=>a!==null;function jf(a,{repeat:t,repeatType:e="loop"},i,r=1){const l=a.filter(r_),u=r<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!u||i===void 0?l[u]:i}const o_={decay:Xd,inertia:Xd,tween:ro,keyframes:ro,spring:Rc};function pA(a){typeof a.type=="string"&&(a.type=o_[a.type])}class Hf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const l_=a=>a/100;class Gf extends Hf{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==tn.now()&&this.tick(tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;pA(t);const{type:e=ro,repeat:i=0,repeatDelay:r=0,repeatType:l,velocity:c=0}=t;let{keyframes:u}=t;const d=e||ro;d!==ro&&typeof u[0]!="number"&&(this.mixKeyframes=Mo(l_,hA(u[0],u[1])),u=[0,100]);const f=d({...t,keyframes:u});l==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...u].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=Uf(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=f}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:r,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:p,repeat:m,repeatType:v,repeatDelay:b,type:A,onUpdate:S,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const E=this.currentTime-f*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?E<0:E>r;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let _=this.currentTime,L=i;if(m){const U=Math.min(this.currentTime,r)/u;let G=Math.floor(U),W=U%1;!W&&U>=1&&(W=1),W===1&&G--,G=Math.min(G,m+1),!!(G%2)&&(v==="reverse"?(W=1-W,b&&(W-=b/u)):v==="mirror"&&(L=c)),_=bi(0,1,W)*u}const C=R?{done:!1,value:p[0]}:L.next(_);l&&(C.value=l(C.value));let{done:k}=C;!R&&d!==null&&(k=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return I&&A!==Xd&&(C.value=jf(p,this.options,T,this.speed)),S&&S(C.value),I&&this.finish(),C}then(t,e){return this.finished.then(t,e)}get duration(){return Wn(this.calculatedDuration)}get time(){return Wn(this.currentTime)}set time(t){t=Kn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(tn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Wn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=qx,startTime:e}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function c_(a){for(let t=1;t<a.length;t++)a[t]??(a[t]=a[t-1])}const Cs=a=>a*180/Math.PI,Yd=a=>{const t=Cs(Math.atan2(a[1],a[0]));return $d(t)},u_={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:Yd,rotateZ:Yd,skewX:a=>Cs(Math.atan(a[1])),skewY:a=>Cs(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},$d=a=>(a=a%360,a<0&&(a+=360),a),jv=Yd,Hv=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),Gv=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),h_={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Hv,scaleY:Gv,scale:a=>(Hv(a)+Gv(a))/2,rotateX:a=>$d(Cs(Math.atan2(a[6],a[5]))),rotateY:a=>$d(Cs(Math.atan2(-a[2],a[0]))),rotateZ:jv,rotate:jv,skewX:a=>Cs(Math.atan(a[4])),skewY:a=>Cs(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function Kd(a){return a.includes("scale")?1:0}function Wd(a,t){if(!a||a==="none")return Kd(t);const e=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(e)i=h_,r=e;else{const u=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=u_,r=u}if(!r)return Kd(t);const l=i[t],c=r[1].split(",").map(f_);return typeof l=="function"?l(c):c[l]}const d_=(a,t)=>{const{transform:e="none"}=getComputedStyle(a);return Wd(e,t)};function f_(a){return parseFloat(a.trim())}const qa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xa=new Set(qa),qv=a=>a===Ga||a===yt,p_=new Set(["x","y","z"]),g_=qa.filter(a=>!p_.has(a));function m_(a){const t=[];return g_.forEach(e=>{const i=a.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const Os={width:({x:a},{paddingLeft:t="0",paddingRight:e="0"})=>a.max-a.min-parseFloat(t)-parseFloat(e),height:({y:a},{paddingTop:t="0",paddingBottom:e="0"})=>a.max-a.min-parseFloat(t)-parseFloat(e),top:(a,{top:t})=>parseFloat(t),left:(a,{left:t})=>parseFloat(t),bottom:({y:a},{top:t})=>parseFloat(t)+(a.max-a.min),right:({x:a},{left:t})=>parseFloat(t)+(a.max-a.min),x:(a,{transform:t})=>Wd(t,"x"),y:(a,{transform:t})=>Wd(t,"y")};Os.translateX=Os.x;Os.translateY=Os.y;const Ps=new Set;let Qd=!1,Zd=!1,Jd=!1;function gA(){if(Zd){const a=Array.from(Ps).filter(i=>i.needsMeasurement),t=new Set(a.map(i=>i.element)),e=new Map;t.forEach(i=>{const r=m_(i);r.length&&(e.set(i,r),i.render())}),a.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const r=e.get(i);r&&r.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),a.forEach(i=>i.measureEndState()),a.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Zd=!1,Qd=!1,Ps.forEach(a=>a.complete(Jd)),Ps.clear()}function mA(){Ps.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(Zd=!0)})}function y_(){Jd=!0,mA(),gA(),Jd=!1}class qf{constructor(t,e,i,r,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=r,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ps.add(this),Qd||(Qd=!0,Zt.read(mA),Zt.resolveKeyframes(gA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:r}=this;if(t[0]===null){const l=r?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&e){const u=i.readValue(e,c);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=c),r&&l===void 0&&r.set(t[0])}c_(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ps.delete(this)}cancel(){this.state==="scheduled"&&(Ps.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const v_=a=>a.startsWith("--");function b_(a,t,e){v_(t)?a.style.setProperty(t,e):a.style[t]=e}const A_=Of(()=>window.ScrollTimeline!==void 0),S_={};function w_(a,t){const e=Of(a);return()=>S_[t]??e()}const yA=w_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),eo=([a,t,e,i])=>`cubic-bezier(${a}, ${t}, ${e}, ${i})`,Xv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:eo([0,.65,.55,1]),circOut:eo([.55,0,1,.45]),backIn:eo([.31,.01,.66,-.59]),backOut:eo([.33,1.53,.69,.99])};function vA(a,t){if(a)return typeof a=="function"?yA()?dA(a,t):"ease-out":nA(a)?eo(a):Array.isArray(a)?a.map(e=>vA(e,t)||Xv.easeOut):Xv[a]}function E_(a,t,e,{delay:i=0,duration:r=300,repeat:l=0,repeatType:c="loop",ease:u="easeOut",times:d}={},f=void 0){const p={[t]:e};d&&(p.offset=d);const m=vA(u,r);Array.isArray(m)&&(p.easing=m);const v={delay:i,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),a.animate(p,v)}function bA(a){return typeof a=="function"&&"applyToOptions"in a}function T_({type:a,...t}){return bA(a)&&yA()?a.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class x_ extends Hf{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:i,keyframes:r,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:u,onComplete:d}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Lf(typeof t.type!="string");const f=T_(t);this.animation=E_(e,i,r,f,l),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=jf(r,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):b_(e,i,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Wn(Number(t))}get time(){return Wn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Kn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&A_()?(this.animation.timeline=t,Cn):e(this)}}const AA={anticipate:Z0,backInOut:Q0,circInOut:tA};function __(a){return a in AA}function C_(a){typeof a.ease=="string"&&__(a.ease)&&(a.ease=AA[a.ease])}const Yv=10;class R_ extends x_{constructor(t){C_(t),pA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:r,element:l,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const u=new Gf({...c,autoplay:!1}),d=Kn(this.finishedTime??this.time);e.setWithVelocity(u.sample(d-Yv).value,u.sample(d).value,Yv),u.stop()}}const $v=(a,t)=>t==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(Ji.test(a)||a==="0")&&!a.startsWith("url("));function M_(a){const t=a[0];if(a.length===1)return!0;for(let e=0;e<a.length;e++)if(a[e]!==t)return!0}function D_(a,t,e,i){const r=a[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const l=a[a.length-1],c=$v(r,t),u=$v(l,t);return!c||!u?!1:M_(a)||(e==="spring"||bA(e))&&i}function Xf(a){return G0(a)&&"offsetHeight"in a}const L_=new Set(["opacity","clipPath","filter","transform"]),O_=Of(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function P_(a){const{motionValue:t,name:e,repeatDelay:i,repeatType:r,damping:l,type:c}=a;if(!Xf(t?.owner?.current))return!1;const{onUpdate:u,transformTemplate:d}=t.owner.getProps();return O_()&&e&&L_.has(e)&&(e!=="transform"||!d)&&!u&&!i&&r!=="mirror"&&l!==0&&c!=="inertia"}const N_=40;class k_ extends Hf{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:r=0,repeatDelay:l=0,repeatType:c="loop",keyframes:u,name:d,motionValue:f,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=tn.now();const v={autoplay:t,delay:e,type:i,repeat:r,repeatDelay:l,repeatType:c,name:d,motionValue:f,element:p,...m},b=p?.KeyframeResolver||qf;this.keyframeResolver=new b(u,(A,S,T)=>this.onKeyframesResolved(A,S,v,!T),d,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,i,r){this.keyframeResolver=void 0;const{name:l,type:c,velocity:u,delay:d,isHandoff:f,onUpdate:p}=i;this.resolvedAt=tn.now(),D_(t,l,c,u)||((Ai.instantAnimations||!d)&&p?.(jf(t,i,e)),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const v={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>N_?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},b=!f&&P_(v)?new R_({...v,element:v.motionValue.owner.current}):new Gf(v);b.finished.then(()=>this.notifyFinished()).catch(Cn),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),y_()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const I_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function B_(a){const t=I_.exec(a);if(!t)return[,];const[,e,i,r]=t;return[`--${e??i}`,r]}function SA(a,t,e=1){const[i,r]=B_(a);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const c=l.trim();return H0(c)?parseFloat(c):c}return Bf(r)?SA(r,t,e+1):r}function Yf(a,t){return a?.[t]??a?.default??a}const wA=new Set(["width","height","top","left","right","bottom",...qa]),F_={test:a=>a==="auto",parse:a=>a},EA=a=>t=>t.test(a),TA=[Ga,yt,Qn,Ki,Mx,Rx,F_],Kv=a=>TA.find(EA(a));function V_(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||q0(a):!0}const z_=new Set(["brightness","contrast","saturate","opacity"]);function U_(a){const[t,e]=a.slice(0,-1).split("(");if(t==="drop-shadow")return a;const[i]=e.match(Ff)||[];if(!i)return a;const r=e.replace(i,"");let l=z_.has(t)?1:0;return i!==e&&(l*=100),t+"("+l+r+")"}const j_=/\b([a-z-]*)\(.*?\)/gu,tf={...Ji,getAnimatableNone:a=>{const t=a.match(j_);return t?t.map(U_).join(" "):a}},Wv={...Ga,transform:Math.round},H_={rotate:Ki,rotateX:Ki,rotateY:Ki,rotateZ:Ki,scale:rc,scaleX:rc,scaleY:rc,scaleZ:rc,skew:Ki,skewX:Ki,skewY:Ki,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:go,originX:Bv,originY:Bv,originZ:yt},$f={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,radius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,top:yt,right:yt,bottom:yt,left:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,backgroundPositionX:yt,backgroundPositionY:yt,...H_,zIndex:Wv,fillOpacity:go,strokeOpacity:go,numOctaves:Wv},G_={...$f,color:pe,backgroundColor:pe,outlineColor:pe,fill:pe,stroke:pe,borderColor:pe,borderTopColor:pe,borderRightColor:pe,borderBottomColor:pe,borderLeftColor:pe,filter:tf,WebkitFilter:tf},xA=a=>G_[a];function _A(a,t){let e=xA(a);return e!==tf&&(e=Ji),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const q_=new Set(["auto","none","0"]);function X_(a,t,e){let i=0,r;for(;i<a.length&&!r;){const l=a[i];typeof l=="string"&&!q_.has(l)&&mo(l).values.length&&(r=a[i]),i++}if(r&&e)for(const l of t)a[l]=_A(e,r)}class Y_ extends qf{constructor(t,e,i,r,l){super(t,e,i,r,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),Bf(f))){const p=SA(f,e.current);p!==void 0&&(t[d]=p),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!wA.has(i)||t.length!==2)return;const[r,l]=t,c=Kv(r),u=Kv(l);if(c!==u)if(qv(c)&&qv(u))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else Os[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let r=0;r<t.length;r++)(t[r]===null||V_(t[r]))&&i.push(r);i.length&&X_(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Os[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];r!==void 0&&t.getValue(i,r).jump(r,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(e);r&&r.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Os[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{t.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function $_(a,t,e){if(a instanceof EventTarget)return[a];if(typeof a=="string"){let i=document;const r=e?.[a]??i.querySelectorAll(a);return r?Array.from(r):[]}return Array.from(a)}const CA=(a,t)=>t&&typeof a=="number"?t.transform(a):a,Qv=30,K_=a=>!isNaN(parseFloat(a));class W_{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const l=tn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();r&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=tn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=K_(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Pf);const i=this.events[t].add(e);return t==="change"?()=>{i(),Zt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Qv)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,Qv);return X0(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Va(a,t){return new W_(a,t)}const{schedule:Kf}=iA(queueMicrotask,!1),On={x:!1,y:!1};function RA(){return On.x||On.y}function Q_(a){return a==="x"||a==="y"?On[a]?null:(On[a]=!0,()=>{On[a]=!1}):On.x||On.y?null:(On.x=On.y=!0,()=>{On.x=On.y=!1})}function MA(a,t){const e=$_(a),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[e,r,()=>i.abort()]}function Zv(a){return!(a.pointerType==="touch"||RA())}function Z_(a,t,e={}){const[i,r,l]=MA(a,e),c=u=>{if(!Zv(u))return;const{target:d}=u,f=t(d,u);if(typeof f!="function"||!d)return;const p=m=>{Zv(m)&&(f(m),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,r)};return i.forEach(u=>{u.addEventListener("pointerenter",c,r)}),l}const DA=(a,t)=>t?a===t?!0:DA(a,t.parentElement):!1,Wf=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,J_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tC(a){return J_.has(a.tagName)||a.tabIndex!==-1}const Ac=new WeakSet;function Jv(a){return t=>{t.key==="Enter"&&a(t)}}function Td(a,t){a.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const eC=(a,t)=>{const e=a.currentTarget;if(!e)return;const i=Jv(()=>{if(Ac.has(e))return;Td(e,"down");const r=Jv(()=>{Td(e,"up")}),l=()=>Td(e,"cancel");e.addEventListener("keyup",r,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function tb(a){return Wf(a)&&!RA()}function nC(a,t,e={}){const[i,r,l]=MA(a,e),c=u=>{const d=u.currentTarget;if(!tb(u))return;Ac.add(d);const f=t(d,u),p=(b,A)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",v),Ac.has(d)&&Ac.delete(d),tb(b)&&typeof f=="function"&&f(b,{success:A})},m=b=>{p(b,d===window||d===document||e.useGlobalTarget||DA(d,b.target))},v=b=>{p(b,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",v,r)};return i.forEach(u=>{(e.useGlobalTarget?window:u).addEventListener("pointerdown",c,r),Xf(u)&&(u.addEventListener("focus",f=>eC(f,r)),!tC(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),l}function LA(a){return G0(a)&&"ownerSVGElement"in a}function iC(a){return LA(a)&&a.tagName==="svg"}const ze=a=>!!(a&&a.getVelocity),sC=[...TA,pe,Ji],aC=a=>sC.find(EA(a)),Qf=D.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});class rC extends D.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,r=Xf(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=e.offsetHeight||0,l.width=e.offsetWidth||0,l.top=e.offsetTop,l.left=e.offsetLeft,l.right=r-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function oC({children:a,isPresent:t,anchorX:e}){const i=D.useId(),r=D.useRef(null),l=D.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=D.useContext(Qf);return D.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:p,right:m}=l.current;if(t||!r.current||!u||!d)return;const v=e==="left"?`left: ${p}`:`right: ${m}`;r.current.dataset.motionPopId=i;const b=document.createElement("style");return c&&(b.nonce=c),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(b)&&document.head.removeChild(b)}},[t]),X.jsx(rC,{isPresent:t,childRef:r,sizeRef:l,children:D.cloneElement(a,{ref:r})})}const lC=({children:a,initial:t,isPresent:e,onExitComplete:i,custom:r,presenceAffectsLayout:l,mode:c,anchorX:u})=>{const d=Cf(cC),f=D.useId();let p=!0,m=D.useMemo(()=>(p=!1,{id:f,initial:t,isPresent:e,custom:r,onExitComplete:v=>{d.set(v,!0);for(const b of d.values())if(!b)return;i&&i()},register:v=>(d.set(v,!1),()=>d.delete(v))}),[e,d,i]);return l&&p&&(m={...m}),D.useMemo(()=>{d.forEach((v,b)=>d.set(b,!1))},[e]),D.useEffect(()=>{!e&&!d.size&&i&&i()},[e]),c==="popLayout"&&(a=X.jsx(oC,{isPresent:e,anchorX:u,children:a})),X.jsx(Ic.Provider,{value:m,children:a})};function cC(){return new Map}function OA(a=!0){const t=D.useContext(Ic);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:r}=t,l=D.useId();D.useEffect(()=>{if(a)return r(l)},[a]);const c=D.useCallback(()=>a&&i&&i(l),[l,i,a]);return!e&&i?[!1,c]:[!0]}const oc=a=>a.key||"";function eb(a){const t=[];return D.Children.forEach(a,e=>{D.isValidElement(e)&&t.push(e)}),t}const uC=({children:a,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:l="sync",propagate:c=!1,anchorX:u="left"})=>{const[d,f]=OA(c),p=D.useMemo(()=>eb(a),[a]),m=c&&!d?[]:p.map(oc),v=D.useRef(!0),b=D.useRef(p),A=Cf(()=>new Map),[S,T]=D.useState(p),[E,R]=D.useState(p);j0(()=>{v.current=!1,b.current=p;for(let C=0;C<E.length;C++){const k=oc(E[C]);m.includes(k)?A.delete(k):A.get(k)!==!0&&A.set(k,!1)}},[E,m.length,m.join("-")]);const _=[];if(p!==S){let C=[...p];for(let k=0;k<E.length;k++){const I=E[k],U=oc(I);m.includes(U)||(C.splice(k,0,I),_.push(I))}return l==="wait"&&_.length&&(C=_),R(eb(C)),T(p),null}const{forceRender:L}=D.useContext(_f);return X.jsx(X.Fragment,{children:E.map(C=>{const k=oc(C),I=c&&!d?!1:p===E||m.includes(k),U=()=>{if(A.has(k))A.set(k,!0);else return;let G=!0;A.forEach(W=>{W||(G=!1)}),G&&(L?.(),R(b.current),c&&f?.(),i&&i())};return X.jsx(lC,{isPresent:I,initial:!v.current||e?void 0:!1,custom:t,presenceAffectsLayout:r,mode:l,onExitComplete:I?void 0:U,anchorX:u,children:C},k)})})},PA=D.createContext({strict:!1}),nb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},za={};for(const a in nb)za[a]={isEnabled:t=>nb[a].some(e=>!!t[e])};function hC(a){for(const t in a)za[t]={...za[t],...a[t]}}const dC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mc(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||dC.has(a)}let NA=a=>!Mc(a);function fC(a){typeof a=="function"&&(NA=t=>t.startsWith("on")?!Mc(t):a(t))}try{fC(require("@emotion/is-prop-valid").default)}catch{}function pC(a,t,e){const i={};for(const r in a)r==="values"&&typeof a.values=="object"||(NA(r)||e===!0&&Mc(r)||!t&&!Mc(r)||a.draggable&&r.startsWith("onDrag"))&&(i[r]=a[r]);return i}function gC(a){if(typeof Proxy>"u")return a;const t=new Map,e=(...i)=>a(...i);return new Proxy(e,{get:(i,r)=>r==="create"?a:(t.has(r)||t.set(r,a(r)),t.get(r))})}const Bc=D.createContext({});function Fc(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function yo(a){return typeof a=="string"||Array.isArray(a)}const Zf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jf=["initial",...Zf];function Vc(a){return Fc(a.animate)||Jf.some(t=>yo(a[t]))}function kA(a){return!!(Vc(a)||a.variants)}function mC(a,t){if(Vc(a)){const{initial:e,animate:i}=a;return{initial:e===!1||yo(e)?e:void 0,animate:yo(i)?i:void 0}}return a.inherit!==!1?t:{}}function yC(a){const{initial:t,animate:e}=mC(a,D.useContext(Bc));return D.useMemo(()=>({initial:t,animate:e}),[ib(t),ib(e)])}function ib(a){return Array.isArray(a)?a.join(" "):a}const vC=Symbol.for("motionComponentSymbol");function Ma(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function bC(a,t,e){return D.useCallback(i=>{i&&a.onMount&&a.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):Ma(e)&&(e.current=i))},[t])}const tp=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),AC="framerAppearId",IA="data-"+tp(AC),BA=D.createContext({});function SC(a,t,e,i,r){const{visualElement:l}=D.useContext(Bc),c=D.useContext(PA),u=D.useContext(Ic),d=D.useContext(Qf).reducedMotion,f=D.useRef(null);i=i||c.renderer,!f.current&&i&&(f.current=i(a,{visualState:t,parent:l,props:e,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,m=D.useContext(BA);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&wC(f.current,e,r,m);const v=D.useRef(!1);D.useInsertionEffect(()=>{p&&v.current&&p.update(e,u)});const b=e[IA],A=D.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return j0(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Kf.render(p.render),A.current&&p.animationState&&p.animationState.animateChanges())}),D.useEffect(()=>{p&&(!A.current&&p.animationState&&p.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),A.current=!1))}),p}function wC(a,t,e,i){const{layoutId:r,layout:l,drag:c,dragConstraints:u,layoutScroll:d,layoutRoot:f,layoutCrossfade:p}=t;a.projection=new e(a.latestValues,t["data-framer-portal-id"]?void 0:FA(a.parent)),a.projection.setOptions({layoutId:r,layout:l,alwaysMeasureLayout:!!c||u&&Ma(u),visualElement:a,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:d,layoutRoot:f})}function FA(a){if(a)return a.options.allowProjection!==!1?a.projection:FA(a.parent)}function EC({preloadedFeatures:a,createVisualElement:t,useRender:e,useVisualState:i,Component:r}){a&&hC(a);function l(u,d){let f;const p={...D.useContext(Qf),...u,layoutId:TC(u)},{isStatic:m}=p,v=yC(u),b=i(u,m);if(!m&&Rf){xC();const A=_C(p);f=A.MeasureLayout,v.visualElement=SC(r,b,p,t,A.ProjectionNode)}return X.jsxs(Bc.Provider,{value:v,children:[f&&v.visualElement?X.jsx(f,{visualElement:v.visualElement,...p}):null,e(r,u,bC(b,v.visualElement,d),b,m,v.visualElement)]})}l.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const c=D.forwardRef(l);return c[vC]=r,c}function TC({layoutId:a}){const t=D.useContext(_f).id;return t&&a!==void 0?t+"-"+a:a}function xC(a,t){D.useContext(PA).strict}function _C(a){const{drag:t,layout:e}=za;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t?.isEnabled(a)||e?.isEnabled(a)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const vo={};function CC(a){for(const t in a)vo[t]=a[t],If(t)&&(vo[t].isCSSVariable=!0)}function VA(a,{layout:t,layoutId:e}){return Xa.has(a)||a.startsWith("origin")||(t||e!==void 0)&&(!!vo[a]||a==="opacity")}const RC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MC=qa.length;function DC(a,t,e){let i="",r=!0;for(let l=0;l<MC;l++){const c=qa[l],u=a[c];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(c.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||e){const f=CA(u,$f[c]);if(!d){r=!1;const p=RC[c]||c;i+=`${p}(${f}) `}e&&(t[c]=f)}}return i=i.trim(),e?i=e(t,r?"":i):r&&(i="none"),i}function ep(a,t,e){const{style:i,vars:r,transformOrigin:l}=a;let c=!1,u=!1;for(const d in t){const f=t[d];if(Xa.has(d)){c=!0;continue}else if(If(d)){r[d]=f;continue}else{const p=CA(f,$f[d]);d.startsWith("origin")?(u=!0,l[d]=p):i[d]=p}}if(t.transform||(c||e?i.transform=DC(t,a.transform,e):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:p=0}=l;i.transformOrigin=`${d} ${f} ${p}`}}const np=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zA(a,t,e){for(const i in t)!ze(t[i])&&!VA(i,e)&&(a[i]=t[i])}function LC({transformTemplate:a},t){return D.useMemo(()=>{const e=np();return ep(e,t,a),Object.assign({},e.vars,e.style)},[t])}function OC(a,t){const e=a.style||{},i={};return zA(i,e,a),Object.assign(i,LC(a,t)),i}function PC(a,t){const e={},i=OC(a,t);return a.drag&&a.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(e.tabIndex=0),e.style=i,e}const NC={offset:"stroke-dashoffset",array:"stroke-dasharray"},kC={offset:"strokeDashoffset",array:"strokeDasharray"};function IC(a,t,e=1,i=0,r=!0){a.pathLength=1;const l=r?NC:kC;a[l.offset]=yt.transform(-i);const c=yt.transform(t),u=yt.transform(e);a[l.array]=`${c} ${u}`}function UA(a,{attrX:t,attrY:e,attrScale:i,pathLength:r,pathSpacing:l=1,pathOffset:c=0,...u},d,f,p){if(ep(a,u,f),d){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:m,style:v}=a;m.transform&&(v.transform=m.transform,delete m.transform),(v.transform||m.transformOrigin)&&(v.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),v.transform&&(v.transformBox=p?.transformBox??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),e!==void 0&&(m.y=e),i!==void 0&&(m.scale=i),r!==void 0&&IC(m,r,l,c,!1)}const jA=()=>({...np(),attrs:{}}),HA=a=>typeof a=="string"&&a.toLowerCase()==="svg";function BC(a,t,e,i){const r=D.useMemo(()=>{const l=jA();return UA(l,t,HA(i),a.transformTemplate,a.style),{...l.attrs,style:{...l.style}}},[t]);if(a.style){const l={};zA(l,a.style,a),r.style={...l,...r.style}}return r}const FC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ip(a){return typeof a!="string"||a.includes("-")?!1:!!(FC.indexOf(a)>-1||/[A-Z]/u.test(a))}function VC(a=!1){return(e,i,r,{latestValues:l},c)=>{const d=(ip(e)?BC:PC)(i,l,c,e),f=pC(i,typeof e=="string",a),p=e!==D.Fragment?{...f,...d,ref:r}:{},{children:m}=i,v=D.useMemo(()=>ze(m)?m.get():m,[m]);return D.createElement(e,{...p,children:v})}}function sb(a){const t=[{},{}];return a?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function sp(a,t,e,i){if(typeof t=="function"){const[r,l]=sb(i);t=t(e!==void 0?e:a.custom,r,l)}if(typeof t=="string"&&(t=a.variants&&a.variants[t]),typeof t=="function"){const[r,l]=sb(i);t=t(e!==void 0?e:a.custom,r,l)}return t}function Sc(a){return ze(a)?a.get():a}function zC({scrapeMotionValuesFromProps:a,createRenderState:t},e,i,r){return{latestValues:UC(e,i,r,a),renderState:t()}}const GA=a=>(t,e)=>{const i=D.useContext(Bc),r=D.useContext(Ic),l=()=>zC(a,t,i,r);return e?l():Cf(l)};function UC(a,t,e,i){const r={},l=i(a,{});for(const v in l)r[v]=Sc(l[v]);let{initial:c,animate:u}=a;const d=Vc(a),f=kA(a);t&&f&&!d&&a.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let p=e?e.initial===!1:!1;p=p||c===!1;const m=p?u:c;if(m&&typeof m!="boolean"&&!Fc(m)){const v=Array.isArray(m)?m:[m];for(let b=0;b<v.length;b++){const A=sp(a,v[b]);if(A){const{transitionEnd:S,transition:T,...E}=A;for(const R in E){let _=E[R];if(Array.isArray(_)){const L=p?_.length-1:0;_=_[L]}_!==null&&(r[R]=_)}for(const R in S)r[R]=S[R]}}}return r}function ap(a,t,e){const{style:i}=a,r={};for(const l in i)(ze(i[l])||t.style&&ze(t.style[l])||VA(l,a)||e?.getValue(l)?.liveStyle!==void 0)&&(r[l]=i[l]);return r}const jC={useVisualState:GA({scrapeMotionValuesFromProps:ap,createRenderState:np})};function qA(a,t,e){const i=ap(a,t,e);for(const r in a)if(ze(a[r])||ze(t[r])){const l=qa.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[l]=a[r]}return i}const HC={useVisualState:GA({scrapeMotionValuesFromProps:qA,createRenderState:jA})};function GC(a,t){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const c={...ip(i)?HC:jC,preloadedFeatures:a,useRender:VC(r),createVisualElement:t,Component:i};return EC(c)}}function bo(a,t,e){const i=a.getProps();return sp(i,t,e!==void 0?e:i.custom,a)}const ef=a=>Array.isArray(a);function qC(a,t,e){a.hasValue(t)?a.getValue(t).set(e):a.addValue(t,Va(e))}function XC(a){return ef(a)?a[a.length-1]||0:a}function YC(a,t){const e=bo(a,t);let{transitionEnd:i={},transition:r={},...l}=e||{};l={...l,...i};for(const c in l){const u=XC(l[c]);qC(a,c,u)}}function $C(a){return!!(ze(a)&&a.add)}function nf(a,t){const e=a.getValue("willChange");if($C(e))return e.add(t);if(!e&&Ai.WillChange){const i=new Ai.WillChange("auto");a.addValue("willChange",i),i.add(t)}}function XA(a){return a.props[IA]}const KC=a=>a!==null;function WC(a,{repeat:t,repeatType:e="loop"},i){const r=a.filter(KC),l=t&&e!=="loop"&&t%2===1?0:r.length-1;return r[l]}const QC={type:"spring",stiffness:500,damping:25,restSpeed:10},ZC=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),JC={type:"keyframes",duration:.8},tR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eR=(a,{keyframes:t})=>t.length>2?JC:Xa.has(a)?a.startsWith("scale")?ZC(t[1]):QC:tR;function nR({when:a,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:r,repeat:l,repeatType:c,repeatDelay:u,from:d,elapsed:f,...p}){return!!Object.keys(p).length}const rp=(a,t,e,i={},r,l)=>c=>{const u=Yf(i,a)||{},d=u.delay||i.delay||0;let{elapsed:f=0}=i;f=f-Kn(d);const p={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:v=>{t.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:a,motionValue:t,element:l?void 0:r};nR(u)||Object.assign(p,eR(a,p)),p.duration&&(p.duration=Kn(p.duration)),p.repeatDelay&&(p.repeatDelay=Kn(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(m=!0)),(Ai.instantAnimations||Ai.skipAnimations)&&(m=!0,p.duration=0,p.delay=0),p.allowFlatten=!u.type&&!u.ease,m&&!l&&t.get()!==void 0){const v=WC(p.keyframes,u);if(v!==void 0){Zt.update(()=>{p.onUpdate(v),p.onComplete()});return}}return u.isSync?new Gf(p):new k_(p)};function iR({protectedKeys:a,needsAnimating:t},e){const i=a.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function YA(a,t,{delay:e=0,transitionOverride:i,type:r}={}){let{transition:l=a.getDefaultTransition(),transitionEnd:c,...u}=t;i&&(l=i);const d=[],f=r&&a.animationState&&a.animationState.getState()[r];for(const p in u){const m=a.getValue(p,a.latestValues[p]??null),v=u[p];if(v===void 0||f&&iR(f,p))continue;const b={delay:e,...Yf(l||{},p)},A=m.get();if(A!==void 0&&!m.isAnimating&&!Array.isArray(v)&&v===A&&!b.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const E=XA(a);if(E){const R=window.MotionHandoffAnimation(E,p,Zt);R!==null&&(b.startTime=R,S=!0)}}nf(a,p),m.start(rp(p,m,v,a.shouldReduceMotion&&wA.has(p)?{type:!1}:b,a,S));const T=m.animation;T&&d.push(T)}return c&&Promise.all(d).then(()=>{Zt.update(()=>{c&&YC(a,c)})}),d}function sf(a,t,e={}){const i=bo(a,t,e.type==="exit"?a.presenceContext?.custom:void 0);let{transition:r=a.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(r=e.transitionOverride);const l=i?()=>Promise.all(YA(a,i,e)):()=>Promise.resolve(),c=a.variantChildren&&a.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=r;return sR(a,t,f+d,p,m,e)}:()=>Promise.resolve(),{when:u}=r;if(u){const[d,f]=u==="beforeChildren"?[l,c]:[c,l];return d().then(()=>f())}else return Promise.all([l(),c(e.delay)])}function sR(a,t,e=0,i=0,r=1,l){const c=[],u=(a.variantChildren.size-1)*i,d=r===1?(f=0)=>f*i:(f=0)=>u-f*i;return Array.from(a.variantChildren).sort(aR).forEach((f,p)=>{f.notify("AnimationStart",t),c.push(sf(f,t,{...l,delay:e+d(p)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(c)}function aR(a,t){return a.sortNodePosition(t)}function rR(a,t,e={}){a.notify("AnimationStart",t);let i;if(Array.isArray(t)){const r=t.map(l=>sf(a,l,e));i=Promise.all(r)}else if(typeof t=="string")i=sf(a,t,e);else{const r=typeof t=="function"?bo(a,t,e.custom):t;i=Promise.all(YA(a,r,e))}return i.then(()=>{a.notify("AnimationComplete",t)})}function $A(a,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==a.length)return!1;for(let i=0;i<e;i++)if(t[i]!==a[i])return!1;return!0}const oR=Jf.length;function KA(a){if(!a)return;if(!a.isControllingVariants){const e=a.parent?KA(a.parent)||{}:{};return a.props.initial!==void 0&&(e.initial=a.props.initial),e}const t={};for(let e=0;e<oR;e++){const i=Jf[e],r=a.props[i];(yo(r)||r===!1)&&(t[i]=r)}return t}const lR=[...Zf].reverse(),cR=Zf.length;function uR(a){return t=>Promise.all(t.map(({animation:e,options:i})=>rR(a,e,i)))}function hR(a){let t=uR(a),e=ab(),i=!0;const r=d=>(f,p)=>{const m=bo(a,p,d==="exit"?a.presenceContext?.custom:void 0);if(m){const{transition:v,transitionEnd:b,...A}=m;f={...f,...A,...b}}return f};function l(d){t=d(a)}function c(d){const{props:f}=a,p=KA(a.parent)||{},m=[],v=new Set;let b={},A=1/0;for(let T=0;T<cR;T++){const E=lR[T],R=e[E],_=f[E]!==void 0?f[E]:p[E],L=yo(_),C=E===d?R.isActive:null;C===!1&&(A=T);let k=_===p[E]&&_!==f[E]&&L;if(k&&i&&a.manuallyAnimateOnMount&&(k=!1),R.protectedKeys={...b},!R.isActive&&C===null||!_&&!R.prevProp||Fc(_)||typeof _=="boolean")continue;const I=dR(R.prevProp,_);let U=I||E===d&&R.isActive&&!k&&L||T>A&&L,G=!1;const W=Array.isArray(_)?_:[_];let Z=W.reduce(r(E),{});C===!1&&(Z={});const{prevResolvedValues:st={}}=R,vt={...st,...Z},ct=F=>{U=!0,v.has(F)&&(G=!0,v.delete(F)),R.needsAnimating[F]=!0;const tt=a.getValue(F);tt&&(tt.liveStyle=!1)};for(const F in vt){const tt=Z[F],pt=st[F];if(b.hasOwnProperty(F))continue;let O=!1;ef(tt)&&ef(pt)?O=!$A(tt,pt):O=tt!==pt,O?tt!=null?ct(F):v.add(F):tt!==void 0&&v.has(F)?ct(F):R.protectedKeys[F]=!0}R.prevProp=_,R.prevResolvedValues=Z,R.isActive&&(b={...b,...Z}),i&&a.blockInitialAnimation&&(U=!1),U&&(!(k&&I)||G)&&m.push(...W.map(F=>({animation:F,options:{type:E}})))}if(v.size){const T={};if(typeof f.initial!="boolean"){const E=bo(a,Array.isArray(f.initial)?f.initial[0]:f.initial);E&&E.transition&&(T.transition=E.transition)}v.forEach(E=>{const R=a.getBaseTarget(E),_=a.getValue(E);_&&(_.liveStyle=!0),T[E]=R??null}),m.push({animation:T})}let S=!!m.length;return i&&(f.initial===!1||f.initial===f.animate)&&!a.manuallyAnimateOnMount&&(S=!1),i=!1,S?t(m):Promise.resolve()}function u(d,f){if(e[d].isActive===f)return Promise.resolve();a.variantChildren?.forEach(m=>m.animationState?.setActive(d,f)),e[d].isActive=f;const p=c(d);for(const m in e)e[m].protectedKeys={};return p}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>e,reset:()=>{e=ab(),i=!0}}}function dR(a,t){return typeof t=="string"?t!==a:Array.isArray(t)?!$A(t,a):!1}function ws(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ab(){return{animate:ws(!0),whileInView:ws(),whileHover:ws(),whileTap:ws(),whileDrag:ws(),whileFocus:ws(),exit:ws()}}class ns{constructor(t){this.isMounted=!1,this.node=t}update(){}}class fR extends ns{constructor(t){super(t),t.animationState||(t.animationState=hR(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Fc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let pR=0;class gR extends ns{constructor(){super(...arguments),this.id=pR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const mR={animation:{Feature:fR},exit:{Feature:gR}};function Ao(a,t,e,i={passive:!0}){return a.addEventListener(t,e,i),()=>a.removeEventListener(t,e)}function Oo(a){return{point:{x:a.pageX,y:a.pageY}}}const yR=a=>t=>Wf(t)&&a(t,Oo(t));function oo(a,t,e,i){return Ao(a,t,yR(e),i)}function WA({top:a,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:a,max:i}}}function vR({x:a,y:t}){return{top:t.min,right:a.max,bottom:t.max,left:a.min}}function bR(a,t){if(!t)return a;const e=t({x:a.left,y:a.top}),i=t({x:a.right,y:a.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}const QA=1e-4,AR=1-QA,SR=1+QA,ZA=.01,wR=0-ZA,ER=0+ZA;function He(a){return a.max-a.min}function TR(a,t,e){return Math.abs(a-t)<=e}function rb(a,t,e,i=.5){a.origin=i,a.originPoint=Wt(t.min,t.max,a.origin),a.scale=He(e)/He(t),a.translate=Wt(e.min,e.max,a.origin)-a.originPoint,(a.scale>=AR&&a.scale<=SR||isNaN(a.scale))&&(a.scale=1),(a.translate>=wR&&a.translate<=ER||isNaN(a.translate))&&(a.translate=0)}function lo(a,t,e,i){rb(a.x,t.x,e.x,i?i.originX:void 0),rb(a.y,t.y,e.y,i?i.originY:void 0)}function ob(a,t,e){a.min=e.min+t.min,a.max=a.min+He(t)}function xR(a,t,e){ob(a.x,t.x,e.x),ob(a.y,t.y,e.y)}function lb(a,t,e){a.min=t.min-e.min,a.max=a.min+He(t)}function co(a,t,e){lb(a.x,t.x,e.x),lb(a.y,t.y,e.y)}const cb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Da=()=>({x:cb(),y:cb()}),ub=()=>({min:0,max:0}),re=()=>({x:ub(),y:ub()});function _n(a){return[a("x"),a("y")]}function xd(a){return a===void 0||a===1}function af({scale:a,scaleX:t,scaleY:e}){return!xd(a)||!xd(t)||!xd(e)}function Ts(a){return af(a)||JA(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function JA(a){return hb(a.x)||hb(a.y)}function hb(a){return a&&a!=="0%"}function Dc(a,t,e){const i=a-e,r=t*i;return e+r}function db(a,t,e,i,r){return r!==void 0&&(a=Dc(a,r,i)),Dc(a,e,i)+t}function rf(a,t=0,e=1,i,r){a.min=db(a.min,t,e,i,r),a.max=db(a.max,t,e,i,r)}function tS(a,{x:t,y:e}){rf(a.x,t.translate,t.scale,t.originPoint),rf(a.y,e.translate,e.scale,e.originPoint)}const fb=.999999999999,pb=1.0000000000001;function _R(a,t,e,i=!1){const r=e.length;if(!r)return;t.x=t.y=1;let l,c;for(let u=0;u<r;u++){l=e[u],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Oa(a,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,tS(a,c)),i&&Ts(l.latestValues)&&Oa(a,l.latestValues))}t.x<pb&&t.x>fb&&(t.x=1),t.y<pb&&t.y>fb&&(t.y=1)}function La(a,t){a.min=a.min+t,a.max=a.max+t}function gb(a,t,e,i,r=.5){const l=Wt(a.min,a.max,r);rf(a,t,e,l,i)}function Oa(a,t){gb(a.x,t.x,t.scaleX,t.scale,t.originX),gb(a.y,t.y,t.scaleY,t.scale,t.originY)}function eS(a,t){return WA(bR(a.getBoundingClientRect(),t))}function CR(a,t,e){const i=eS(a,e),{scroll:r}=t;return r&&(La(i.x,r.offset.x),La(i.y,r.offset.y)),i}const nS=({current:a})=>a?a.ownerDocument.defaultView:null,mb=(a,t)=>Math.abs(a-t);function RR(a,t){const e=mb(a.x,t.x),i=mb(a.y,t.y);return Math.sqrt(e**2+i**2)}class iS{constructor(t,e,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Cd(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=RR(m.offset,{x:0,y:0})>=3;if(!v&&!b)return;const{point:A}=m,{timestamp:S}=Oe;this.history.push({...A,timestamp:S});const{onStart:T,onMove:E}=this.handlers;v||(T&&T(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,m)},this.handlePointerMove=(m,v)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=_d(v,this.transformPagePoint),Zt.update(this.updatePoint,!0)},this.handlePointerUp=(m,v)=>{this.end();const{onEnd:b,onSessionEnd:A,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Cd(m.type==="pointercancel"?this.lastMoveEventInfo:_d(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,T),A&&A(m,T)},!Wf(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=i,this.contextWindow=r||window;const c=Oo(t),u=_d(c,this.transformPagePoint),{point:d}=u,{timestamp:f}=Oe;this.history=[{...d,timestamp:f}];const{onSessionStart:p}=e;p&&p(t,Cd(u,this.history)),this.removeListeners=Mo(oo(this.contextWindow,"pointermove",this.handlePointerMove),oo(this.contextWindow,"pointerup",this.handlePointerUp),oo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zi(this.updatePoint)}}function _d(a,t){return t?{point:t(a.point)}:a}function yb(a,t){return{x:a.x-t.x,y:a.y-t.y}}function Cd({point:a},t){return{point:a,delta:yb(a,sS(t)),offset:yb(a,MR(t)),velocity:DR(t,.1)}}function MR(a){return a[0]}function sS(a){return a[a.length-1]}function DR(a,t){if(a.length<2)return{x:0,y:0};let e=a.length-1,i=null;const r=sS(a);for(;e>=0&&(i=a[e],!(r.timestamp-i.timestamp>Kn(t)));)e--;if(!i)return{x:0,y:0};const l=Wn(r.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(r.x-i.x)/l,y:(r.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function LR(a,{min:t,max:e},i){return t!==void 0&&a<t?a=i?Wt(t,a,i.min):Math.max(a,t):e!==void 0&&a>e&&(a=i?Wt(e,a,i.max):Math.min(a,e)),a}function vb(a,t,e){return{min:t!==void 0?a.min+t:void 0,max:e!==void 0?a.max+e-(a.max-a.min):void 0}}function OR(a,{top:t,left:e,bottom:i,right:r}){return{x:vb(a.x,e,r),y:vb(a.y,t,i)}}function bb(a,t){let e=t.min-a.min,i=t.max-a.max;return t.max-t.min<a.max-a.min&&([e,i]=[i,e]),{min:e,max:i}}function PR(a,t){return{x:bb(a.x,t.x),y:bb(a.y,t.y)}}function NR(a,t){let e=.5;const i=He(a),r=He(t);return r>i?e=po(t.min,t.max-i,a.min):i>r&&(e=po(a.min,a.max-r,t.min)),bi(0,1,e)}function kR(a,t){const e={};return t.min!==void 0&&(e.min=t.min-a.min),t.max!==void 0&&(e.max=t.max-a.min),e}const of=.35;function IR(a=of){return a===!1?a=0:a===!0&&(a=of),{x:Ab(a,"left","right"),y:Ab(a,"top","bottom")}}function Ab(a,t,e){return{min:Sb(a,t),max:Sb(a,e)}}function Sb(a,t){return typeof a=="number"?a:a[t]||0}const BR=new WeakMap;class FR{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=re(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=p=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Oo(p).point)},l=(p,m)=>{const{drag:v,dragPropagation:b,onDragStart:A}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Q_(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_n(T=>{let E=this.getAxisMotionValue(T).get()||0;if(Qn.test(E)){const{projection:R}=this.visualElement;if(R&&R.layout){const _=R.layout.layoutBox[T];_&&(E=He(_)*(parseFloat(E)/100))}}this.originPoint[T]=E}),A&&Zt.postRender(()=>A(p,m)),nf(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(p,m)=>{const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:A,onDrag:S}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:T}=m;if(b&&this.currentDirection===null){this.currentDirection=VR(T),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",m.point,T),this.updateAxis("y",m.point,T),this.visualElement.render(),S&&S(p,m)},u=(p,m)=>this.stop(p,m),d=()=>_n(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new iS(t,{onSessionStart:r,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:nS(this.visualElement)})}stop(t,e){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=e;this.startAnimation(r);const{onDragEnd:l}=this.getProps();l&&Zt.postRender(()=>l(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:r}=this.getProps();if(!i||!lc(t,r,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(c=LR(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;t&&Ma(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=OR(i.layoutBox,t):this.constraints=!1,this.elastic=IR(e),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&_n(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=kR(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Ma(t))return!1;const i=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const l=CR(i,r.root,this.visualElement.getTransformPagePoint());let c=PR(r.layout.layoutBox,l);if(e){const u=e(vR(c));this.hasMutatedConstraints=!!u,u&&(c=WA(u))}return c}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:r,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=_n(p=>{if(!lc(p,e,this.currentDirection))return;let m=d&&d[p]||{};c&&(m={min:0,max:0});const v=r?200:1e6,b=r?40:1e7,A={type:"inertia",velocity:i?t[p]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...l,...m};return this.startAxisValueAnimation(p,A)});return Promise.all(f).then(u)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return nf(this.visualElement,t),i.start(rp(t,i,0,e,this.visualElement,!1))}stopAnimation(){_n(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){_n(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),r=i[e];return r||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){_n(e=>{const{drag:i}=this.getProps();if(!lc(e,i,this.currentDirection))return;const{projection:r}=this.visualElement,l=this.getAxisMotionValue(e);if(r&&r.layout){const{min:c,max:u}=r.layout.layoutBox[e];l.set(t[e]-Wt(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Ma(e)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};_n(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const d=u.get();r[c]=NR({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),_n(c=>{if(!lc(c,t,null))return;const u=this.getAxisMotionValue(c),{min:d,max:f}=this.constraints[c];u.set(Wt(d,f,r[c]))})}addListeners(){if(!this.visualElement.current)return;BR.set(this.visualElement,this);const t=this.visualElement.current,e=oo(t,"pointerdown",d=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Ma(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,l=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Zt.read(i);const c=Ao(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(_n(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=d[p].translate,m.set(m.get()+d[p].translate))}),this.visualElement.render())});return()=>{c(),e(),l(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:l=!1,dragElastic:c=of,dragMomentum:u=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:r,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function lc(a,t,e){return(t===!0||t===a)&&(e===null||e===a)}function VR(a,t=10){let e=null;return Math.abs(a.y)>t?e="y":Math.abs(a.x)>t&&(e="x"),e}class zR extends ns{constructor(t){super(t),this.removeGroupControls=Cn,this.removeListeners=Cn,this.controls=new FR(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const wb=a=>(t,e)=>{a&&Zt.postRender(()=>a(t,e))};class UR extends ns{constructor(){super(...arguments),this.removePointerDownListener=Cn}onPointerDown(t){this.session=new iS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:wb(t),onStart:wb(e),onMove:i,onEnd:(l,c)=>{delete this.session,r&&Zt.postRender(()=>r(l,c))}}}mount(){this.removePointerDownListener=oo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Eb(a,t){return t.max===t.min?0:a/(t.max-t.min)*100}const Kr={correct:(a,t)=>{if(!t.target)return a;if(typeof a=="string")if(yt.test(a))a=parseFloat(a);else return a;const e=Eb(a,t.target.x),i=Eb(a,t.target.y);return`${e}% ${i}%`}},jR={correct:(a,{treeScale:t,projectionDelta:e})=>{const i=a,r=Ji.parse(a);if(r.length>5)return i;const l=Ji.createTransformer(a),c=typeof r[0]!="number"?1:0,u=e.x.scale*t.x,d=e.y.scale*t.y;r[0+c]/=u,r[1+c]/=d;const f=Wt(u,d,.5);return typeof r[2+c]=="number"&&(r[2+c]/=f),typeof r[3+c]=="number"&&(r[3+c]/=f),l(r)}};class HR extends D.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:r}=this.props,{projection:l}=t;CC(GR),l&&(e.group&&e.group.add(l),i&&i.register&&r&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),wc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:r,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,r||t.layoutDependency!==e||e===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||Zt.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Kf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function aS(a){const[t,e]=OA(),i=D.useContext(_f);return X.jsx(HR,{...a,layoutGroup:i,switchLayoutGroup:D.useContext(BA),isPresent:t,safeToRemove:e})}const GR={borderRadius:{...Kr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kr,borderTopRightRadius:Kr,borderBottomLeftRadius:Kr,borderBottomRightRadius:Kr,boxShadow:jR};function qR(a,t,e){const i=ze(a)?a:Va(a);return i.start(rp("",i,t,e)),i.animation}const XR=(a,t)=>a.depth-t.depth;class YR{constructor(){this.children=[],this.isDirty=!1}add(t){Mf(this.children,t),this.isDirty=!0}remove(t){Df(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(XR),this.isDirty=!1,this.children.forEach(t)}}function $R(a,t){const e=tn.now(),i=({timestamp:r})=>{const l=r-e;l>=t&&(Zi(i),a(l-t))};return Zt.setup(i,!0),()=>Zi(i)}const rS=["TopLeft","TopRight","BottomLeft","BottomRight"],KR=rS.length,Tb=a=>typeof a=="string"?parseFloat(a):a,xb=a=>typeof a=="number"||yt.test(a);function WR(a,t,e,i,r,l){r?(a.opacity=Wt(0,e.opacity??1,QR(i)),a.opacityExit=Wt(t.opacity??1,0,ZR(i))):l&&(a.opacity=Wt(t.opacity??1,e.opacity??1,i));for(let c=0;c<KR;c++){const u=`border${rS[c]}Radius`;let d=_b(t,u),f=_b(e,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||xb(d)===xb(f)?(a[u]=Math.max(Wt(Tb(d),Tb(f),i),0),(Qn.test(f)||Qn.test(d))&&(a[u]+="%")):a[u]=f}(t.rotate||e.rotate)&&(a.rotate=Wt(t.rotate||0,e.rotate||0,i))}function _b(a,t){return a[t]!==void 0?a[t]:a.borderRadius}const QR=oS(0,.5,J0),ZR=oS(.5,.95,Cn);function oS(a,t,e){return i=>i<a?0:i>t?1:e(po(a,t,i))}function Cb(a,t){a.min=t.min,a.max=t.max}function En(a,t){Cb(a.x,t.x),Cb(a.y,t.y)}function Rb(a,t){a.translate=t.translate,a.scale=t.scale,a.originPoint=t.originPoint,a.origin=t.origin}function Mb(a,t,e,i,r){return a-=t,a=Dc(a,1/e,i),r!==void 0&&(a=Dc(a,1/r,i)),a}function JR(a,t=0,e=1,i=.5,r,l=a,c=a){if(Qn.test(t)&&(t=parseFloat(t),t=Wt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let u=Wt(l.min,l.max,i);a===l&&(u-=t),a.min=Mb(a.min,t,e,u,r),a.max=Mb(a.max,t,e,u,r)}function Db(a,t,[e,i,r],l,c){JR(a,t[e],t[i],t[r],t.scale,l,c)}const tM=["x","scaleX","originX"],eM=["y","scaleY","originY"];function Lb(a,t,e,i){Db(a.x,t,tM,e?e.x:void 0,i?i.x:void 0),Db(a.y,t,eM,e?e.y:void 0,i?i.y:void 0)}function Ob(a){return a.translate===0&&a.scale===1}function lS(a){return Ob(a.x)&&Ob(a.y)}function Pb(a,t){return a.min===t.min&&a.max===t.max}function nM(a,t){return Pb(a.x,t.x)&&Pb(a.y,t.y)}function Nb(a,t){return Math.round(a.min)===Math.round(t.min)&&Math.round(a.max)===Math.round(t.max)}function cS(a,t){return Nb(a.x,t.x)&&Nb(a.y,t.y)}function kb(a){return He(a.x)/He(a.y)}function Ib(a,t){return a.translate===t.translate&&a.scale===t.scale&&a.originPoint===t.originPoint}class iM{constructor(){this.members=[]}add(t){Mf(this.members,t),t.scheduleRender()}remove(t){if(Df(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(r=>t===r);if(e===0)return!1;let i;for(let r=e;r>=0;r--){const l=this.members[r];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sM(a,t,e){let i="";const r=a.x.translate/t.x,l=a.y.translate/t.y,c=e?.z||0;if((r||l||c)&&(i=`translate3d(${r}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:f,rotate:p,rotateX:m,rotateY:v,skewX:b,skewY:A}=e;f&&(i=`perspective(${f}px) ${i}`),p&&(i+=`rotate(${p}deg) `),m&&(i+=`rotateX(${m}deg) `),v&&(i+=`rotateY(${v}deg) `),b&&(i+=`skewX(${b}deg) `),A&&(i+=`skewY(${A}deg) `)}const u=a.x.scale*t.x,d=a.y.scale*t.y;return(u!==1||d!==1)&&(i+=`scale(${u}, ${d})`),i||"none"}const Rd=["","X","Y","Z"],aM={visibility:"hidden"},rM=1e3;let oM=0;function Md(a,t,e,i){const{latestValues:r}=t;r[a]&&(e[a]=r[a],t.setStaticValue(a,0),i&&(i[a]=0))}function uS(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:t}=a.options;if(!t)return;const e=XA(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:r,layoutId:l}=a.options;window.MotionCancelOptimisedAnimation(e,"transform",Zt,!(r||l))}const{parent:i}=a;i&&!i.hasCheckedOptimisedAppear&&uS(i)}function hS({attachResizeListener:a,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(c={},u=t?.()){this.id=oM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uM),this.nodes.forEach(pM),this.nodes.forEach(gM),this.nodes.forEach(hM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new YR)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Pf),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const d=this.eventHandlers.get(c);d&&d.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=LA(c)&&!iC(c),this.instance=c;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),a){let p;const m=()=>this.root.updateBlockedByResize=!1;a(c,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=$R(m,250),wc.hasAnimatedSinceResize&&(wc.hasAnimatedSinceResize=!1,this.nodes.forEach(Vb))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:v,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||f.getDefaultTransition()||AM,{onLayoutAnimationStart:S,onLayoutAnimationComplete:T}=f.getProps(),E=!this.targetLayout||!cS(this.targetLayout,b),R=!m&&v;if(this.options.layoutRoot||this.resumeFrom||R||m&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...Yf(A,"layout"),onPlay:S,onComplete:T};(f.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(p,R)}else m||Vb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Fb);return}this.isUpdating||this.nodes.forEach(Fb),this.animationCommitId=this.animationId,this.isUpdating=!1,this.nodes.forEach(fM),this.nodes.forEach(lM),this.nodes.forEach(cM),this.clearAllSnapshots();const u=tn.now();Oe.delta=bi(0,1e3/60,u-Oe.timestamp),Oe.timestamp=u,Oe.isProcessing=!0,bd.update.process(Oe),bd.preRender.process(Oe),bd.render.process(Oe),Oe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Kf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dM),this.sharedNodes.forEach(yM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!He(this.snapshot.measuredBox.x)&&!He(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!lS(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;c&&this.instance&&(u||Ts(this.latestValues)||p)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return c&&(d=this.removeTransform(d)),SM(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return re();const u=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(wM))){const{scroll:f}=this.root;f&&(La(u.x,f.offset.x),La(u.y,f.offset.y))}return u}removeElementScroll(c){const u=re();if(En(u,c),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&En(u,c),La(u.x,p.offset.x),La(u.y,p.offset.y))}return u}applyTransform(c,u=!1){const d=re();En(d,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Oa(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Ts(p.latestValues)&&Oa(d,p.latestValues)}return Ts(this.latestValues)&&Oa(d,this.latestValues),d}removeTransform(c){const u=re();En(u,c);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Ts(f.latestValues))continue;af(f.latestValues)&&f.updateSnapshot();const p=re(),m=f.measurePageBox();En(p,m),Lb(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Ts(this.latestValues)&&Lb(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Oe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=Oe.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=re(),this.relativeTargetOrigin=re(),co(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=re(),this.targetWithTransforms=re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):En(this.target,this.layout.layoutBox),tS(this.target,this.targetDelta)):En(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=re(),this.relativeTargetOrigin=re(),co(this.relativeTargetOrigin,this.target,v.target),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||af(this.parent.latestValues)||JA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),u=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Oe.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;En(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;_R(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=re());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Rb(this.prevProjectionDelta.x,this.projectionDelta.x),Rb(this.prevProjectionDelta.y,this.projectionDelta.y)),lo(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==v||!Ib(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ib(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Da(),this.projectionDelta=Da(),this.projectionDeltaWithTransform=Da()}setAnimationOrigin(c,u=!1){const d=this.snapshot,f=d?d.latestValues:{},p={...this.latestValues},m=Da();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=re(),b=d?d.source:void 0,A=this.layout?this.layout.source:void 0,S=b!==A,T=this.getStack(),E=!T||T.members.length<=1,R=!!(S&&!E&&this.options.crossfade===!0&&!this.path.some(bM));this.animationProgress=0;let _;this.mixTargetDelta=L=>{const C=L/1e3;zb(m.x,c.x,C),zb(m.y,c.y,C),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(co(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vM(this.relativeTarget,this.relativeTargetOrigin,v,C),_&&nM(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=re()),En(_,this.relativeTarget)),S&&(this.animationValues=p,WR(p,f,this.latestValues,C,R,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zt.update(()=>{wc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Va(0)),this.currentAnimation=qR(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:p}=c;if(!(!u||!d||!f)){if(this!==c&&this.layout&&f&&dS(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||re();const m=He(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+m;const v=He(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+v}En(u,d),Oa(u,p),lo(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new iM),this.sharedNodes.get(c).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const f={};d.z&&Md("z",c,f,this.animationValues);for(let p=0;p<Rd.length;p++)Md(`rotate${Rd[p]}`,c,f,this.animationValues),Md(`skew${Rd[p]}`,c,f,this.animationValues);c.render();for(const p in f)c.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return aM;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Sc(c?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Sc(c?.pointerEvents)||""),this.hasProjected&&!Ts(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=sM(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in vo){if(p[b]===void 0)continue;const{correct:A,applyTo:S,isCSSVariable:T}=vo[b],E=u.transform==="none"?p[b]:A(p[b],f);if(S){const R=S.length;for(let _=0;_<R;_++)u[S[_]]=E}else T?this.options.visualElement.renderState.vars[b]=E:u[b]=E}return this.options.layoutId&&(u.pointerEvents=f===this?Sc(c?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Bb),this.root.sharedNodes.clear()}}}function lM(a){a.updateLayout()}function cM(a){const t=a.resumeFrom?.snapshot||a.snapshot;if(a.isLead()&&a.layout&&t&&a.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=a.layout,{animationType:r}=a.options,l=t.source!==a.layout.source;r==="size"?_n(p=>{const m=l?t.measuredBox[p]:t.layoutBox[p],v=He(m);m.min=e[p].min,m.max=m.min+v}):dS(r,t.layoutBox,e)&&_n(p=>{const m=l?t.measuredBox[p]:t.layoutBox[p],v=He(e[p]);m.max=m.min+v,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[p].max=a.relativeTarget[p].min+v)});const c=Da();lo(c,e,t.layoutBox);const u=Da();l?lo(u,a.applyTransform(i,!0),t.measuredBox):lo(u,e,t.layoutBox);const d=!lS(c);let f=!1;if(!a.resumeFrom){const p=a.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:v}=p;if(m&&v){const b=re();co(b,t.layoutBox,m.layoutBox);const A=re();co(A,e,v.layoutBox),cS(b,A)||(f=!0),p.options.layoutRoot&&(a.relativeTarget=A,a.relativeTargetOrigin=b,a.relativeParent=p)}}}a.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:u,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(a.isLead()){const{onExitComplete:e}=a.options;e&&e()}a.options.transition=void 0}function uM(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function hM(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function dM(a){a.clearSnapshot()}function Bb(a){a.clearMeasurements()}function Fb(a){a.isLayoutDirty=!1}function fM(a){const{visualElement:t}=a.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),a.resetTransform()}function Vb(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function pM(a){a.resolveTargetDelta()}function gM(a){a.calcProjection()}function mM(a){a.resetSkewAndRotation()}function yM(a){a.removeLeadSnapshot()}function zb(a,t,e){a.translate=Wt(t.translate,0,e),a.scale=Wt(t.scale,1,e),a.origin=t.origin,a.originPoint=t.originPoint}function Ub(a,t,e,i){a.min=Wt(t.min,e.min,i),a.max=Wt(t.max,e.max,i)}function vM(a,t,e,i){Ub(a.x,t.x,e.x,i),Ub(a.y,t.y,e.y,i)}function bM(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const AM={duration:.45,ease:[.4,0,.1,1]},jb=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),Hb=jb("applewebkit/")&&!jb("chrome/")?Math.round:Cn;function Gb(a){a.min=Hb(a.min),a.max=Hb(a.max)}function SM(a){Gb(a.x),Gb(a.y)}function dS(a,t,e){return a==="position"||a==="preserve-aspect"&&!TR(kb(t),kb(e),.2)}function wM(a){return a!==a.root&&a.scroll?.wasRoot}const EM=hS({attachResizeListener:(a,t)=>Ao(a,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dd={current:void 0},fS=hS({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!Dd.current){const a=new EM({});a.mount(window),a.setOptions({layoutScroll:!0}),Dd.current=a}return Dd.current},resetTransform:(a,t)=>{a.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),TM={pan:{Feature:UR},drag:{Feature:zR,ProjectionNode:fS,MeasureLayout:aS}};function qb(a,t,e){const{props:i}=a;a.animationState&&i.whileHover&&a.animationState.setActive("whileHover",e==="Start");const r="onHover"+e,l=i[r];l&&Zt.postRender(()=>l(t,Oo(t)))}class xM extends ns{mount(){const{current:t}=this.node;t&&(this.unmount=Z_(t,(e,i)=>(qb(this.node,i,"Start"),r=>qb(this.node,r,"End"))))}unmount(){}}class _M extends ns{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mo(Ao(this.node.current,"focus",()=>this.onFocus()),Ao(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Xb(a,t,e){const{props:i}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&i.whileTap&&a.animationState.setActive("whileTap",e==="Start");const r="onTap"+(e==="End"?"":e),l=i[r];l&&Zt.postRender(()=>l(t,Oo(t)))}class CM extends ns{mount(){const{current:t}=this.node;t&&(this.unmount=nC(t,(e,i)=>(Xb(this.node,i,"Start"),(r,{success:l})=>Xb(this.node,r,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lf=new WeakMap,Ld=new WeakMap,RM=a=>{const t=lf.get(a.target);t&&t(a)},MM=a=>{a.forEach(RM)};function DM({root:a,...t}){const e=a||document;Ld.has(e)||Ld.set(e,{});const i=Ld.get(e),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(MM,{root:a,...t})),i[r]}function LM(a,t,e){const i=DM(t);return lf.set(a,e),i.observe(a),()=>{lf.delete(a),i.unobserve(a)}}const OM={some:0,all:1};class PM extends ns{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:r="some",once:l}=t,c={root:e?e.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:OM[r]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),v=f?p:m;v&&v(d)};return LM(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(NM(t,e))&&this.startObserver()}unmount(){}}function NM({viewport:a={}},{viewport:t={}}={}){return e=>a[e]!==t[e]}const kM={inView:{Feature:PM},tap:{Feature:CM},focus:{Feature:_M},hover:{Feature:xM}},IM={layout:{ProjectionNode:fS,MeasureLayout:aS}},cf={current:null},pS={current:!1};function BM(){if(pS.current=!0,!!Rf)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),t=()=>cf.current=a.matches;a.addListener(t),t()}else cf.current=!1}const FM=new WeakMap;function VM(a,t,e){for(const i in t){const r=t[i],l=e[i];if(ze(r))a.addValue(i,r);else if(ze(l))a.addValue(i,Va(r,{owner:a}));else if(l!==r)if(a.hasValue(i)){const c=a.getValue(i);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=a.getStaticValue(i);a.addValue(i,Va(c!==void 0?c:r,{owner:a}))}}for(const i in e)t[i]===void 0&&a.removeValue(i);return t}const Yb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zM{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=tn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Zt.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=e.initial?{...d}:{},this.renderState=f,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=Vc(e),this.isVariantNode=kA(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(e,{},this);for(const v in m){const b=m[v];d[v]!==void 0&&ze(b)&&b.set(d[v],!1)}}mount(t){this.current=t,FM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),pS.current||BM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zi(this.notifyUpdate),Zi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Xa.has(t);i&&this.onBindTransform&&this.onBindTransform();const r=e.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&Zt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=e.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{r(),l(),c&&c(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in za){const e=za[t];if(!e)continue;const{isEnabled:i,Feature:r}=e;if(!this.features[t]&&r&&i(this.props)&&(this.features[t]=new r(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):re()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<Yb.length;i++){const r=Yb[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const l="on"+r,c=t[l];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=VM(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=Va(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(H0(i)||q0(i))?i=parseFloat(i):!aC(i)&&Ji.test(e)&&(i=_A(t,e)),this.setBaseTarget(t,ze(i)?i.get():i)),ze(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const l=sp(this.props,e,this.presenceContext?.custom);l&&(i=l[t])}if(e&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!ze(r)?r:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Pf),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class gS extends zM{constructor(){super(...arguments),this.KeyframeResolver=Y_}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ze(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function mS(a,{style:t,vars:e},i,r){Object.assign(a.style,t,r&&r.getProjectionStyles(i));for(const l in e)a.style.setProperty(l,e[l])}function UM(a){return window.getComputedStyle(a)}class jM extends gS{constructor(){super(...arguments),this.type="html",this.renderInstance=mS}readValueFromInstance(t,e){if(Xa.has(e))return this.projection?.isProjecting?Kd(e):d_(t,e);{const i=UM(t),r=(If(e)?i.getPropertyValue(e):i[e])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:e}){return eS(t,e)}build(t,e,i){ep(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return ap(t,e,i)}}const yS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HM(a,t,e,i){mS(a,t,void 0,i);for(const r in t.attrs)a.setAttribute(yS.has(r)?r:tp(r),t.attrs[r])}class GM extends gS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=re}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Xa.has(e)){const i=xA(e);return i&&i.default||0}return e=yS.has(e)?e:tp(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return qA(t,e,i)}build(t,e,i){UA(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,r){HM(t,e,i,r)}mount(t){this.isSVGTag=HA(t.tagName),super.mount(t)}}const qM=(a,t)=>ip(a)?new GM(t):new jM(t,{allowProjection:a!==D.Fragment}),XM=GC({...mR,...kM,...TM,...IM},qM),YM=gC(XM);function $M(){return X.jsxs("header",{children:[X.jsx("h1",{children:"Nishanth Kunchala"}),X.jsx("nav",{children:X.jsxs("ul",{children:[X.jsx("li",{children:X.jsx(Ca,{to:"/",children:"Home"})}),X.jsx("li",{children:X.jsx(Ca,{to:"/portfolio",children:"Portfolio"})}),X.jsx("li",{children:X.jsx(Ca,{to:"/resume",children:"Resume"})}),X.jsx("li",{children:X.jsx(Ca,{to:"/contact",children:"Contact"})})]})})]})}function KM(){return X.jsx("footer",{children:X.jsx("p",{children:" 2025 Nishanth Kunchala"})})}function WM(){return X.jsxs("section",{className:"hero",children:[X.jsx("img",{src:"/banner.jpg",alt:"Nishanth Kunchala",className:"banner",style:{maxWidth:"600px",width:"100%",height:"auto",display:"block",margin:"0 auto"}}),X.jsxs("div",{className:"intro",children:[X.jsx("h1",{style:{margin:"0 0 8px 0"},children:"Hi, Im Nishanth Kunchala!"}),X.jsx("p",{children:"Im a rising senior pursuing a Bachelors degree of science in Aerospace Engineering at The Ohio State University. Passionate about space systems and embedded software, I have hands-on experience in avionics design, AI-driven vision systems, and robotics integration. My technical journey includes projects ranging from machine learning model development to flight hardware prototyping, with a focus on real-world aerospace applications."}),X.jsx("p",{style:{margin:"0 0 0 0"},children:"Beyond engineering, Im an Eagle Scout with a strong foundation in leadership, discipline, and teamwork, which I bring to every project and collaboration. I thrive in challenging environments where I can merge my software skills and aerospace knowledge to innovate solutions for next-generation space missions."})]}),X.jsxs("div",{className:"secondary",children:[X.jsx("h1",{style:{margin:"0 0 8px 0"},children:"What I do for fun:"}),X.jsx("p",{children:"Ive always loved being outdoorswhether its hiking, camping, or just spending time with friends and family in nature. Staying active is also a big part of who I am. I enjoy working out, playing tennis & volleyball, and rock climbing. For me, its about keeping my body moving, and trying out new things. I also love to cook and bake in my free time, and I love eating even more."})]}),X.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center",alignItems:"center",flexWrap:"wrap",margin:"0 0"},children:[X.jsx("div",{style:{flex:"1 1 30%",maxWidth:"400px",boxSizing:"border-box"},children:X.jsx("video",{src:"/bench_pr.mov",controls:!0,autoPlay:!0,loop:!0,muted:!0,style:{width:"100%",height:"auto",maxHeight:"500px",display:"block",borderRadius:"8px",objectFit:"cover"}})}),X.jsx("div",{style:{flex:"1 1 30%",maxWidth:"400px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",height:"500px"},children:X.jsx("img",{src:"../assets/hiking.jpg",alt:"Hiking",style:{width:"100%",height:"100%",borderRadius:"8px",objectFit:"cover"}})}),X.jsx("div",{style:{flex:"1 1 30%",maxWidth:"400px",boxSizing:"border-box"},children:X.jsx("video",{src:"/rock_climbing.mov",controls:!0,autoPlay:!0,loop:!0,muted:!0,style:{width:"100%",height:"auto",maxHeight:"500px",display:"block",borderRadius:"8px",objectFit:"cover"}})})]})]})}const $b=[{title:"Autonomous In-Orbit Cryogenic Fuel Coupler",description:'Awarded "Best Prototype" at NASAs 2025 Human Lander Challenge, I developed the computer vision and robotic control system for an autonomous orbital refueling coupler, alongside CFD validation of cryogenic flow.',details:`This project addressed the risks astronauts face during in-orbit refueling by creating an autonomous cryogenic coupler concept. Our design supported NASAs vision of Gateway acting as a refueling depot, reducing reliance on costly Earth returns and enabling sustainable lunar and Martian missions. 
    I developed the computer vision pipeline to detect and track a target port, then linked it to the Stewart platform controller. The control chain involved a python script running the computer vision algorithm, using the pose of the coupler in the camera's frame to calculate the length each actuator needed to be. 
    These lengths are then written to a serial port on our computer, which is then accessed by our arduino, which is running a script in C++ that converts these lengths to pwm outputs, send to each actuator's designated microcontroller. I also worked on CFD validation of cryogenic flow inside the coupler. 
    I set up and ran multiple flow simulations to evaluate leakage, pressure drop, and flow uniformity under microgravity conditions. Results showed leakage reduced to just 0.24% while maintaining stable flow characteristics across the interface, supporting the feasibility of cryogenic propellant transfer in microgravity. 
    These findings demonstrated that our design could meet NASAs safety and efficiency requirements for autonomous in-orbit refueling. `,media:[{type:"image",src:"/coupler_cad.png",caption:""},{type:"video",src:"/Coupling_Video.mp4",caption:`CAD rendering of the coupler assembly. The design combined a magnet-based alignment system for coarse docking, a spring-loaded latch for capture, and a servo-driven clamp to secure a sealed connection under cryogenic conditions. This design featured triple redundancy, but a potential issue with it was the risk of the coupler getting stuck in the locked position.
        The judges brought up concerns, since triple redundancy in this case, could also mean that if one system fails to unlock, the spacechip would be stuck to Gateway, which would be undesireable. The solution was to propose stronger linear actuators. This would allow the coupler to rip off, and with some minor redesigns, we could make it such that all the damage would occur on the spaceship's side of the coupler intergace.
        This way repairs could happen via a spacewalk at a later time, after refueling, and the Gateway side of the interface would remain unharmed.`},{type:"image",src:"/Stewart_Platform_CAD.png",caption:`CAD rendering of our prototyped Stewart platform. The six-actuator Stewart platform served as the motion base for the coupler, enabling precise six-degree-of-freedom positioning during docking. I integrated the computer vision pipeline with this platform by developing control software that converted camera detections into actuator commands. 
        The hardware chain included an Arduino Uno for central control, six microcontroller-driven linear actuators for motion, and a custom Spiderboard interface to handle wiring and signal routing. This setup allowed us to demonstrate autonomous alignment and approach maneuvers, a critical step toward hands-free orbital refueling. `},{type:"video",src:"/hulc_live_demo.mp4",caption:"Live demonstration of the vision-guided tracking system. I trained the CV model to lock onto the target and autonomously guide the Stewart platform. While only the magnetic alignment was integrated at this stage, the demo showed the viability of autonomous docking control  a feature that NASA judges highlighted in awarding us Best Prototype."}]},{title:"Aviary Internship  NASA Glenn Research Center",description:"During my internship at NASA Glenn Research Center, I extended Aviary, NASAs open-source aircraft conceptual design framework, focusing on mass and geometry subsystems for small-scale UAVs.",details:"Aviary is a multidisciplinary conceptual aircraft design tool built on OpenMDAO. It allows engineers to model and optimize aircraft configurations across aerodynamics, propulsion, structures, and systems, while supporting gradient-based optimization for fast, reliable design exploration. The framework is modular, with clearly defined subsystems for geometry, mass, propulsion, and flight performance, enabling full system-level simulations even at the conceptual stage. The current limitations in Aviary stem from how it calculates certain parameters: using historical empirical data collected by NASA over decades of research. This means that Aviary wouldn't work for unorthodox aircraft design (due to the lack of data), something commonly seen in small-scale UAVs.",media:[{type:"image",src:"/aviary_logo.png",caption:""},{type:"image",src:"/aviary_logo.png",caption:"During my internship, I developed new mass subsystems for wings, tails, and fuselage that calculate rib, spar, and skin mass based on geometry and material properties. This allows for conceptual aircraft design via Aviary to no longer require empirical data, and instead utlize simple geometric paramaters instead. An upside of doing things this way, is that the computation time is significantly reduced. This happens because doing things analytically meant that I could hand-derive the partial derivatives of every variable needed for the gradient descent (over 30+ variables!). Having these partial derivatives meant that Aviary no longer needed to finite difference or complex step over unknown gradient landscapes. I also implemented a flexible geometry generator using OpenVSP, which takes parameters like wing span, root chord, airfoil profile, and fuselage dimensions to produce accurate 3D geometries for downstream analysis. These subsystems were integrated with existing propulsion models, enabling UAV-level mission simulations for climb, cruise, and descent, and allowing for design studies that combine structural, mass, and propulsion considerations. This work improved Aviarys capability to handle small-scale UAVs with accurate, gradient-compatible mass and geometry modeling, supporting both conceptual design and system-level optimization within a single framework."},{type:"image",src:"/OpenVSP_demo.png",caption:"Above is a CFD mesh, outputted by the OpenVSP-based geometry generator I created. OpenVSP is NASAs parametric aircraft geometry tool, capable of creating detailed 3D models of wings, fuselage, tails, and control surfaces from simple input parameters. I integrated OpenVSP directly into Aviary as an optional subsystem: users can choose to generate full 3D geometries for downstream analysis, or bypass it for a lightweight workflow using only abstract geometric inputs. This integration allows the generated geometries to feed directly into my mass subsystems for accurate rib, spar, and skin mass calculations, while remaining fully compatible with propulsion models for system-level UAV simulations. By making it modular, the feature enhances flexibility for designers while maintaining gradient-based optimization capability within Aviary."}]},{title:"Avionics  Buckeye Space Launch Initiative",description:`I contributed to the design and implementation of a deployable airbrakes system for a 12-foot supersonic Student Researched And Designed (SRAD) rocket, built for the International Rocket Engineering Competition (IREC). 
    The mission goal was to precisely hit a 30,000 ft apogee, with penalties for both overshooting and undershooting.`,details:"I worked on a 35 person airbrakes team within the 25-member avionics subteam, designing a system that would deploy in the subsonic regime. My contributions spanned both mechanical and software design, including CAD modeling, control system programming, and systems integration across avionics, structures, aerodynamics, and propulsion.",media:[{type:"image",src:"/airbrakes.png",caption:""},{type:"video",src:"/airbrakes_movement.mov",caption:"Above is an animation of our most recent airbrakes design. I contributed to both the CAD modeling and the embedded control system. The blades are actuated via a rack-and-pinion system mounted on linear rails, with torque provided by a servo motor equipped with an encoder for slip detection. I helped refine multiple iterations of this design in SolidWorks and Onshape, transitioning from 3D-printed prototypes to final CNC-machined aluminum hardware."},{type:"image",src:"/first_airbrakes.jpg",caption:"Our first prototype, 3D-printed in PLA before moving on to CNC'd aluminum, served as a proof-of-concept for blade motion. However, it revealed major issues with blade friction along the sides and poor drag generation, driving us to rethink the design. We had initially thought that lubricating the bottom and side surfaces of each blade would be enough to overcome the friction force. Instead we found that this force, caused by the drag created when the airbrakes were deployed, was much higher than anticipated, forcing us to rethink how we could reduce friction in our next design:"},{type:"image",src:"/second_airbrakes.jpg",caption:"The second iteration introduced dual blades on linear rails, which eliminated the friction from the first design and increased drag. However, it introduced new issues with linkage joint friction and exposed limitations in our stepper motor torque, which we later addressed by upgrading to a servo motor and strategically placing bearings along high friction points along the wall. Our current design (the very first video), solves the aforementioned issues in our prior designs, but as we test further, we expect to find more improvements to be made. We anticipate issues with ensuring constant contact between the rack and pinion, since we currently have no failsafe if slippage occurs there."}]},{title:"Research in Drone-Based Wildfire Detection",description:"In Dr. Kumars lab at Ohio State, I work on developing a wildfire detection pipeline using drone imagery, U-Net segmentation, and an preprocessing method called CA-CCPDA. My work focuses on preprocessing, training, evaluation, and explainability, with the goal of enabling earlier wildfire detection and prediction.",details:`This research seeks to improve early wildfire detection, providing inputs for downstream models of fire spread using CFD. I constructed the full pipeline  from data preprocessing through U-Net segmentation training to evaluation. A key contribution was developing the CA-CCPDA preprocessing and semantic choice method, which improved both interpretability and model accuracy.
    One final thing to note: In this section, whenever I refer to data or images as "unique", what I mean is that these images are new to the dataset. A significant roadblock in our work was the lack of data, since we cannot do random burns in forests whenever we feel like it. "unique" data simply refers to artificially generated images added to our dataset of "real" data.`,media:[{type:"image",src:"/mavic3.webp",caption:""},{type:"image",src:"/mavic3.webp",caption:`Our dataset was collected with a DJI Mavic 3 drone during controlled burns performed by the Columbus Fire Department, providing high-resolution RGB imagery of wildfire conditions. I handled preprocessing, applying techniques such as Gaussian noise injection, smoke dehazing, and random rotations to increase robustness and realism. 
        As part of the preprocessing pipeline, the CA-CCPDA method was developed in order to further improve the small size of the dataset we wore working on.`},{type:"image",src:"/caccpda_flowchart.png",caption:`Architecture of our CA-CCPDA (Context-Aware Centralized Copy Paste Data Augmentation) method. I introduced the semantic choice mechanism, which uses euclidian distance in the Ash-Vegetation percentage plane, to identify the shortest path correlating to the highest class similarity. 
        This provided clearer, more reliable, unique images for wildfire detection.`},{type:"image",src:"/caccpda.png",caption:"Above is a result from the previous, non-semantic version of our CA-CCPDA method (formerly CCPDA), compared with the same result generated by our current CA-CCPDA method. Here you can see the stark difference in production of realistic, meaningful, unique data, and how much of a difference taking semantic context into account actually makes."},{type:"image",src:"/caccpda_results.png",caption:"Results from wildfire segmentation using U-Net with CA-CCPDA preprocessing. Compared to baseline preprocessing methods, our pipeline achieved higher accuracy and improved region-level detection, with activation maps better aligned to fire features such as fire clusters and ash regions. These improvements support downstream fire-spread modeling efforts in the lab."}]},{title:"Airfoil Design Project at The Ohio State University",description:"For one of my classes, we were tasked with creating an airfoil shape, optimized for maximum stall angle.",details:"I started with a NACA 0012 airfoil, and then started adjusting its camber line, and then the t/c ratio. I used XFLR5 for the design and simulation, followed by testing in a small-scale subsonic wind tunnel.",media:[{type:"image",src:"/airfoil_thumbnail.jpg",caption:""},{type:"image",src:"/airfoil_cad.jpg",caption:"Above, you can see the CAD for my final airfoil design"},{type:"image",src:"/airfoil_print.jpg",caption:"Above, you can see the scaled down, 3D printed model of the designed airfoil. This was my first time using a 3D printer, and honestly, I had to reprint at least 3 times, because I kept messing up the sizing of the airfoil, and it wasnt fitting in my test setup."},{type:"image",src:"/airfoil_test_setup.jpg",caption:"Above, you can see the setup used for testing the stall angle of the airfoil. Using tufts attached across various points on the airfoils surface, I slowly adjusted the angle of attack until i visibly saw the flow transition from laminar to turbulent, indicating flow detachment."}]},{title:"Lunar Orbit Simulation at The Ohio State University",description:"Me and my roommate thought it would be fun to enter into Ohio State's First Year Engineering design showcase competition. We ended up winning second in our category!",details:"We decided to make an interactive simulator, that allowed users to design missions utilizing the moon's gravity to assist the spaceship back to earth, only using one delta v burn.",media:[{type:"image",src:"/lunar_orbit_sim.png",caption:""},{type:"video",src:"/lunar_orbit_sim.mp4",caption:"Above, is an example usecase of our simulator. If I did this project again, I'd want to use a faster method than explicit euler step. In hindsight, Newton Rhapson or explicit Runge Kutta would've probably been better, but we didn't learn about that for another year or so."},{type:"image",src:"/lunar_orbit_sim_eq.png",caption:"Here are the equations we used to model the orbits of the moon and spacecraft, relative to earth. As you can see, they are pretty simplified, and only in 2D, but they were able to give freshman me some insight into how orbital maneuvers actually function."}]}];function QM(){const[a,t]=D.useState(null),[e,i]=D.useState(!1),r=u=>{t(u),i(!1)},l=()=>{i(!0),setTimeout(()=>{t(null),i(!1)},75)},c=a!==null?$b[a]:null;return X.jsxs("section",{children:[X.jsx("h2",{children:"Projects and Experience"}),X.jsx("p1",{children:"Click each card to learn more"}),X.jsx("div",{className:"projects-grid",children:$b.map((u,d)=>X.jsxs("div",{className:"project-card",onClick:()=>r(d),children:[u.media&&u.media.length>0&&X.jsx("img",{src:u.media[0].src,alt:u.title,className:"card-thumbnail"}),X.jsx("h3",{children:u.title})]},d))}),c&&X.jsx("div",{className:`project-modal ${e?"fade-out":""}`,onClick:l,children:X.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[X.jsx("button",{className:"close-button",onClick:l,children:""}),X.jsx("h1",{children:c.title}),X.jsx("p",{children:c.description}),X.jsx("p",{children:c.details}),X.jsx("div",{className:"modal-media",children:c.media.slice(1).map((u,d)=>X.jsxs("div",{className:"media-block",children:[u.type==="video"?X.jsx("video",{src:u.src,controls:!0,autoPlay:!0,loop:!0,muted:!0,className:`modal-image ${u.src.includes("hulc_live_demo")?"small-video":""}`}):X.jsx("img",{src:u.src,alt:`Media ${d+1}`,className:"modal-image"}),u.caption&&X.jsx("p",{className:"media-caption",children:u.caption})]},d))})]})})]})}const je=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),uf=[.001,0,0,.001,0,0],Od=1.35,hn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},$n={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},ZM="pdfjs_internal_editor_",bt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},Rt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},vS={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Be={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},uo={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},se={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},xa={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Po={ERRORS:0,WARNINGS:1,INFOS:5},So={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},cc={moveTo:0,lineTo:1,curveTo:2,closePath:3},bS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let zc=Po.WARNINGS;function JM(a){Number.isInteger(a)&&(zc=a)}function tD(){return zc}function Uc(a){zc>=Po.INFOS&&console.log(`Info: ${a}`)}function At(a){zc>=Po.WARNINGS&&console.log(`Warning: ${a}`)}function zt(a){throw new Error(a)}function ge(a,t){a||zt(t)}function eD(a){switch(a?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function op(a,t=null,e=null){if(!a)return null;if(e&&typeof a=="string"&&(e.addDefaultProtocol&&a.startsWith("www.")&&a.match(/\./g)?.length>=2&&(a=`http://${a}`),e.tryConvertEncoding))try{a=rD(a)}catch{}const i=t?URL.parse(a,t):URL.parse(a);return eD(i)?i:null}function lp(a,t,e=!1){const i=URL.parse(a);return i?(i.hash=t,i.href):e&&op(a,"http://example.com")?a.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Ct(a,t,e,i=!1){return Object.defineProperty(a,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const Fs=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class Kb extends Fs{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Pd extends Fs{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Lc extends Fs{constructor(t){super(t,"InvalidPDFException")}}class wo extends Fs{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class nD extends Fs{constructor(t){super(t,"FormatError")}}class Si extends Fs{constructor(t){super(t,"AbortException")}}function AS(a){(typeof a!="object"||a?.length===void 0)&&zt("Invalid argument for bytesToString");const t=a.length,e=8192;if(t<e)return String.fromCharCode.apply(null,a);const i=[];for(let r=0;r<t;r+=e){const l=Math.min(r+e,t),c=a.subarray(r,l);i.push(String.fromCharCode.apply(null,c))}return i.join("")}function No(a){typeof a!="string"&&zt("Invalid argument for stringToBytes");const t=a.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=a.charCodeAt(i)&255;return e}function iD(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function sD(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function aD(){try{return new Function(""),!0}catch{return!1}}class Re{static get isLittleEndian(){return Ct(this,"isLittleEndian",sD())}static get isEvalSupported(){return Ct(this,"isEvalSupported",aD())}static get isOffscreenCanvasSupported(){return Ct(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ct(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Ct(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Ct(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Nd=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));class lt{static makeHexColor(t,e,i){return`#${Nd[t]}${Nd[e]}${Nd[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,i=0){const r=t[i],l=t[i+1];t[i]=r*e[0]+l*e[2]+e[4],t[i+1]=r*e[1]+l*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const r=e[0],l=e[1],c=e[2],u=e[3],d=e[4],f=e[5];for(let p=0;p<6;p+=2){const m=t[i+p],v=t[i+p+1];t[i+p]=m*r+v*c+d,t[i+p+1]=m*l+v*u+f}}static applyInverseTransform(t,e){const i=t[0],r=t[1],l=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/l,t[1]=(-i*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/l}static axialAlignedBoundingBox(t,e,i){const r=e[0],l=e[1],c=e[2],u=e[3],d=e[4],f=e[5],p=t[0],m=t[1],v=t[2],b=t[3];let A=r*p+d,S=A,T=r*v+d,E=T,R=u*m+f,_=R,L=u*b+f,C=L;if(l!==0||c!==0){const k=l*p,I=l*v,U=c*m,G=c*b;A+=U,E+=U,T+=G,S+=G,R+=k,C+=k,L+=I,_+=I}i[0]=Math.min(i[0],A,T,S,E),i[1]=Math.min(i[1],R,L,_,C),i[2]=Math.max(i[2],A,T,S,E),i[3]=Math.max(i[3],R,L,_,C)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],r=t[1],l=t[2],c=t[3],u=i**2+r**2,d=i*l+r*c,f=l**2+c**2,p=(u+f)/2,m=Math.sqrt(p**2-(u*f-d**2));e[0]=Math.sqrt(p+m||1),e[1]=Math.sqrt(p-m||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>r)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return l>c?null:[i,l,r,c]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,r,l){l[0]=Math.min(l[0],t,i),l[1]=Math.min(l[1],e,r),l[2]=Math.max(l[2],t,i),l[3]=Math.max(l[3],e,r)}static#t(t,e,i,r,l,c,u,d,f,p){if(f<=0||f>=1)return;const m=1-f,v=f*f,b=v*f,A=m*(m*(m*t+3*f*e)+3*v*i)+b*r,S=m*(m*(m*l+3*f*c)+3*v*u)+b*d;p[0]=Math.min(p[0],A),p[1]=Math.min(p[1],S),p[2]=Math.max(p[2],A),p[3]=Math.max(p[3],S)}static#e(t,e,i,r,l,c,u,d,f,p,m,v){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,i,r,l,c,u,d,-m/p,v);return}const b=p**2-4*m*f;if(b<0)return;const A=Math.sqrt(b),S=2*f;this.#t(t,e,i,r,l,c,u,d,(-p+A)/S,v),this.#t(t,e,i,r,l,c,u,d,(-p-A)/S,v)}static bezierBoundingBox(t,e,i,r,l,c,u,d,f){f[0]=Math.min(f[0],t,u),f[1]=Math.min(f[1],e,d),f[2]=Math.max(f[2],t,u),f[3]=Math.max(f[3],e,d),this.#e(t,i,l,u,e,r,c,d,3*(-t+3*(i-l)+u),6*(t-2*i+l),3*(i-t),f),this.#e(t,i,l,u,e,r,c,d,3*(-e+3*(r-c)+d),6*(e-2*r+c),3*(r-e),f)}}function rD(a){return decodeURIComponent(escape(a))}let kd=null,Wb=null;function SS(a){return kd||(kd=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Wb=new Map([["","t"]])),a.replaceAll(kd,(t,e,i)=>e?e.normalize("NFKC"):Wb.get(i))}function cp(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const a=new Uint8Array(32);return crypto.getRandomValues(a),AS(a)}const up="pdfjs_internal_id_";function oD(a,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,r,...l]=e;if(!a(i)&&!Number.isInteger(i)||!t(r))return!1;const c=l.length;let u=!0;switch(r.name){case"XYZ":if(c<2||c>3)return!1;break;case"Fit":case"FitB":return c===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(c>1)return!1;break;case"FitR":if(c!==4)return!1;u=!1;break;default:return!1}for(const d of l)if(!(typeof d=="number"||u&&d===null))return!1;return!0}function Fe(a,t,e){return Math.min(Math.max(a,t),e)}function wS(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(AS(a))}function lD(a){return Uint8Array.fromBase64?Uint8Array.fromBase64(a):No(atob(a))}typeof Promise.try!="function"&&(Promise.try=function(a,...t){return new Promise(e=>{e(a(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(a){return a.reduce((t,e)=>t+e,0)});const gi="http://www.w3.org/2000/svg";class Ns{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Ya(a,t="text"){if(no(a,document.baseURI)){const e=await fetch(a);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const r=new XMLHttpRequest;r.open("GET",a,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class ko{constructor({viewBox:t,userUnit:e,scale:i,rotation:r,offsetX:l=0,offsetY:c=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=r,this.offsetX=l,this.offsetY=c,i*=e;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,m,v,b;switch(r%=360,r<0&&(r+=360),r){case 180:p=-1,m=0,v=0,b=1;break;case 90:p=0,m=1,v=1,b=0;break;case 270:p=0,m=-1,v=-1,b=0;break;case 0:p=1,m=0,v=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(v=-v,b=-b);let A,S,T,E;p===0?(A=Math.abs(f-t[1])*i+l,S=Math.abs(d-t[0])*i+c,T=(t[3]-t[1])*i,E=(t[2]-t[0])*i):(A=Math.abs(d-t[0])*i+l,S=Math.abs(f-t[1])*i+c,T=(t[2]-t[0])*i,E=(t[3]-t[1])*i),this.transform=[p*i,m*i,v*i,b*i,A-p*i*d-v*i*f,S-m*i*d-b*i*f],this.width=T,this.height=E}get rawDims(){const t=this.viewBox;return Ct(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:l=!1}={}){return new ko({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:l})}convertToViewportPoint(t,e){const i=[t,e];return lt.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];lt.applyTransform(e,this.transform);const i=[t[2],t[3]];return lt.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return lt.applyInverseTransform(i,this.transform),i}}class jc extends Fs{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Io(a){const t=a.length;let e=0;for(;e<t&&a[e].trim()==="";)e++;return a.substring(e,e+5).toLowerCase()==="data:"}function Hc(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function ES(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function TS(a,t="document.pdf"){if(typeof a!="string")return t;if(Io(a))return At('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(a);let l=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(l&&(l=l[0],l.includes("%")))try{l=i.exec(decodeURIComponent(l))[0]}catch{}return l||t}class Qb{started=Object.create(null);times=[];time(t){t in this.started&&At(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||At(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:r,end:l}of this.times)t.push(`${i.padEnd(e)} ${l-r}ms
`);return t.join("")}}function no(a,t){const e=t?URL.parse(a,t):URL.parse(a);return e?.protocol==="http:"||e?.protocol==="https:"}function Rn(a){a.preventDefault()}function oe(a){a.preventDefault(),a.stopPropagation()}function cD(a){console.log("Deprecated API usage: "+a)}class hp{static#t;static toDateObject(t){if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const i=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let l=parseInt(e[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const f=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let m=parseInt(e[9],10)||0;return m=m>=0&&m<=59?m:0,f==="-"?(c+=p,u+=m):f==="+"&&(c-=p,u-=m),new Date(Date.UTC(i,r,l,c,u,d))}}function xS(a,{scale:t=1,rotation:e=0}){const{width:i,height:r}=a.attributes.style,l=[0,0,parseInt(i),parseInt(r)];return new ko({viewBox:l,userUnit:1,scale:t,rotation:e})}function dp(a){if(a.startsWith("#")){const t=parseInt(a.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(t=>parseInt(t)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(At(`Not a valid color format: "${a}"`),[0,0,0])}function uD(a){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of a.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;a.set(e,dp(i))}t.remove()}function Kt(a){const{a:t,b:e,c:i,d:r,e:l,f:c}=a.getTransform();return[t,e,i,r,l,c]}function Hn(a){const{a:t,b:e,c:i,d:r,e:l,f:c}=a.getTransform().invertSelf();return[t,e,i,r,l,c]}function ts(a,t,e=!1,i=!0){if(t instanceof ko){const{pageWidth:r,pageHeight:l}=t.rawDims,{style:c}=a,u=Re.isCSSRoundSupported,d=`var(--total-scale-factor) * ${r}px`,f=`var(--total-scale-factor) * ${l}px`,p=u?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,m=u?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(c.width=p,c.height=m):(c.width=m,c.height=p)}i&&a.setAttribute("data-main-rotation",t.rotation)}class kn{constructor(){const{pixelRatio:t}=kn;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,r,l=-1){let c=1/0,u=1/0,d=1/0;i=kn.capPixels(i,l),i>0&&(c=Math.sqrt(i/(t*e))),r!==-1&&(u=r/t,d=r/e);const f=Math.min(c,u,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const Oc=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class ho{#t=null;#e=null;#n;#i=null;#a=null;#s=null;static#l=null;constructor(t){this.#n=t,ho.#l||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#n._uiManager._signal;t.addEventListener("contextmenu",Rn,{signal:e}),t.addEventListener("pointerdown",ho.#o,{signal:e});const i=this.#i=document.createElement("div");i.className="buttons",t.append(i);const r=this.#n.toolbarPosition;if(r){const{style:l}=t,c=this.#n._uiManager.direction==="ltr"?1-r[0]:r[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),t}get div(){return this.#t}static#o(t){t.stopPropagation()}#h(t){this.#n._focusEventsAllowed=!1,oe(t)}#c(t){this.#n._focusEventsAllowed=!0,oe(t)}#d(t){const e=this.#n._uiManager._signal;t.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#c.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Rn,{signal:e})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown()}#u(){const{editorType:t,_uiManager:e}=this.#n,i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",ho.#l[t]),this.#d(i),i.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#i.append(i)}get#f(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#d(e),this.#i.prepend(e,this.#f),this.#a=t}addColorPicker(t){this.#e=t;const e=t.renderButton();this.#d(e),this.#i.prepend(e,this.#f)}async addEditSignatureButton(t){const e=this.#s=await t.renderEditButton(this.#n);this.#d(e),this.#i.prepend(e,this.#f)}updateEditSignatureButton(t){this.#s&&(this.#s.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class hD{#t=null;#e=null;#n;constructor(t){this.#n=t}#i(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Rn,{signal:this.#n._signal});const e=this.#t=document.createElement("div");return e.className="buttons",t.append(e),this.#s(),t}#a(t,e){let i=0,r=0;for(const l of t){const c=l.y+l.height;if(c<i)continue;const u=l.x+(e?l.width:0);if(c>i){r=u,i=c;continue}e?u>r&&(r=u):u<r&&(r=u)}return[e?1-r:r,i]}show(t,e,i){const[r,l]=this.#a(e,i),{style:c}=this.#e||=this.#i();t.append(this.#e),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=this.#n._signal;t.addEventListener("contextmenu",Rn,{signal:i}),t.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:i}),this.#t.append(t)}}function _S(a,t,e){for(const i of e)t.addEventListener(i,a[i].bind(a))}class dD{#t=0;get id(){return`${ZM}${this.#t++}`}}class fp{#t=cp();#e=0;#n=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const l=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Ct(this,"_isSVGFittingCanvas",l)}async#i(t,e){this.#n||=new Map;let i=this.#n.get(t);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(i.url=e,r=await Ya(e,"blob")):e instanceof File?r=i.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const l=fp._isSVGFittingCanvas,c=new FileReader,u=new Image,d=new Promise((f,p)=>{u.onload=()=>{i.bitmap=u,i.isSvg=!0,f()},c.onload=async()=>{const m=i.svgUrl=c.result;u.src=await l?`${m}#svgView(preserveAspectRatio(none))`:m},u.onerror=c.onerror=p});c.readAsDataURL(r),await d}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){At(r),i=null}return this.#n.set(t,i),i&&this.#n.set(i.id,i),i}async getFromFile(t){const{lastModified:e,name:i,size:r,type:l}=t;return this.#i(`${e}_${i}_${r}_${l}`,t)}async getFromUrl(t){return this.#i(t,t)}async getFromBlob(t,e){const i=await e;return this.#i(t,i)}async getFromId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#n||=new Map;let i=this.#n.get(t);if(i?.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#n.set(t,i),this.#n.set(i.id,i),i}getSvgUrl(t){const e=this.#n.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=r.convertToBlob()}i.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class fD{#t=[];#e=!1;#n;#i=-1;constructor(t=128){this.#n=t}add({cmd:t,undo:e,post:i,mustExec:r,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:u=!1}){if(r&&t(),this.#e)return;const d={cmd:t,undo:e,post:i,type:l};if(this.#i===-1){this.#t.length>0&&(this.#t.length=0),this.#i=0,this.#t.push(d);return}if(c&&this.#t[this.#i].type===l){u&&(d.undo=this.#t[this.#i].undo),this.#t[this.#i]=d;return}const f=this.#i+1;f===this.#n?this.#t.splice(0,1):(this.#i=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(d)}undo(){if(this.#i===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1,this.#i-=1}redo(){if(this.#i<this.#t.length-1){this.#i+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#t.length-1}cleanType(t){if(this.#i!==-1){for(let e=this.#i;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#i-e),this.#i=e;return}this.#t.length=0,this.#i=-1}}destroy(){this.#t=null}}class Bo{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Re.platform;for(const[i,r,l={}]of t)for(const c of i){const u=c.startsWith("mac+");e&&u?(this.callbacks.set(c.slice(4),{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1))):!e&&!u&&(this.callbacks.set(c,{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(this.#t(e));if(!i)return;const{callback:r,options:{bubbles:l=!1,args:c=[],checker:u=null}}=i;u&&!u(t,e)||(r.bind(t,...c,e)(),l||oe(e))}}class pp{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return uD(t),Ct(this,"_colors",t)}convert(t){const e=dp(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,r]of this._colors)if(r.every((l,c)=>l===e[c]))return pp._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?lt.makeHexColor(...e):t}}class wi{#t=new AbortController;#e=null;#n=new Map;#i=new Map;#a=null;#s=null;#l=null;#o=new fD;#h=null;#c=null;#d=0;#u=new Set;#f=null;#r=null;#p=new Set;_editorUndoBar=null;#m=!1;#g=!1;#y=!1;#v=null;#b=null;#S=null;#E=null;#x=!1;#C=null;#M=new dD;#w=!1;#R=!1;#_=null;#L=null;#O=null;#P=null;#z=null;#T=bt.NONE;#A=new Set;#B=null;#F=null;#H=null;#G=null;#q={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#U=[0,0];#N=null;#k=null;#j=null;#I=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=wi.prototype,e=c=>c.#k.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),i=(c,{target:u})=>{if(u instanceof HTMLInputElement){const{type:d}=u;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new Bo([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&c.#k.contains(u)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&c.#k.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:e}]]))}constructor(t,e,i,r,l,c,u,d,f,p,m,v,b,A){const S=this._signal=this.#t.signal;this.#k=t,this.#j=e,this.#a=i,this.#F=r,this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:S}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),l._on("setpreference",this.onSetPreference.bind(this),{signal:S}),l._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:S}),this.#it(),this.#ot(),this.#W(),this.#s=c.annotationStorage,this.#v=c.filterFactory,this.#H=u,this.#E=d||null,this.#m=f,this.#g=p,this.#y=m,this.#z=v||null,this.viewParameters={realScale:Ns.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=A!==!1}destroy(){this.#I?.resolve(),this.#I=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#i.values())t.destroy();this.#i.clear(),this.#n.clear(),this.#p.clear(),this.#P?.clear(),this.#e=null,this.#A.clear(),this.#o.destroy(),this.#a?.destroy(),this.#F?.destroy(),this.#C?.hide(),this.#C=null,this.#O?.destroy(),this.#O=null,this.#b&&(clearTimeout(this.#b),this.#b=null),this.#N&&(clearTimeout(this.#N),this.#N=null),this._editorUndoBar?.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#z}get useNewAltTextFlow(){return this.#g}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Ct(this,"hcmFilter",this.#H?this.#v.addHCMFilter(this.#H.foreground,this.#H.background):"none")}get direction(){return Ct(this,"direction",getComputedStyle(this.#k).direction)}get highlightColors(){return Ct(this,"highlightColors",this.#E?new Map(this.#E.split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Ct(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#c=t}setMainHighlightColorPicker(t){this.#O=t}editAltText(t,e=!1){this.#a?.editAltText(this,t,e)}getSignature(t){this.#F?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#F}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#y=e;break}}onPageChanging({pageNumber:t}){this.#d=t-1}focusMainContainer(){this.#k.focus()}findParent(t,e){for(const i of this.#i.values()){const{x:r,y:l,width:c,height:u}=i.div.getBoundingClientRect();if(t>=r&&t<=r+c&&e>=l&&e<=l+u)return i}return null}disableUserSelect(t=!1){this.#j.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Ns.PDF_TO_CSS_UNITS;for(const e of this.#p)e.onScaleChanging();this.#c?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Y({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#K(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of this.#i.values())if(i.hasTextLayer(t))return i;return null}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:l,focusOffset:c}=e,u=e.toString(),f=this.#Y(e).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;e.empty();const m=this.#K(f),v=this.#T===bt.NONE,b=()=>{m?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:p,anchorNode:i,anchorOffset:r,focusNode:l,focusOffset:c,text:u}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(bt.HIGHLIGHT,b);return}b()}#et(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=this.#Y(t).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(this.#C||=new hD(this),this.#C.show(i,r,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#s&&!this.#s.has(t.id)&&this.#s.setValue(t.id,t)}#nt(){const t=document.getSelection();if(!t||t.isCollapsed){this.#B&&(this.#C?.hide(),this.#B=null,this.#D({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#B)return;const r=this.#Y(t).closest(".textLayer");if(!r){this.#B&&(this.#C?.hide(),this.#B=null,this.#D({hasSelectedText:!1}));return}if(this.#C?.hide(),this.#B=e,this.#D({hasSelectedText:!0}),!(this.#T!==bt.HIGHLIGHT&&this.#T!==bt.NONE)&&(this.#T===bt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#x=this.isShiftKeyDown,!this.isShiftKeyDown)){const l=this.#T===bt.HIGHLIGHT?this.#K(r):null;l?.toggleDrawing();const c=new AbortController,u=this.combinedSignal(c),d=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l?.toggleDrawing(!0),f.type==="pointerup"&&this.#$("main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}}#$(t=""){this.#T===bt.HIGHLIGHT?this.highlightSelection(t):this.#m&&this.#et()}#it(){document.addEventListener("selectionchange",this.#nt.bind(this),{signal:this._signal})}#st(){if(this.#S)return;this.#S=new AbortController;const t=this.combinedSignal(this.#S);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#at(){this.#S?.abort(),this.#S=null}blur(){if(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#$("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#A)if(e.div.contains(t)){this.#L=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#L)return;const[t,e]=this.#L;this.#L=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#W(){if(this.#_)return;this.#_=new AbortController;const t=this.combinedSignal(this.#_);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#rt(){this.#_?.abort(),this.#_=null}#Q(){if(this.#h)return;this.#h=new AbortController;const t=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#Z(){this.#h?.abort(),this.#h=null}#ot(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#W(),this.#Q()}removeEditListeners(){this.#rt(),this.#Z()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of this.#r)if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of this.#r)if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const i of this.#A){const r=i.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const l of e.items)for(const c of this.#r)if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(l){At(`paste: "${l.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const l=[];for(const d of i){const f=await r.deserialize(d);if(!f)return;l.push(f)}const c=()=>{for(const d of l)this.#J(d);this.#tt(l)},u=()=>{for(const d of l)d.remove()};this.addCommands({cmd:c,undo:u,mustExec:!0})}catch(l){At(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#T!==bt.NONE&&!this.isEditorHandlingKeyboard&&wi._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#$("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#D(t){Object.entries(t).some(([i,r])=>this.#q[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#q,t)}),this.#T===bt.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#V([[Rt.HIGHLIGHT_FREE,!0]]))}#V(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#st(),this.#Q(),this.#D({isEditing:this.#T!==bt.NONE,isEmpty:this.#X(),hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:this.#o.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#at(),this.#Z(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#r){this.#r=t;for(const e of this.#r)this.#V(e.defaultPropertiesToUpdate)}}getId(){return this.#M.id}get currentLayer(){return this.#i.get(this.#d)}getLayer(t){return this.#i.get(t)}get currentPageIndex(){return this.#d}addLayer(t){this.#i.set(t.pageIndex,t),this.#w?t.enable():t.disable()}removeLayer(t){this.#i.delete(t.pageIndex)}async updateMode(t,e=null,i=!1){if(this.#T!==t&&!(this.#I&&(await this.#I.promise,!this.#I))){if(this.#I=Promise.withResolvers(),this.#c?.commitOrRemove(),this.#T=t,t===bt.NONE){this.setEditingState(!1),this.#ct(),this._editorUndoBar?.hide(),this.#I.resolve();return}t===bt.SIGNATURE&&await this.#F?.loadSignatures(),this.setEditingState(!0),await this.#lt(),this.unselectAll();for(const r of this.#i.values())r.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),this.#I.resolve();return}for(const r of this.#n.values())r.annotationElementId===e||r.id===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();this.#I.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#T&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#r){switch(t){case Rt.CREATE:this.currentLayer.addNewEditor(e);return;case Rt.HIGHLIGHT_DEFAULT_COLOR:this.#O?.updateColor(e);break;case Rt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#G||=new Map).set(t,e),this.showAllEditors("highlight",e);break}for(const i of this.#A)i.updateParams(t,e);for(const i of this.#r)i.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){for(const l of this.#n.values())l.editorType===t&&l.show(e);(this.#G?.get(Rt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#V([[Rt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#R!==t){this.#R=t;for(const e of this.#i.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#lt(){if(!this.#w){this.#w=!0;const t=[];for(const e of this.#i.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#ct(){if(this.unselectAll(),this.#w){this.#w=!1;for(const t of this.#i.values())t.disable();for(const t of this.#n.values())t.disable()}}getEditors(t){const e=[];for(const i of this.#n.values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.focusMainContainer(),this.#b=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#P?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#u.has(t.annotationElementId))&&this.#s?.remove(t.id)}addDeletedAnnotationElement(t){this.#u.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#u.has(t)}removeDeletedAnnotationElement(t){this.#u.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#J(t){const e=this.#i.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#V(t.propertiesToUpdate))}get#ut(){let t=null;for(t of this.#A);return t}updateUI(t){this.#ut===t&&this.#V(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#V(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#A.has(t)){this.#A.delete(t),t.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#A.add(t),t.select(),this.#V(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(t){this.#c?.commitOrRemove();for(const e of this.#A)e!==t&&e.unselect();this.#A.clear(),this.#A.add(t),t.select(),this.#V(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(t){return this.#A.has(t)}get firstSelectedEditor(){return this.#A.values().next().value}unselect(t){t.unselect(),this.#A.delete(t),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#A.size!==0}get isEnterHandled(){return this.#A.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#o.undo(),this.#D({hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#X()}),this._editorUndoBar?.hide()}redo(){this.#o.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#o.hasSomethingToRedo(),isEmpty:this.#X()})}addCommands(t){this.#o.add(t),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#X()})}cleanUndoStack(t){this.#o.cleanType(t)}#X(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#A],i=()=>{this._editorUndoBar?.show(r,e.length===1?e[0].editorType:e.length);for(const l of e)l.remove()},r=()=>{for(const l of e)this.#J(l)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#tt(t){for(const e of this.#A)e.unselect();this.#A.clear();for(const e of t)e.isEmpty()||(this.#A.add(e),e.select());this.#D({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#A)t.commit();this.#tt(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#T!==bt.NONE))&&!this.#c?.commitOrRemove()&&this.hasSelection){for(const t of this.#A)t.unselect();this.#A.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#U[0]+=t,this.#U[1]+=e;const[r,l]=this.#U,c=[...this.#A],u=1e3;this.#N&&clearTimeout(this.#N),this.#N=setTimeout(()=>{this.#N=null,this.#U[0]=this.#U[1]=0,this.addCommands({cmd:()=>{for(const d of c)this.#n.has(d.id)&&(d.translateInPage(r,l),d.translationDone())},undo:()=>{for(const d of c)this.#n.has(d.id)&&(d.translateInPage(-r,-l),d.translationDone())},mustExec:!1})},u);for(const d of c)d.translateInPage(t,e),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const t of this.#A)this.#f.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const t=this.#f;this.#f=null;let e=!1;for(const[{x:r,y:l,pageIndex:c},u]of t)u.newX=r,u.newY=l,u.newPageIndex=c,e||=r!==u.savedX||l!==u.savedY||c!==u.savedPageIndex;if(!e)return!1;const i=(r,l,c,u)=>{if(this.#n.has(r.id)){const d=this.#i.get(u);d?r._setParentAndPosition(d,l,c):(r.pageIndex=u,r.x=l,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:l,newY:c,newPageIndex:u}]of t)i(r,l,c,u)},undo:()=>{for(const[r,{savedX:l,savedY:c,savedPageIndex:u}]of t)i(r,l,c,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#f)for(const i of this.#f.keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#A.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#T}get imageManager(){return Ct(this,"imageManager",new fp)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,p=e.rangeCount;f<p;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:i,y:r,width:l,height:c}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(f,p,m,v)=>({x:(p-r)/c,y:1-(f+m-i)/l,width:v/c,height:m/l});break;case"180":u=(f,p,m,v)=>({x:1-(f+m-i)/l,y:1-(p+v-r)/c,width:m/l,height:v/c});break;case"270":u=(f,p,m,v)=>({x:1-(p+v-r)/c,y:(f-i)/l,width:v/c,height:m/l});break;default:u=(f,p,m,v)=>({x:(f-i)/l,y:(p-r)/c,width:m/l,height:v/c});break}const d=[];for(let f=0,p=e.rangeCount;f<p;f++){const m=e.getRangeAt(f);if(!m.collapsed)for(const{x:v,y:b,width:A,height:S}of m.getClientRects())A===0||S===0||d.push(u(v,b,A,S))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#l||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#l?.delete(t)}renderAnnotationElement(t){const e=this.#l?.get(t.data.id);if(!e)return;const i=this.#s.getRawValue(e);i&&(this.#T===bt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){const r=this.#P?.get(t);r&&(r.setCanvas(e,i),this.#P.delete(t))}addMissingCanvas(t,e){(this.#P||=new Map).set(t,e)}}class Xn{#t=null;#e=!1;#n=null;#i=null;#a=null;#s=null;#l=!1;#o=null;#h=null;#c=null;#d=null;#u=!1;static#f=null;static _l10n=null;constructor(t){this.#h=t,this.#u=t._uiManager.useNewAltTextFlow,Xn.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Xn._l10n??=t}async render(){const t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#i=document.createElement("span");t.append(e),this.#u?(t.classList.add("new"),t.setAttribute("data-l10n-id",Xn.#f.missing),e.setAttribute("data-l10n-id",Xn.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=this.#h._uiManager._signal;t.addEventListener("contextmenu",Rn,{signal:i}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:i});const r=l=>{l.preventDefault(),this.#h._uiManager.editAltText(this.#h),this.#u&&this.#h._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#r}})};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(this.#l=!0,r(l))},{signal:i}),await this.#p(),t}get#r(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#l}),this.#l=!1)}isEmpty(){return this.#u?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#u?this.#t!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}async setGuessedText(t){this.#t===null&&(this.#c=t,this.#d=await Xn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#u||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#h.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#c===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#c,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:r,cancel:l=!1}){i&&(this.#c=i,this.#d=r),!(this.#t===t&&this.#e===e)&&(l||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#n&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#n.disabled=!t)}shown(){this.#h._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#r}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#a=null,this.#o?.remove(),this.#o=null}async#p(){const t=this.#n;if(!t)return;if(this.#u){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Xn.#f[this.#r]),this.#i?.setAttribute("data-l10n-id",Xn.#f[`${this.#r}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#h.id}`;const r=100,l=this.#h._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#h._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:l}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:l})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#h.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class Fo{#t;#e=!1;#n=null;#i;#a;#s;#l;#o=null;#h;#c=null;#d;#u=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:l=null,onPinchEnd:c=null,signal:u}){this.#t=t,this.#n=i,this.#i=e,this.#a=r,this.#s=l,this.#l=c,this.#d=new AbortController,this.#h=AbortSignal.any([u,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#h})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/kn.pixelRatio}#f(t){if(this.#i?.())return;if(t.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,l=AbortSignal.any([this.#h,r.signal]),c=this.#t,u={capture:!0,signal:l,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(oe(f),d(f))},u),c.addEventListener("pointerup",d,u),c.addEventListener("pointercancel",d,u);return}if(!this.#u){this.#u=new AbortController;const r=AbortSignal.any([this.#h,this.#u.signal]),l=this.#t,c={signal:r,capture:!1,passive:!1};l.addEventListener("touchmove",this.#r.bind(this),c);const u=this.#p.bind(this);l.addEventListener("touchend",u,c),l.addEventListener("touchcancel",u,c),c.capture=!0,l.addEventListener("pointerdown",oe,c),l.addEventListener("pointermove",oe,c),l.addEventListener("pointercancel",oe,c),l.addEventListener("pointerup",oe,c),this.#a?.()}if(oe(t),t.touches.length!==2||this.#n?.()){this.#c=null;return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),this.#c={touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY}}#r(t){if(!this.#c||t.touches.length!==2)return;oe(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:r,screenY:l}=e,{screenX:c,screenY:u}=i,d=this.#c,{touch0X:f,touch0Y:p,touch1X:m,touch1Y:v}=d,b=m-f,A=v-p,S=c-r,T=u-l,E=Math.hypot(S,T)||1,R=Math.hypot(b,A)||1;if(!this.#e&&Math.abs(R-E)<=Fo.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=r,d.touch0Y=l,d.touch1X=c,d.touch1Y=u,!this.#e){this.#e=!0;return}const _=[(r+c)/2,(l+u)/2];this.#s?.(_,R,E)}#p(t){t.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#l?.()),this.#c&&(oe(t),this.#c=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class ut{#t=null;#e=null;#n=null;#i=!1;#a=null;#s="";#l=!1;#o=null;#h=null;#c=null;#d=null;#u="";#f=!1;#r=null;#p=!1;#m=!1;#g=!1;#y=null;#v=0;#b=0;#S=null;#E=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#x=!1;#C=ut._zIndex++;static _borderLineWidth=-1;static _colorManager=new pp;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=ut.prototype._resizeWithKeyboard,e=wi.TRANSLATE_SMALL,i=wi.TRANSLATE_BIG;return Ct(this,"_resizerKeyboardManager",new Bo([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],ut.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:r,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[l,c];const[u,d]=this.parentDimensions;this.x=t.x/u,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Ct(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new pD({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(ut._l10n??=t,ut._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),ut._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);ut._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){zt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#x}set _isDraggable(t){this.#x=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#C}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#j(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,r){const[l,c]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(t+i)/l,this.y=(e+r)/c,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,r]=this.parentDimensions;this.setAt(t*i,e*r,this.width*i,this.height*r),this._onTranslated()}#M([t,e],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#M(this.parentDimensions,t,e)}translateInPage(t,e){this.#r||=[this.x,this.y,this.width,this.height],this.#M(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#r||=[this.x,this.y,this.width,this.height];const{div:i,parentDimensions:[r,l]}=this;if(this.x+=t/r,this.y+=e/l,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:u}=this;const[d,f]=this.getBaseTranslation();c+=d,u+=f;const{style:p}=i;p.left=`${(100*c).toFixed(2)}%`,p.top=`${(100*u).toFixed(2)}%`,this._onTranslating(c,u),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#r&&(this.#r[0]!==this.x||this.#r[1]!==this.y)}get _hasBeenResized(){return!!this.#r&&(this.#r[2]!==this.width||this.#r[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=ut,r=i/t,l=i/e;switch(this.rotation){case 90:return[-r,l];case 180:return[r,l];case 270:return[r,-l];default:return[-r,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,r]}=this;let{x:l,y:c,width:u,height:d}=this;if(u*=i,d*=r,l*=i,c*=r,this._mustFixPosition)switch(t){case 0:l=Fe(l,0,i-u),c=Fe(c,0,r-d);break;case 90:l=Fe(l,0,i-d),c=Fe(c,u,r);break;case 180:l=Fe(l,u,i),c=Fe(c,d,r);break;case 270:l=Fe(l,d,i),c=Fe(c,0,r-u);break}this.x=l/=i,this.y=c/=r;const[f,p]=this.getBaseTranslation();l+=f,c+=p,e.left=`${(100*l).toFixed(2)}%`,e.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}static#w(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return ut.#w(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return ut.#w(t,e,360-this.parentRotation)}#R(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,r]=this.parentDimensions,{style:l}=this.div;l.width=`${(100*t/i).toFixed(2)}%`,this.#l||(l.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,r=i.endsWith("%"),l=!this.#l&&e.endsWith("%");if(r&&l)return;const[c,u]=this.parentDimensions;r||(t.width=`${(100*parseFloat(i)/c).toFixed(2)}%`),!this.#l&&!l&&(t.height=`${(100*parseFloat(e)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#_(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const r=document.createElement("div");this.#o.append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",this.#L.bind(this,i),{signal:e}),r.addEventListener("contextmenu",Rn,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#o)}#L(t,e){e.preventDefault();const{isMac:i}=Re.platform;if(e.button!==0||e.ctrlKey&&i)return;this.#n?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#h=[e.screenX,e.screenY];const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#z.bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("touchmove",oe,{passive:!1,signal:c}),window.addEventListener("contextmenu",Rn,{signal:c}),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const u=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{l.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=u,this.div.style.cursor=d,this.#P()};window.addEventListener("pointerup",f,{signal:c}),window.addEventListener("blur",f,{signal:c})}#O(t,e,i,r){this.width=i,this.height=r,this.x=t,this.y=e;const[l,c]=this.parentDimensions;this.setDims(l*i,c*r),this.fixAndSetPosition(),this._onResized()}_onResized(){}#P(){if(!this.#c)return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:r}=this.#c;this.#c=null;const l=this.x,c=this.y,u=this.width,d=this.height;l===t&&c===e&&u===i&&d===r||this.addCommands({cmd:this.#O.bind(this,l,c,u,d),undo:this.#O.bind(this,t,e,i,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#z(t,e){const[i,r]=this.parentDimensions,l=this.x,c=this.y,u=this.width,d=this.height,f=ut.MIN_SIZE/i,p=ut.MIN_SIZE/r,m=this.#R(this.rotation),v=(N,F)=>[m[0]*N+m[2]*F,m[1]*N+m[3]*F],b=this.#R(360-this.rotation),A=(N,F)=>[b[0]*N+b[2]*F,b[1]*N+b[3]*F];let S,T,E=!1,R=!1;switch(t){case"topLeft":E=!0,S=(N,F)=>[0,0],T=(N,F)=>[N,F];break;case"topMiddle":S=(N,F)=>[N/2,0],T=(N,F)=>[N/2,F];break;case"topRight":E=!0,S=(N,F)=>[N,0],T=(N,F)=>[0,F];break;case"middleRight":R=!0,S=(N,F)=>[N,F/2],T=(N,F)=>[0,F/2];break;case"bottomRight":E=!0,S=(N,F)=>[N,F],T=(N,F)=>[0,0];break;case"bottomMiddle":S=(N,F)=>[N/2,F],T=(N,F)=>[N/2,0];break;case"bottomLeft":E=!0,S=(N,F)=>[0,F],T=(N,F)=>[N,0];break;case"middleLeft":R=!0,S=(N,F)=>[0,F/2],T=(N,F)=>[N,F/2];break}const _=S(u,d),L=T(u,d);let C=v(...L);const k=ut._round(l+C[0]),I=ut._round(c+C[1]);let U=1,G=1,W,Z;if(e.fromKeyboard)({deltaX:W,deltaY:Z}=e);else{const{screenX:N,screenY:F}=e,[tt,pt]=this.#h;[W,Z]=this.screenToPageTranslation(N-tt,F-pt),this.#h[0]=N,this.#h[1]=F}if([W,Z]=A(W/i,Z/r),E){const N=Math.hypot(u,d);U=G=Math.max(Math.min(Math.hypot(L[0]-_[0]-W,L[1]-_[1]-Z)/N,1/u,1/d),f/u,p/d)}else R?U=Fe(Math.abs(L[0]-_[0]-W),f,1)/u:G=Fe(Math.abs(L[1]-_[1]-Z),p,1)/d;const st=ut._round(u*U),vt=ut._round(d*G);C=v(...T(st,vt));const ct=k-C[0],rt=I-C[1];this.#r||=[this.x,this.y,this.width,this.height],this.width=st,this.height=vt,this.x=ct,this.y=rt,this.setDims(i*st,r*vt),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}async addEditToolbar(){return this._editToolbar||this.#m?this._editToolbar:(this._editToolbar=new ho(this),this.div.append(this._editToolbar.render()),this.#n&&await this._editToolbar.addAltText(this.#n),this._editToolbar)}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#n||(Xn.initialize(ut._l10n),this.#n=new Xn(this),this.#t&&(this.#n.data=this.#t,this.#t=null),await this.addEditToolbar())}get altTextData(){return this.#n?.data}set altTextData(t){this.#n&&(this.#n.data=t)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(t){await this.#n?.setGuessedText(t)}serializeAltText(t){return this.#n?.serialize(t)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#i?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#G();const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[r,l]=this.getInitialTranslation();return this.translate(r,l),_S(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#E||=new Fo({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#T.bind(this),onPinching:this.#A.bind(this),onPinchEnd:this.#B.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),t}#T(){this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#A(t,e,i){let l=.7*(i/e)+1-.7;if(l===1)return;const c=this.#R(this.rotation),u=(k,I)=>[c[0]*k+c[2]*I,c[1]*k+c[3]*I],[d,f]=this.parentDimensions,p=this.x,m=this.y,v=this.width,b=this.height,A=ut.MIN_SIZE/d,S=ut.MIN_SIZE/f;l=Math.max(Math.min(l,1/v,1/b),A/v,S/b);const T=ut._round(v*l),E=ut._round(b*l);if(T===v&&E===b)return;this.#r||=[p,m,v,b];const R=u(v/2,b/2),_=ut._round(p+R[0]),L=ut._round(m+R[1]),C=u(T/2,E/2);this.x=_-C[0],this.y=L-C[1],this.width=T,this.height=E,this.setDims(d*T,f*E),this.fixAndSetPosition(),this._onResizing()}#B(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#P()}pointerdown(t){const{isMac:e}=Re.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#H(t);return}this.#F(t)}#F(t){const{isMac:e}=Re.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#H(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,l=this._uiManager.combinedSignal(r),c={capture:!0,passive:!1,signal:l},u=f=>{r.abort(),this.#a=null,this.#f=!1,this._uiManager.endDragSession()||this.#F(f),i&&this._onStopDragging()};e&&(this.#v=t.clientX,this.#b=t.clientY,this.#a=t.pointerId,this.#s=t.pointerType,window.addEventListener("pointermove",f=>{i||(i=!0,this._onStartDragging());const{clientX:p,clientY:m,pointerId:v}=f;if(v!==this.#a){oe(f);return}const[b,A]=this.screenToPageTranslation(p-this.#v,m-this.#b);this.#v=p,this.#b=m,this._uiManager.dragSelectedEditors(b,A)},c),window.addEventListener("touchmove",oe,c),window.addEventListener("pointerdown",f=>{f.pointerType===this.#s&&(this.#E||f.isPrimary)&&u(f),oe(f)},c));const d=f=>{if(!this.#a||this.#a===f.pointerId){u(f);return}oe(f)};window.addEventListener("pointerup",d,{signal:l}),window.addEventListener("blur",d,{signal:l})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const r=this.parentScale,[l,c]=this.pageDimensions,[u,d]=this.pageTranslation,f=t/r,p=e/r,m=this.x*l,v=this.y*c,b=this.width*l,A=this.height*c;switch(i){case 0:return[m+f+u,c-v-p-A+d,m+f+b+u,c-v-p+d];case 90:return[m+p+u,c-v+f+d,m+p+A+u,c-v+f+b+d];case 180:return[m-f-b+u,c-v+p+d,m-f+u,c-v+p+A+d];case 270:return[m-p-A+u,c-v-f-b+d,m-p+u,c-v-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,r,l,c]=t,u=l-i,d=c-r;switch(this.rotation){case 0:return[i,e-c,u,d];case 90:return[i,e-r,d,u];case 180:return[l,e-r,u,d];case 270:return[l,e-c,d,u];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#m=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#m=!1,!0):!1}isInEditMode(){return this.#m}shouldGetKeyboardEvents(){return this.#g}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:l,innerWidth:c}=window;return e<c&&r>0&&t<l&&i>0}#G(){if(this.#d||!this.div)return;this.#d=new AbortController;const t=this._uiManager.combinedSignal(this.#d);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#G()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){zt("An editor must be serializable")}static async deserialize(t,e,i){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});r.rotation=t.rotation,r.#t=t.accessibilityData,r._isCopy=t.isCopy||!1;const[l,c]=r.pageDimensions,[u,d,f,p]=r.getRectInCurrentCoords(t.rect,c);return r.x=u/l,r.y=d/c,r.width=f/l,r.height=p/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#d?.abort(),this.#d=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#j(),this.removeEditToolbar(),this.#S){for(const t of this.#S.values())clearTimeout(t);this.#S=null}this.parent=null,this.#E?.destroy(),this.#E=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#_(),this.#o.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#o.children;if(!this.#e){this.#e=Array.from(e);const c=this.#q.bind(this),u=this.#U.bind(this),d=this._uiManager._signal;for(const f of this.#e){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",c,{signal:d}),f.addEventListener("blur",u,{signal:d}),f.addEventListener("focus",this.#N.bind(this,p),{signal:d}),f.setAttribute("data-l10n-id",ut._l10nResizer[p])}}const i=this.#e[0];let r=0;for(const c of e){if(c===i)break;r++}const l=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(l!==r){if(l<r)for(let u=0;u<r-l;u++)this.#o.append(this.#o.firstChild);else if(l>r)for(let u=0;u<l-r;u++)this.#o.firstChild.before(this.#o.lastChild);let c=0;for(const u of e){const f=this.#e[c++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",ut._l10nResizer[f])}}this.#k(0),this.#g=!0,this.#o.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#q(t){ut._resizerKeyboardManager.exec(this,t)}#U(t){this.#g&&t.relatedTarget?.parentNode!==this.#o&&this.#j()}#N(t){this.#u=this.#g?t:""}#k(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#g&&this.#z(this.#u,{deltaX:t,deltaY:e,fromKeyboard:!0})}#j(){this.#g=!1,this.#k(-1),this.#P()}_stopResizingWithKeyboard(){this.#j(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#l=!0;const i=t/e,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#S||=new Map;const{action:i}=t;let r=this.#S.get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#S.delete(i),this.#S.size===0&&(this.#S=null)},ut._telemetryTimeout),this.#S.set(i,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class pD extends ut{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Zb=3285377520,Tn=4294901760,Gn=65535;class CS{constructor(t){this.h1=t?t&4294967295:Zb,this.h2=t?t&4294967295:Zb}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let S=0,T=t.length;S<T;S++){const E=t.charCodeAt(S);E<=255?e[i++]=E:(e[i++]=E>>>8,e[i++]=E&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,l=i-r*4,c=new Uint32Array(e.buffer,0,r);let u=0,d=0,f=this.h1,p=this.h2;const m=3432918353,v=461845907,b=m&Gn,A=v&Gn;for(let S=0;S<r;S++)S&1?(u=c[S],u=u*m&Tn|u*b&Gn,u=u<<15|u>>>17,u=u*v&Tn|u*A&Gn,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(d=c[S],d=d*m&Tn|d*b&Gn,d=d<<15|d>>>17,d=d*v&Tn|d*A&Gn,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(u=0,l){case 3:u^=e[r*4+2]<<16;case 2:u^=e[r*4+1]<<8;case 1:u^=e[r*4],u=u*m&Tn|u*b&Gn,u=u<<15|u>>>17,u=u*v&Tn|u*A&Gn,r&1?f^=u:p^=u}this.h1=f,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Tn|t*36045&Gn,e=e*4283543511&Tn|((e<<16|t>>>16)*2950163797&Tn)>>>16,t^=e>>>1,t=t*444984403&Tn|t*60499&Gn,e=e*3301882366&Tn|((e<<16|t>>>16)*3120437893&Tn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const hf=Object.freeze({map:null,hash:"",transfer:void 0});class gp{#t=!1;#e=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=this.#n.get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return this.#n.get(t)}remove(t){if(this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of this.#n.values())if(e instanceof ut)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=this.#n.get(t);let r=!1;if(i!==void 0)for(const[l,c]of Object.entries(e))i[l]!==c&&(r=!0,i[l]=c);else r=!0,this.#n.set(t,e);r&&this.#i(),e instanceof ut&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#n.has(t)}get size(){return this.#n.size}#i(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new RS(this)}get serializable(){if(this.#n.size===0)return hf;const t=new Map,e=new CS,i=[],r=Object.create(null);let l=!1;for(const[c,u]of this.#n){const d=u instanceof ut?u.serialize(!1,r):u;d&&(t.set(c,d),e.update(`${c}:${JSON.stringify(d)}`),l||=!!d.bitmap)}if(l)for(const c of t.values())c.bitmap&&i.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:hf}get editorStats(){let t=null;const e=new Map;for(const i of this.#n.values()){if(!(i instanceof ut))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:l}=r;e.has(l)||e.set(l,Object.getPrototypeOf(i).constructor),t||=Object.create(null);const c=t[l]||=new Map;for(const[u,d]of Object.entries(r)){if(u==="type")continue;let f=c.get(u);f||(f=new Map,c.set(u,f));const p=f.get(d)??0;f.set(d,p+1)}}for(const[i,r]of e)t[i]=r.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const e of this.#n.values())!(e instanceof ut)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class RS extends gp{#t;constructor(t){super();const{map:e,hash:i,transfer:r}=t.serializable,l=structuredClone(e,r?{transfer:r}:null);this.#t={map:l,hash:i,transfer:r}}get print(){zt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Ct(this,"modifiedIds",{ids:new Set,hash:""})}}class gD{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||this.#t.has(t.loadedName))){if(ge(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:l,style:c}=t,u=new FontFace(r,l,c);this.addNativeFontFace(u);try{await u.load(),this.#t.add(r),i?.(t)}catch{At(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}zt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw At(`Failed to load font '${i.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Ct(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Ct(this,"isSyncFontLoadingSupported",je||Re.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(ge(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const l=i.shift();setTimeout(l.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:e,callback:t};return i.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ct(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(L,C){return L.charCodeAt(C)<<24|L.charCodeAt(C+1)<<16|L.charCodeAt(C+2)<<8|L.charCodeAt(C+3)&255}function r(L,C,k,I){const U=L.substring(0,C),G=L.substring(C+k);return U+I+G}let l,c;const u=this._document.createElement("canvas");u.width=1,u.height=1;const d=u.getContext("2d");let f=0;function p(L,C){if(++f>30){At("Load test font never loaded."),C();return}if(d.font="30px "+L,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(p.bind(null,L,C))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=r(v,976,m.length,m);const A=16,S=1482184792;let T=i(v,A);for(l=0,c=m.length-3;l<c;l+=4)T=T-S+i(m,l)|0;l<m.length&&(T=T-S+i(m+"XXX",l)|0),v=r(v,A,4,iD(T));const E=`url(data:font/opentype;base64,${btoa(v)});`,R=`@font-face {font-family:"${m}";src:${E}}`;this.insertRule(R);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const L of[t.loadedName,m]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=L,_.append(C)}this._document.body.append(_),p(m,()=>{_.remove(),e.complete()})}}class mD{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this._inspectFont=e}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${wS(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let r;try{r=t.get(i)}catch(c){At(`getPathGenerator - ignoring character: "${c}".`)}const l=new Path2D(r||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=l}}function yD(a){if(a instanceof URL)return a.href;if(typeof a=="string"){if(je)return a;const t=URL.parse(a,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function vD(a){if(je&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return No(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a?.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function uc(a){if(typeof a!="string")return null;if(a.endsWith("/"))return a;throw new Error(`Invalid factory url: "${a}" must include trailing slash.`)}const df=a=>typeof a=="object"&&Number.isInteger(a?.num)&&a.num>=0&&Number.isInteger(a?.gen)&&a.gen>=0,bD=a=>typeof a=="object"&&typeof a?.name=="string",MS=oD.bind(null,df,bD);class AD{#t=new Map;#e=Promise.resolve();postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,i)})}addEventListener(t,e,i=null){let r=null;if(i?.signal instanceof AbortSignal){const{signal:l}=i;if(l.aborted){At("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);r=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}this.#t.set(e,r)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const hc={DATA:1,ERROR:2},fe={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Jb(){}function Ze(a){if(a instanceof Si||a instanceof Lc||a instanceof Kb||a instanceof wo||a instanceof Pd)return a;switch(a instanceof Error||typeof a=="object"&&a!==null||zt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new Si(a.message);case"InvalidPDFException":return new Lc(a.message);case"PasswordException":return new Kb(a.message,a.code);case"ResponseException":return new wo(a.message,a.status,a.missing);case"UnknownErrorException":return new Pd(a.message,a.details)}return new Pd(a.message,a.toString())}class io{#t=new AbortController;constructor(t,e,i){this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#i(t);return}if(t.callback){const i=t.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===hc.DATA)r.resolve(t.data);else if(t.callback===hc.ERROR)r.reject(Ze(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,r=t.sourceName,l=this.comObj;Promise.try(e,t.data).then(function(c){l.postMessage({sourceName:i,targetName:r,callback:hc.DATA,callbackId:t.callbackId,data:c})},function(c){l.postMessage({sourceName:i,targetName:r,callback:hc.ERROR,callbackId:t.callbackId,reason:Ze(c)})});return}if(t.streamId){this.#n(t);return}e(t.data)}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const r=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[r]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},i)}catch(c){l.reject(c)}return l.promise}sendWithStream(t,e,i,r){const l=this.streamId++,c=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[l]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:c,targetName:u,action:t,streamId:l,data:e,desiredSize:f.desiredSize},r),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[l].pullCall=p,d.postMessage({sourceName:c,targetName:u,stream:fe.PULL,streamId:l,desiredSize:f.desiredSize}),p.promise},cancel:f=>{ge(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[l].cancelCall=p,this.streamControllers[l].isClosed=!0,d.postMessage({sourceName:c,targetName:u,stream:fe.CANCEL,streamId:l,reason:Ze(f)}),p.promise}},i)}#n(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,l=this.comObj,c=this,u=this.actionHandler[t.action],d={enqueue(f,p=1,m){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=p,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:i,targetName:r,stream:fe.ENQUEUE,streamId:e,chunk:f},m)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:i,targetName:r,stream:fe.CLOSE,streamId:e}),delete c.streamSinks[e])},error(f){ge(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:i,targetName:r,stream:fe.ERROR,streamId:e,reason:Ze(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,Promise.try(u,t.data,d).then(function(){l.postMessage({sourceName:i,targetName:r,stream:fe.START_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:i,targetName:r,stream:fe.START_COMPLETE,streamId:e,reason:Ze(f)})})}#i(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,l=this.comObj,c=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case fe.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(Ze(t.reason));break;case fe.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(Ze(t.reason));break;case fe.PULL:if(!u){l.postMessage({sourceName:i,targetName:r,stream:fe.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||Jb).then(function(){l.postMessage({sourceName:i,targetName:r,stream:fe.PULL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:i,targetName:r,stream:fe.PULL_COMPLETE,streamId:e,reason:Ze(f)})});break;case fe.ENQUEUE:if(ge(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case fe.CLOSE:if(ge(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),this.#a(c,e);break;case fe.ERROR:ge(c,"error should have stream controller"),c.controller.error(Ze(t.reason)),this.#a(c,e);break;case fe.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(Ze(t.reason)),this.#a(c,e);break;case fe.CANCEL:if(!u)break;const d=Ze(t.reason);Promise.try(u.onCancel||Jb,d).then(function(){l.postMessage({sourceName:i,targetName:r,stream:fe.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:i,targetName:r,stream:fe.CANCEL_COMPLETE,streamId:e,reason:Ze(f)})}),u.sinkCapability.reject(d),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class DS{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){zt("Abstract method `_createCanvas` called.")}}class SD extends DS{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class LS{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){zt("Abstract method `_fetch` called.")}}class t0 extends LS{async _fetch(t){const e=await Ya(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):No(e)}}class OS{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,r,l){return"none"}destroy(t=!1){}}class wD extends OS{#t;#e;#n;#i;#a;#s;#l=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#i=t,this.#a=e}get#o(){return this.#e||=new Map}get#h(){return this.#s||=new Map}get#c(){if(!this.#n){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const i=this.#a.createElementNS(gi,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#n=this.#a.createElementNS(gi,"defs"),t.append(i),i.append(this.#n),this.#a.body.append(t)}return this.#n}#d(t){if(t.length===1){const d=t[0],f=new Array(256);for(let m=0;m<256;m++)f[m]=d[m]/255;const p=f.join(",");return[p,p,p]}const[e,i,r]=t,l=new Array(256),c=new Array(256),u=new Array(256);for(let d=0;d<256;d++)l[d]=e[d]/255,c[d]=i[d]/255,u[d]=r[d]/255;return[l.join(","),c.join(","),u.join(",")]}#u(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&(Io(e)?At('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=lp(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[i,r,l]=this.#d(t),c=t.length===1?i:`${i}${r}${l}`;if(e=this.#o.get(c),e)return this.#o.set(t,e),e;const u=`g_${this.#i}_transfer_map_${this.#l++}`,d=this.#u(u);this.#o.set(t,d),this.#o.set(c,d);const f=this.#p(u);return this.#g(i,r,l,f),d}addHCMFilter(t,e){const i=`${t}-${e}`,r="base";let l=this.#h.get(r);if(l?.key===i||(l?(l.filter?.remove(),l.key=i,l.url="none",l.filter=null):(l={key:i,url:"none",filter:null},this.#h.set(r,l)),!t||!e))return l.url;const c=this.#v(t);t=lt.makeHexColor(...c);const u=this.#v(e);if(e=lt.makeHexColor(...u),this.#c.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return l.url;const d=new Array(256);for(let b=0;b<=255;b++){const A=b/255;d[b]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const f=d.join(","),p=`g_${this.#i}_hcm_filter`,m=l.filter=this.#p(p);this.#g(f,f,f,m),this.#r(m);const v=(b,A)=>{const S=c[b]/255,T=u[b]/255,E=new Array(A+1);for(let R=0;R<=A;R++)E[R]=S+R/A*(T-S);return E.join(",")};return this.#g(v(0,5),v(1,5),v(2,5),m),l.url=this.#u(p),l.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[i]=this.#d([t]),r=`alpha_${i}`;if(e=this.#o.get(r),e)return this.#o.set(t,e),e;const l=`g_${this.#i}_alpha_map_${this.#l++}`,c=this.#u(l);this.#o.set(t,c),this.#o.set(r,c);const u=this.#p(l);return this.#y(i,u),c}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let i,r;if(t?([i]=this.#d([t]),r=`luminosity_${i}`):r="luminosity",e=this.#o.get(r),e)return this.#o.set(t,e),e;const l=`g_${this.#i}_luminosity_map_${this.#l++}`,c=this.#u(l);this.#o.set(t,c),this.#o.set(r,c);const u=this.#p(l);return this.#f(u),t&&this.#y(i,u),c}addHighlightHCMFilter(t,e,i,r,l){const c=`${e}-${i}-${r}-${l}`;let u=this.#h.get(t);if(u?.key===c||(u?(u.filter?.remove(),u.key=c,u.url="none",u.filter=null):(u={key:c,url:"none",filter:null},this.#h.set(t,u)),!e||!i))return u.url;const[d,f]=[e,i].map(this.#v.bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[v,b]=[r,l].map(this.#v.bind(this));m<p&&([p,m,v,b]=[m,p,b,v]),this.#c.style.color="";const A=(E,R,_)=>{const L=new Array(256),C=(m-p)/_,k=E/255,I=(R-E)/(255*_);let U=0;for(let G=0;G<=_;G++){const W=Math.round(p+G*C),Z=k+G*I;for(let st=U;st<=W;st++)L[st]=Z;U=W+1}for(let G=U;G<256;G++)L[G]=L[U-1];return L.join(",")},S=`g_${this.#i}_hcm_${t}_filter`,T=u.filter=this.#p(S);return this.#r(T),this.#g(A(v[0],b[0],5),A(v[1],b[1],5),A(v[2],b[2],5),T),u.url=this.#u(S),u.url}destroy(t=!1){t&&this.#s?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#l=0)}#f(t){const e=this.#a.createElementNS(gi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#r(t){const e=this.#a.createElementNS(gi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#a.createElementNS(gi,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#c.append(e),e}#m(t,e,i){const r=this.#a.createElementNS(gi,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),t.append(r)}#g(t,e,i,r){const l=this.#a.createElementNS(gi,"feComponentTransfer");r.append(l),this.#m(l,"feFuncR",t),this.#m(l,"feFuncG",e),this.#m(l,"feFuncB",i)}#y(t,e){const i=this.#a.createElementNS(gi,"feComponentTransfer");e.append(i),this.#m(i,"feFuncA",t)}#v(t){return this.#c.style.color=t,dp(getComputedStyle(this.#c).getPropertyValue("color"))}}class PS{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){zt("Abstract method `_fetch` called.")}}class e0 extends PS{async _fetch(t){const e=await Ya(t,"arraybuffer");return new Uint8Array(e)}}class NS{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){zt("Abstract method `_fetch` called.")}}class n0 extends NS{async _fetch(t){const e=await Ya(t,"arraybuffer");return new Uint8Array(e)}}je&&At("Please use the `legacy` build in Node.js environments.");async function mp(a){const e=await process.getBuiltinModule("fs").promises.readFile(a);return new Uint8Array(e)}class ED extends OS{}class TD extends DS{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class xD extends LS{async _fetch(t){return mp(t)}}class _D extends PS{async _fetch(t){return mp(t)}}class CD extends NS{async _fetch(t){return mp(t)}}const Pe={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ff(a,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,i),a.clip(r)}class yp{isModifyingCurrentTransform(){return!1}getPattern(){zt("Abstract method `getPattern` called.")}}class RD extends yp{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,r){let l;if(r===Pe.STROKE||r===Pe.FILL){const c=e.current.getClippedPathBoundingBox(r,Kt(t))||[0,0,0,0],u=Math.ceil(c[2]-c[0])||1,d=Math.ceil(c[3]-c[1])||1,f=e.cachedCanvases.getCanvas("pattern",u,d),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-c[0],-c[1]),i=lt.transform(i,[1,0,0,1,c[0],c[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),ff(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),l=t.createPattern(f.canvas,"no-repeat");const m=new DOMMatrix(i);l.setTransform(m)}else ff(t,this._bbox),l=this._createGradient(t);return l}}function Id(a,t,e,i,r,l,c,u){const d=t.coords,f=t.colors,p=a.data,m=a.width*4;let v;d[e+1]>d[i+1]&&(v=e,e=i,i=v,v=l,l=c,c=v),d[i+1]>d[r+1]&&(v=i,i=r,r=v,v=c,c=u,u=v),d[e+1]>d[i+1]&&(v=e,e=i,i=v,v=l,l=c,c=v);const b=(d[e]+t.offsetX)*t.scaleX,A=(d[e+1]+t.offsetY)*t.scaleY,S=(d[i]+t.offsetX)*t.scaleX,T=(d[i+1]+t.offsetY)*t.scaleY,E=(d[r]+t.offsetX)*t.scaleX,R=(d[r+1]+t.offsetY)*t.scaleY;if(A>=R)return;const _=f[l],L=f[l+1],C=f[l+2],k=f[c],I=f[c+1],U=f[c+2],G=f[u],W=f[u+1],Z=f[u+2],st=Math.round(A),vt=Math.round(R);let ct,rt,N,F,tt,pt,O,Y;for(let J=st;J<=vt;J++){if(J<T){const St=J<A?0:(A-J)/(A-T);ct=b-(b-S)*St,rt=_-(_-k)*St,N=L-(L-I)*St,F=C-(C-U)*St}else{let St;J>R?St=1:T===R?St=0:St=(T-J)/(T-R),ct=S-(S-E)*St,rt=k-(k-G)*St,N=I-(I-W)*St,F=U-(U-Z)*St}let Q;J<A?Q=0:J>R?Q=1:Q=(A-J)/(A-R),tt=b-(b-E)*Q,pt=_-(_-G)*Q,O=L-(L-W)*Q,Y=C-(C-Z)*Q;const nt=Math.round(Math.min(ct,tt)),gt=Math.round(Math.max(ct,tt));let at=m*J+nt*4;for(let St=nt;St<=gt;St++)Q=(ct-St)/(ct-tt),Q<0?Q=0:Q>1&&(Q=1),p[at++]=rt-(rt-pt)*Q|0,p[at++]=N-(N-O)*Q|0,p[at++]=F-(F-Y)*Q|0,p[at++]=255}}function MD(a,t,e){const i=t.coords,r=t.colors;let l,c;switch(t.type){case"lattice":const u=t.verticesPerRow,d=Math.floor(i.length/u)-1,f=u-1;for(l=0;l<d;l++){let p=l*u;for(let m=0;m<f;m++,p++)Id(a,e,i[p],i[p+1],i[p+u],r[p],r[p+1],r[p+u]),Id(a,e,i[p+u+1],i[p+1],i[p+u],r[p+u+1],r[p+1],r[p+u])}break;case"triangles":for(l=0,c=i.length;l<c;l+=3)Id(a,e,i[l],i[l+1],i[l+2],r[l],r[l+1],r[l+2]);break;default:throw new Error("illegal figure")}}class DD extends yp{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const u=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,p=Math.ceil(this._bounds[3])-d,m=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),b=f/m,A=p/v,S={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-d,scaleX:1/b,scaleY:1/A},T=m+2*2,E=v+2*2,R=i.getCanvas("mesh",T,E),_=R.context,L=_.createImageData(m,v);if(e){const k=L.data;for(let I=0,U=k.length;I<U;I+=4)k[I]=e[0],k[I+1]=e[1],k[I+2]=e[2],k[I+3]=255}for(const k of this._figures)MD(L,k,S);return _.putImageData(L,2,2),{canvas:R.canvas,offsetX:u-2*b,offsetY:d-2*A,scaleX:b,scaleY:A}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,r){ff(t,this._bbox);const l=new Float32Array(2);if(r===Pe.SHADING)lt.singularValueDecompose2dScale(Kt(t),l);else if(this.matrix){lt.singularValueDecompose2dScale(this.matrix,l);const[u,d]=l;lt.singularValueDecompose2dScale(e.baseTransform,l),l[0]*=u,l[1]*=d}else lt.singularValueDecompose2dScale(e.baseTransform,l);const c=this._createMeshCanvas(l,r===Pe.SHADING?null:this._background,e.cachedCanvases);return r!==Pe.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class LD extends yp{getPattern(){return"hotpink"}}function OD(a){switch(a[0]){case"RadialAxial":return new RD(a);case"Mesh":return new DD(a);case"Dummy":return new LD}throw new Error(`Unknown IR type: ${a[0]}`)}const i0={COLORED:1,UNCOLORED:2};class vp{static MAX_PATTERN_SIZE=3e3;constructor(t,e,i,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(t){const{bbox:e,operatorList:i,paintType:r,tilingType:l,color:c,canvasGraphicsFactory:u}=this;let{xstep:d,ystep:f}=this;d=Math.abs(d),f=Math.abs(f),Uc("TilingType: "+l);const p=e[0],m=e[1],v=e[2],b=e[3],A=v-p,S=b-m,T=new Float32Array(2);lt.singularValueDecompose2dScale(this.matrix,T);const[E,R]=T;lt.singularValueDecompose2dScale(this.baseTransform,T);const _=E*T[0],L=R*T[1];let C=A,k=S,I=!1,U=!1;const G=Math.ceil(d*_),W=Math.ceil(f*L),Z=Math.ceil(A*_),st=Math.ceil(S*L);G>=Z?C=d:I=!0,W>=st?k=f:U=!0;const vt=this.getSizeAndScale(C,this.ctx.canvas.width,_),ct=this.getSizeAndScale(k,this.ctx.canvas.height,L),rt=t.cachedCanvases.getCanvas("pattern",vt.size,ct.size),N=rt.context,F=u.createCanvasGraphics(N);if(F.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(F,r,c),N.translate(-vt.scale*p,-ct.scale*m),F.transform(vt.scale,0,0,ct.scale,0,0),N.save(),this.clipBbox(F,p,m,v,b),F.baseTransform=Kt(F.ctx),F.executeOperatorList(i),F.endDrawing(),N.restore(),I||U){const tt=rt.canvas;I&&(C=d),U&&(k=f);const pt=this.getSizeAndScale(C,this.ctx.canvas.width,_),O=this.getSizeAndScale(k,this.ctx.canvas.height,L),Y=pt.size,J=O.size,Q=t.cachedCanvases.getCanvas("pattern-workaround",Y,J),nt=Q.context,gt=I?Math.floor(A/d):0,at=U?Math.floor(S/f):0;for(let St=0;St<=gt;St++)for(let Mt=0;Mt<=at;Mt++)nt.drawImage(tt,Y*St,J*Mt,Y,J,0,0,Y,J);return{canvas:Q.canvas,scaleX:pt.scale,scaleY:O.scale,offsetX:p,offsetY:m}}return{canvas:rt.canvas,scaleX:vt.scale,scaleY:ct.scale,offsetX:p,offsetY:m}}getSizeAndScale(t,e,i){const r=Math.max(vp.MAX_PATTERN_SIZE,e);let l=Math.ceil(t*i);return l>=r?l=r:i=l/t,{scale:i,size:l}}clipBbox(t,e,i,r,l){const c=r-e,u=l-i;t.ctx.rect(e,i,c,u),lt.axialAlignedBoundingBox([e,i,r,l],Kt(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const r=t.ctx,l=t.current;switch(e){case i0.COLORED:const{fillStyle:c,strokeStyle:u}=this.ctx;r.fillStyle=l.fillColor=c,r.strokeStyle=l.strokeColor=u;break;case i0.UNCOLORED:r.fillStyle=r.strokeStyle=i,l.fillColor=l.strokeColor=i;break;default:throw new nD(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,r){let l=i;r!==Pe.SHADING&&(l=lt.transform(l,e.baseTransform),this.matrix&&(l=lt.transform(l,this.matrix)));const c=this.createPatternCanvas(e);let u=new DOMMatrix(l);u=u.translate(c.offsetX,c.offsetY),u=u.scale(1/c.scaleX,1/c.scaleY);const d=t.createPattern(c.canvas,"repeat");return d.setTransform(u),d}}function PD({src:a,srcPos:t=0,dest:e,width:i,height:r,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const u=Re.isLittleEndian?4278190080:255,[d,f]=c?[l,u]:[u,l],p=i>>3,m=i&7,v=a.length;e=new Uint32Array(e.buffer);let b=0;for(let A=0;A<r;A++){for(const T=t+p;t<T;t++){const E=t<v?a[t]:255;e[b++]=E&128?f:d,e[b++]=E&64?f:d,e[b++]=E&32?f:d,e[b++]=E&16?f:d,e[b++]=E&8?f:d,e[b++]=E&4?f:d,e[b++]=E&2?f:d,e[b++]=E&1?f:d}if(m===0)continue;const S=t<v?a[t++]:255;for(let T=0;T<m;T++)e[b++]=S&1<<7-T?f:d}return{srcPos:t,destPos:b}}const s0=16,a0=100,ND=15,r0=10,Je=16,Bd=new DOMMatrix,fn=new Float32Array(2),Pa=new Float32Array([1/0,1/0,-1/0,-1/0]);function kD(a,t){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){t.save(),this.__originalSave()},a.restore=function(){t.restore(),this.__originalRestore()},a.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},a.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},a.transform=function(e,i,r,l,c,u){t.transform(e,i,r,l,c,u),this.__originalTransform(e,i,r,l,c,u)},a.setTransform=function(e,i,r,l,c,u){t.setTransform(e,i,r,l,c,u),this.__originalSetTransform(e,i,r,l,c,u)},a.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},a.rotate=function(e){t.rotate(e),this.__originalRotate(e)},a.clip=function(e){t.clip(e),this.__originalClip(e)},a.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},a.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},a.bezierCurveTo=function(e,i,r,l,c,u){t.bezierCurveTo(e,i,r,l,c,u),this.__originalBezierCurveTo(e,i,r,l,c,u)},a.rect=function(e,i,r,l){t.rect(e,i,r,l),this.__originalRect(e,i,r,l)},a.closePath=function(){t.closePath(),this.__originalClosePath()},a.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class ID{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,i)):(r=this.canvasFactory.create(e,i),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function dc(a,t,e,i,r,l,c,u,d,f){const[p,m,v,b,A,S]=Kt(a);if(m===0&&v===0){const R=c*p+A,_=Math.round(R),L=u*b+S,C=Math.round(L),k=(c+d)*p+A,I=Math.abs(Math.round(k)-_)||1,U=(u+f)*b+S,G=Math.abs(Math.round(U)-C)||1;return a.setTransform(Math.sign(p),0,0,Math.sign(b),_,C),a.drawImage(t,e,i,r,l,0,0,I,G),a.setTransform(p,m,v,b,A,S),[I,G]}if(p===0&&b===0){const R=u*v+A,_=Math.round(R),L=c*m+S,C=Math.round(L),k=(u+f)*v+A,I=Math.abs(Math.round(k)-_)||1,U=(c+d)*m+S,G=Math.abs(Math.round(U)-C)||1;return a.setTransform(0,Math.sign(m),Math.sign(v),0,_,C),a.drawImage(t,e,i,r,l,0,0,G,I),a.setTransform(p,m,v,b,A,S),[G,I]}a.drawImage(t,e,i,r,l,c,u,d,f);const T=Math.hypot(p,m),E=Math.hypot(v,b);return[T*d,E*f]}class o0{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=uf;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Be.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e){this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Pa.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Pe.FILL,e=null){const i=this.minMax.slice();if(t===Pe.STROKE){e||zt("Stroke bounding box must include transform."),lt.singularValueDecompose2dScale(e,fn);const r=fn[0]*this.lineWidth/2,l=fn[1]*this.lineWidth/2;i[0]-=r,i[1]-=l,i[2]+=r,i[3]+=l}return i}updateClipFromPath(){const t=lt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Pa,0)}getClippedPathBoundingBox(t=Pe.FILL,e=null){return lt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function l0(a,t){if(t instanceof ImageData){a.putImageData(t,0,0);return}const e=t.height,i=t.width,r=e%Je,l=(e-r)/Je,c=r===0?l:l+1,u=a.createImageData(i,Je);let d=0,f;const p=t.data,m=u.data;let v,b,A,S;if(t.kind===uo.GRAYSCALE_1BPP){const T=p.byteLength,E=new Uint32Array(m.buffer,0,m.byteLength>>2),R=E.length,_=i+7>>3,L=4294967295,C=Re.isLittleEndian?4278190080:255;for(v=0;v<c;v++){for(A=v<l?Je:r,f=0,b=0;b<A;b++){const k=T-d;let I=0;const U=k>_?i:k*8-7,G=U&-8;let W=0,Z=0;for(;I<G;I+=8)Z=p[d++],E[f++]=Z&128?L:C,E[f++]=Z&64?L:C,E[f++]=Z&32?L:C,E[f++]=Z&16?L:C,E[f++]=Z&8?L:C,E[f++]=Z&4?L:C,E[f++]=Z&2?L:C,E[f++]=Z&1?L:C;for(;I<U;I++)W===0&&(Z=p[d++],W=128),E[f++]=Z&W?L:C,W>>=1}for(;f<R;)E[f++]=0;a.putImageData(u,0,v*Je)}}else if(t.kind===uo.RGBA_32BPP){for(b=0,S=i*Je*4,v=0;v<l;v++)m.set(p.subarray(d,d+S)),d+=S,a.putImageData(u,0,b),b+=Je;v<c&&(S=i*r*4,m.set(p.subarray(d,d+S)),a.putImageData(u,0,b))}else if(t.kind===uo.RGB_24BPP)for(A=Je,S=i*A,v=0;v<c;v++){for(v>=l&&(A=r,S=i*A),f=0,b=S;b--;)m[f++]=p[d++],m[f++]=p[d++],m[f++]=p[d++],m[f++]=255;a.putImageData(u,0,v*Je)}else throw new Error(`bad image kind: ${t.kind}`)}function c0(a,t){if(t.bitmap){a.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,r=e%Je,l=(e-r)/Je,c=r===0?l:l+1,u=a.createImageData(i,Je);let d=0;const f=t.data,p=u.data;for(let m=0;m<c;m++){const v=m<l?Je:r;({srcPos:d}=PD({src:f,srcPos:d,dest:p,width:i,height:v,nonBlackColor:0})),a.putImageData(u,0,m*Je)}}function Wr(a,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)a[i]!==void 0&&(t[i]=a[i]);a.setLineDash!==void 0&&(t.setLineDash(a.getLineDash()),t.lineDashOffset=a.lineDashOffset)}function fc(a){a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0);const{filter:t}=a;t!=="none"&&t!==""&&(a.filter="none")}function u0(a,t){if(t)return!0;lt.singularValueDecompose2dScale(a,fn);const e=Math.fround(kn.pixelRatio*Ns.PDF_TO_CSS_UNITS);return fn[0]<=e&&fn[1]<=e}const BD=["butt","round","square"],FD=["miter","round","bevel"],VD={},h0={};class ka{constructor(t,e,i,r,l,{optionalContentConfig:c,markedContentStack:u=null},d,f){this.ctx=t,this.current=new o0(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=r,this.filterFactory=l,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=c,this.cachedCanvases=new ID(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:r=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=u,i){const d=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...Kt(this.compositeCtx))}this.ctx.save(),fc(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Kt(this.ctx)}executeOperatorList(t,e,i,r){const l=t.argsArray,c=t.fnArray;let u=e||0;const d=l.length;if(d===u)return u;const f=d-u>r0&&typeof i=="function",p=f?Date.now()+ND:0;let m=0;const v=this.commonObjs,b=this.objs;let A;for(;;){if(r!==void 0&&u===r.nextBreakPoint)return r.breakIt(u,i),u;if(A=c[u],A!==So.dependency)this[A].apply(this,l[u]);else for(const S of l[u]){const T=S.startsWith("g_")?v:b;if(!T.has(S))return T.get(S,i),u}if(u++,u===d)return u;if(f&&++m>r0){if(Date.now()>p)return i(),u;m=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const i=t.width??t.displayWidth,r=t.height??t.displayHeight;let l=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),u=i,d=r,f="prescale1",p,m;for(;l>2&&u>1||c>2&&d>1;){let v=u,b=d;l>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),l/=u/v),c>2&&d>1&&(b=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,c/=d/b),p=this.cachedCanvases.getCanvas(f,v,b),m=p.context,m.clearRect(0,0,v,b),m.drawImage(t,0,0,u,d,0,0,v,b),t=p.canvas,u=v,d=b,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:d}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:r}=t,l=this.current.fillColor,c=this.current.patternFill,u=Kt(e);let d,f,p,m;if((t.bitmap||t.data)&&t.count>1){const G=t.bitmap||t.data.buffer;f=JSON.stringify(c?u:[u.slice(0,4),l]),d=this._cachedBitmapsMap.get(G),d||(d=new Map,this._cachedBitmapsMap.set(G,d));const W=d.get(f);if(W&&!c){const Z=Math.round(Math.min(u[0],u[2])+u[4]),st=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:W,offsetX:Z,offsetY:st}}p=W}p||(m=this.cachedCanvases.getCanvas("maskCanvas",i,r),c0(m.context,t));let v=lt.transform(u,[1/i,0,0,-1/r,0,0]);v=lt.transform(v,[1,0,0,1,0,-r]);const b=Pa.slice();lt.axialAlignedBoundingBox([0,0,i,r],v,b);const[A,S,T,E]=b,R=Math.round(T-A)||1,_=Math.round(E-S)||1,L=this.cachedCanvases.getCanvas("fillCanvas",R,_),C=L.context,k=A,I=S;C.translate(-k,-I),C.transform(...v),p||(p=this._scaleImage(m.canvas,Hn(C)),p=p.img,d&&c&&d.set(f,p)),C.imageSmoothingEnabled=u0(Kt(C),t.interpolate),dc(C,p,0,0,p.width,p.height,0,0,i,r),C.globalCompositeOperation="source-in";const U=lt.transform(Hn(C),[1,0,0,1,-k,-I]);return C.fillStyle=c?l.getPattern(e,this,U,Pe.FILL):l,C.fillRect(0,0,i,r),d&&!c&&(this.cachedCanvases.delete("fillCanvas"),d.set(f,L.canvas)),{canvas:L.canvas,offsetX:Math.round(k),offsetY:Math.round(I)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=BD[t]}setLineJoin(t){this.ctx.lineJoin=FD[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx;const l=this.ctx=r.context;l.setTransform(this.suspendedCtx.getTransform()),Wr(this.suspendedCtx,l),kD(l,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Wr(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,r){const l=r[0],c=r[1],u=r[2]-l,d=r[3]-c;u===0||d===0||(this.genericComposeSMask(e.context,i,u,d,e.subtype,e.backdrop,e.transferMap,l,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,r,l,c,u,d,f,p,m){let v=t.canvas,b=d-p,A=f-m;if(c)if(b<0||A<0||b+i>v.width||A+r>v.height){const T=this.cachedCanvases.getCanvas("maskExtension",i,r),E=T.context;E.drawImage(v,-b,-A),E.globalCompositeOperation="destination-atop",E.fillStyle=c,E.fillRect(0,0,i,r),E.globalCompositeOperation="source-over",v=T.canvas,b=A=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(b,A,i,r),t.clip(T),t.globalCompositeOperation="destination-atop",t.fillStyle=c,t.fillRect(b,A,i,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),l==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):l==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const S=new Path2D;S.rect(d,f,i,r),e.clip(S),e.globalCompositeOperation="destination-in",e.drawImage(v,b,A,i,r,d,f,i,r),e.restore()}save(){this.inSMaskMode&&Wr(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Wr(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,r,l,c){this.ctx.transform(t,e,i,r,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){let[r]=e;if(!i){r||=e[0]=new Path2D,this[t](r);return}if(!(r instanceof Path2D)){const l=e[0]=new Path2D;for(let c=0,u=r.length;c<u;)switch(r[c++]){case cc.moveTo:l.moveTo(r[c++],r[c++]);break;case cc.lineTo:l.lineTo(r[c++],r[c++]);break;case cc.curveTo:l.bezierCurveTo(r[c++],r[c++],r[c++],r[c++],r[c++],r[c++]);break;case cc.closePath:l.closePath();break;default:At(`Unrecognized drawing path operator: ${r[c-1]}`);break}r=l}lt.axialAlignedBoundingBox(i,Kt(this.ctx),this.current.minMax),this[t](r)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const i=this.ctx,r=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&r?.getPattern){const l=r.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=r.getPattern(i,this,Hn(i),Pe.STROKE),l){const c=new Path2D;c.addPath(t,i.getTransform().invertSelf().multiplySelf(l)),t=c}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(Pe.STROKE,Kt(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const i=this.ctx,r=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const d=r.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.fillStyle=r.getPattern(i,this,Hn(i),Pe.FILL),d){const f=new Path2D;f.addPath(t,i.getTransform().invertSelf().multiplySelf(d)),t=f}c=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),c&&i.restore(),e&&this.consumePath(t,u)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=VD}eoClip(){this.pendingClip=h0}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const i=new Path2D,r=e.getTransform().invertSelf();for(const{transform:l,x:c,y:u,fontSize:d,path:f}of t)i.addPath(f,new DOMMatrix(l).preMultiplySelf(r).translate(c,u).scale(d,-d));e.clip(i),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const i=this.commonObjs.get(t),r=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=i.fontMatrix||uf,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&At("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const l=i.loadedName||"sans-serif",c=i.systemFontInfo?.css||`"${l}", ${i.fallbackName}`;let u="normal";i.black?u="900":i.bold&&(u="bold");const d=i.italic?"italic":"normal";let f=e;e<s0?f=s0:e>a0&&(f=a0),this.current.fontSizeScale=e/f,this.ctx.font=`${d} ${u} ${f}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(t,e,i){const r=new Path2D;return r.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),r}paintChar(t,e,i,r,l){const c=this.ctx,u=this.current,d=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,m=f&Be.FILL_STROKE_MASK,v=!!(f&Be.ADD_TO_PATH_FLAG),b=u.patternFill&&!d.missingFile,A=u.patternStroke&&!d.missingFile;let S;if((d.disableFontFace||v||b||A)&&(S=d.getPathGenerator(this.commonObjs,t)),d.disableFontFace||b||A){c.save(),c.translate(e,i),c.scale(p,-p);let T;if((m===Be.FILL||m===Be.FILL_STROKE)&&(r?(T=c.getTransform(),c.setTransform(...r),c.fill(this.#n(S,T,r))):c.fill(S)),m===Be.STROKE||m===Be.FILL_STROKE)if(l){T||=c.getTransform(),c.setTransform(...l);const{a:E,b:R,c:_,d:L}=T,C=lt.inverseTransform(l),k=lt.transform([E,R,_,L,0,0],C);lt.singularValueDecompose2dScale(k,fn),c.lineWidth*=Math.max(fn[0],fn[1])/p,c.stroke(this.#n(S,T,l))}else c.lineWidth/=p,c.stroke(S);c.restore()}else(m===Be.FILL||m===Be.FILL_STROKE)&&c.fillText(t,e,i),(m===Be.STROKE||m===Be.FILL_STROKE)&&c.strokeText(t,e,i);v&&(this.pendingTextPaths||=[]).push({transform:Kt(c),x:e,y:i,fontSize:p,path:S})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){i=!0;break}return Ct(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const l=this.ctx,c=e.fontSizeScale,u=e.charSpacing,d=e.wordSpacing,f=e.fontDirection,p=e.textHScale*f,m=t.length,v=i.vertical,b=v?1:-1,A=i.defaultVMetrics,S=r*e.fontMatrix[0],T=e.textRenderingMode===Be.FILL&&!i.disableFontFace&&!e.patternFill;l.save(),e.textMatrix&&l.transform(...e.textMatrix),l.translate(e.x,e.y+e.textRise),f>0?l.scale(p,-1):l.scale(p,1);let E,R;if(e.patternFill){l.save();const I=e.fillColor.getPattern(l,this,Hn(l),Pe.FILL);E=Kt(l),l.restore(),l.fillStyle=I}if(e.patternStroke){l.save();const I=e.strokeColor.getPattern(l,this,Hn(l),Pe.STROKE);R=Kt(l),l.restore(),l.strokeStyle=I}let _=e.lineWidth;const L=e.textMatrixScale;if(L===0||_===0){const I=e.textRenderingMode&Be.FILL_STROKE_MASK;(I===Be.STROKE||I===Be.FILL_STROKE)&&(_=this.getSinglePixelWidth())}else _/=L;if(c!==1&&(l.scale(c,c),_/=c),l.lineWidth=_,i.isInvalidPDFjsFont){const I=[];let U=0;for(const G of t)I.push(G.unicode),U+=G.width;l.fillText(I.join(""),0,0),e.x+=U*S*p,l.restore(),this.compose();return}let C=0,k;for(k=0;k<m;++k){const I=t[k];if(typeof I=="number"){C+=b*I*r/1e3;continue}let U=!1;const G=(I.isSpace?d:0)+u,W=I.fontChar,Z=I.accent;let st,vt,ct=I.width;if(v){const N=I.vmetric||A,F=-(I.vmetric?N[1]:ct*.5)*S,tt=N[2]*S;ct=N?-N[0]:ct,st=F/c,vt=(C+tt)/c}else st=C/c,vt=0;if(i.remeasure&&ct>0){const N=l.measureText(W).width*1e3/r*c;if(ct<N&&this.isFontSubpixelAAEnabled){const F=ct/N;U=!0,l.save(),l.scale(F,1),st/=F}else ct!==N&&(st+=(ct-N)/2e3*r/c)}if(this.contentVisible&&(I.isInFont||i.missingFile)){if(T&&!Z)l.fillText(W,st,vt);else if(this.paintChar(W,st,vt,E,R),Z){const N=st+r*Z.offset.x/c,F=vt-r*Z.offset.y/c;this.paintChar(Z.fontChar,N,F,E,R)}}const rt=v?ct*S-G*f:ct*S+G*f;C+=rt,U&&l.restore()}v?e.y-=C:e.x+=C*p,l.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,r=i.font,l=i.fontSize,c=i.fontDirection,u=r.vertical?1:-1,d=i.charSpacing,f=i.wordSpacing,p=i.textHScale*c,m=i.fontMatrix||uf,v=t.length,b=i.textRenderingMode===Be.INVISIBLE;let A,S,T,E;if(!(b||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),i.textMatrix&&e.transform(...i.textMatrix),e.translate(i.x,i.y+i.textRise),e.scale(p,c),A=0;A<v;++A){if(S=t[A],typeof S=="number"){E=u*S*l/1e3,this.ctx.translate(E,0),i.x+=E*p;continue}const R=(S.isSpace?f:0)+d,_=r.charProcOperatorList[S.operatorListId];_?this.contentVisible&&(this.save(),e.scale(l,l),e.transform(...m),this.executeOperatorList(_),this.restore()):At(`Type3 character "${S.operatorListId}" is not available.`);const L=[S.width,0];lt.applyTransform(L,m),T=L[0]*l+R,e.translate(T,0),i.x+=T*p}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,r,l,c){const u=new Path2D;u.rect(i,r,l-i,c-r),this.ctx.clip(u),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=this.baseTransform||Kt(this.ctx),r={createCanvasGraphics:l=>new ka(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new vp(t,this.ctx,r,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=OD(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,Hn(e),Pe.SHADING);const r=Hn(e);if(r){const{width:l,height:c}=e.canvas,u=Pa.slice();lt.axialAlignedBoundingBox([0,0,l,c],r,u);const[d,f,p,m]=u;this.ctx.fillRect(d,f,p-d,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){zt("Should not call beginInlineImage")}beginImageData(){zt("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Kt(this.ctx),e)){lt.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[i,r,l,c]=e,u=new Path2D;u.rect(i,r,l-i,c-r),this.ctx.clip(u),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Uc("TODO: Support non-isolated groups."),t.knockout&&At("Knockout groups not supported.");const i=Kt(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=Pa.slice();lt.axialAlignedBoundingBox(t.bbox,Kt(e),r);const l=[0,0,e.canvas.width,e.canvas.height];r=lt.intersect(r,l)||[0,0,0,0];const c=Math.floor(r[0]),u=Math.floor(r[1]),d=Math.max(Math.ceil(r[2])-c,1),f=Math.max(Math.ceil(r[3])-u,1);this.current.startNewPathAndClipBox([0,0,d,f]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(p,d,f),v=m.context;v.translate(-c,-u),v.transform(...i);let b=new Path2D;const[A,S,T,E]=t.bbox;if(b.rect(A,S,T-A,E-S),t.matrix){const R=new Path2D;R.addPath(b,new DOMMatrix(t.matrix)),b=R}v.clip(b),t.smask?this.smaskStack.push({canvas:m.canvas,context:v,offsetX:c,offsetY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,u),e.save()),Wr(e,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Kt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const l=Pa.slice();lt.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r,l),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,i,r,l){if(this.#t(),fc(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],u=e[3]-e[1];if(l&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=u,lt.singularValueDecompose2dScale(Kt(this.ctx),fn);const{viewportScale:d}=this,f=Math.ceil(c*this.outputScaleX*d),p=Math.ceil(u*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:m,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(t,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(fn[0],0,0,-fn[1],0,u*fn[1]),fc(this.ctx)}else{fc(this.ctx),this.endPath();const d=new Path2D;d.rect(e[0],e[1],c,u),this.ctx.clip(d)}}this.current=new o0(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,r=this._createMaskCanvas(t),l=r.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(l,r.offsetX,r.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,r=0,l,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const u=this.ctx;u.save();const d=Kt(u);u.transform(e,i,r,l,0,0);const f=this._createMaskCanvas(t);u.setTransform(1,0,0,1,f.offsetX-d[4],f.offsetY-d[5]);for(let p=0,m=c.length;p<m;p+=2){const v=lt.transform(d,[e,i,r,l,c[p],c[p+1]]);u.drawImage(f.canvas,v[4],v[5])}u.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const l of t){const{data:c,width:u,height:d,transform:f}=l,p=this.cachedCanvases.getCanvas("maskCanvas",u,d),m=p.context;m.save();const v=this.getObject(c,l);c0(m,v),m.globalCompositeOperation="source-in",m.fillStyle=r?i.getPattern(m,this,Hn(e),Pe.FILL):i,m.fillRect(0,0,u,d),m.restore(),e.save(),e.transform(...f),e.scale(1,-1),dc(e,p.canvas,0,0,u,d,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){At("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,r){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){At("Dependent image isn't ready yet");return}const c=l.width,u=l.height,d=[];for(let f=0,p=r.length;f<p;f+=2)d.push({transform:[e,0,0,i,r[f],r[f+1]],x:0,y:0,w:c,h:u});this.paintInlineImageXObjectGroup(l,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:r}=t,l=this.cachedCanvases.getCanvas("inlineImage",i,r),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,r=this.ctx;this.save();const{filter:l}=r;l!=="none"&&l!==""&&(r.filter="none"),r.scale(1/e,-1/i);let c;if(t.bitmap)c=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)c=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,i).context;l0(f,t),c=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(c,Hn(r));r.imageSmoothingEnabled=u0(Kt(r),t.interpolate),dc(r,u.img,0,0,u.paintWidth,u.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const l=t.width,c=t.height,d=this.cachedCanvases.getCanvas("inlineImage",l,c).context;l0(d,t),r=this.applyTransferMapsToCanvas(d)}for(const l of e)i.save(),i.transform(...l.transform),i.scale(1,-1),dc(i,r,l.x,l.y,l.w,l.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(i||(this.pendingClip===h0?r.clip(t,"evenodd"):r.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Kt(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:r,d:l}=this.ctx.getTransform();let c,u;if(i===0&&r===0){const d=Math.abs(e),f=Math.abs(l);if(d===f)if(t===0)c=u=1/d;else{const p=d*t;c=u=p<1?1/p:1}else if(t===0)c=1/d,u=1/f;else{const p=d*t,m=f*t;c=p<1?1/p:1,u=m<1?1/m:1}}else{const d=Math.abs(e*l-i*r),f=Math.hypot(e,i),p=Math.hypot(r,l);if(t===0)c=p/d,u=f/d;else{const m=t*d;c=p>m?p/m:1,u=f>m?f/m:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:r}}=this,[l,c]=this.getScaleForStroking();if(l===c){i.lineWidth=(r||1)*l,i.stroke(t);return}const u=i.getLineDash();e&&i.save(),i.scale(l,c),Bd.a=1/l,Bd.d=1/c;const d=new Path2D;if(d.addPath(t,Bd),u.length>0){const f=Math.max(l,c);i.setLineDash(u.map(p=>p/f)),i.lineDashOffset/=f}i.lineWidth=r||1,i.stroke(d),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const a in So)ka.prototype[a]!==void 0&&(ka.prototype[So[a]]=ka.prototype[a]);class Qi{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class zD{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const _a=Symbol("INTERNAL");class UD{#t=!1;#e=!1;#n=!1;#i=!0;constructor(t,{name:e,intent:i,usage:r,rbGroups:l}){this.#t=!!(t&hn.DISPLAY),this.#e=!!(t&hn.PRINT),this.name=e,this.intent=i,this.usage=r,this.rbGroups=l}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,i=!1){t!==_a&&zt("Internal method `_setVisible` called."),this.#n=i,this.#i=e}}class jD{#t=null;#e=new Map;#n=null;#i=null;constructor(t,e=hn.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#i=t.order;for(const i of t.groups)this.#e.set(i.id,new UD(e,i));if(t.baseState==="OFF")for(const i of this.#e.values())i._setVisible(_a,!1);for(const i of t.on)this.#e.get(i)._setVisible(_a,!0);for(const i of t.off)this.#e.get(i)._setVisible(_a,!1);this.#n=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let r=1;r<e;r++){const l=t[r];let c;if(Array.isArray(l))c=this.#a(l);else if(this.#e.has(l))c=this.#e.get(l).visible;else return At(`Optional content group not found: ${l}`),!0;switch(i){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return i==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return Uc("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(At(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return At(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return At(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return At(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return At(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return At(`Unknown optional content policy ${t.policy}.`),!0}return At(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){const r=this.#e.get(t);if(!r){At(`Optional content group not found: ${t}`);return}if(i&&e&&r.rbGroups.length)for(const l of r.rbGroups)for(const c of l)c!==t&&this.#e.get(c)?._setVisible(_a,!1,!0);r._setVisible(_a,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let i;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const l=this.#e.get(r);if(l)switch(i){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!l.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#e.size?this.#i?this.#i.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new CS;for(const[e,i]of this.#e)t.update(`${e}:${i.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class HD{constructor(t,{disableRange:e=!1,disableStream:i=!1}){ge(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:l,progressiveDone:c,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=u,l?.length>0){const d=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),t.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(i),!0)});ge(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){ge(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new GD(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new qD(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class GD{constructor(t,e,i=!1,r=null){this._stream=t,this._done=i||!1,this._filename=Hc(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class qD{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function XD(a){let t=!0,e=i("filename\\*","i").exec(a);if(e){e=e[1];let p=u(e);return p=unescape(p),p=d(p),p=f(p),l(p)}if(e=c(a),e){const p=f(e);return l(p)}if(e=i("filename","i").exec(a),e){e=e[1];let p=u(e);return p=f(p),l(p)}function i(p,m){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function r(p,m){if(p){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const v=new TextDecoder(p,{fatal:!0}),b=No(m);m=v.decode(b),t=!1}catch{}}return m}function l(p){return t&&/[\x80-\xff]/.test(p)&&(p=r("utf-8",p),t&&(p=r("iso-8859-1",p))),p}function c(p){const m=[];let v;const b=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=b.exec(p))!==null;){let[,S,T,E]=v;if(S=parseInt(S,10),S in m){if(S===0)break;continue}m[S]=[T,E]}const A=[];for(let S=0;S<m.length&&S in m;++S){let[T,E]=m[S];E=u(E),T&&(E=unescape(E),S===0&&(E=d(E))),A.push(E)}return A.join("")}function u(p){if(p.startsWith('"')){const m=p.slice(1).split('\\"');for(let v=0;v<m.length;++v){const b=m[v].indexOf('"');b!==-1&&(m[v]=m[v].slice(0,b),m.length=v+1),m[v]=m[v].replaceAll(/\\(.)/g,"$1")}p=m.join('"')}return p}function d(p){const m=p.indexOf("'");if(m===-1)return p;const v=p.slice(0,m),A=p.slice(m+1).replace(/^[^']*'/,"");return r(v,A)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,v,b,A){if(b==="q"||b==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,T){return String.fromCharCode(parseInt(T,16))}),r(v,A);try{A=atob(A)}catch{}return r(v,A)})}return""}function kS(a,t){const e=new Headers;if(!a||!t||typeof t!="object")return e;for(const i in t){const r=t[i];r!==void 0&&e.append(i,r)}return e}function Gc(a){return URL.parse(a)?.origin??null}function IS({responseHeaders:a,isHttp:t,rangeChunkSize:e,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(a.get("Content-Length"),10);return!Number.isInteger(l)||(r.suggestedLength=l,l<=2*e)||i||!t||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function BS(a){const t=a.get("Content-Disposition");if(t){let e=XD(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Hc(e))return e}return null}function Vo(a,t){return new wo(`Unexpected server response (${a}) while retrieving PDF "${t}".`,a,a===404||a===0&&t.startsWith("file:"))}function FS(a){return a===200||a===206}function VS(a,t,e){return{method:"GET",headers:a,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function zS(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(At(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class YD{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=kS(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ge(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new $D(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new KD(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class $D{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),r=e.url;fetch(r,VS(i,this._withCredentials,this._abortController)).then(l=>{if(t._responseOrigin=Gc(l.url),!FS(l.status))throw Vo(l.status,r);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:u,suggestedLength:d}=IS({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=BS(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Si("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:zS(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class KD{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${e}-${i-1}`);const c=r.url;fetch(c,VS(l,this._withCredentials,this._abortController)).then(u=>{const d=Gc(u.url);if(d!==t._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${t._responseOrigin}".`);if(!FS(u.status))throw Vo(u.status,c);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:zS(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const Fd=200,Vd=206;function WD(a){const t=a.response;return typeof t!="string"?t:No(t).buffer}class QD{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=kS(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[l,c]of this.headers)e.setRequestHeader(l,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=Vd):r.expectedStatus=Fd,e.responseType="arraybuffer",ge(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){const i=this.pendingRequests[t];i&&i.onProgress?.(e)}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){i.onError(r.status);return}const l=r.status||Fd;if(!(l===Fd&&i.expectedStatus===Vd)&&l!==i.expectedStatus){i.onError(r.status);return}const u=WD(r);if(l===Vd){const d=r.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?i.onDone({begin:parseInt(f[1],10),chunk:u}):(At('Missing or invalid "Content-Range" header.'),i.onError(0))}else u?i.onDone({begin:0,chunk:u}):i.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class ZD{constructor(t){this._source=t,this._manager=new QD(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return ge(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new JD(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new tL(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class JD{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Gc(e.responseURL);const i=e.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:l,suggestedLength:c}=IS({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});l&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=BS(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Vo(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class tL{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Gc(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Vo(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const eL=/^[a-z][a-z0-9\-+.]+:/i;function nL(a){if(eL.test(a))return new URL(a);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(a))}class iL{constructor(t){this.source=t,this.url=nL(t.url),ge(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ge(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new sL(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new aL(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class sL{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Vo(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Si("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class aL{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const l=process.getBuiltinModule("fs");this._setReadableStream(l.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Qr=Symbol("INITIAL_DATA");class US{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Qr}}get(t,e=null){if(e){const r=this.#e(t);return r.promise.then(()=>e(r.data)),null}const i=this.#t[t];if(!i||i.data===Qr)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=this.#t[t];return!!e&&e.data!==Qr}delete(t){const e=this.#t[t];return!e||e.data===Qr?!1:(delete this.#t[t],!0)}resolve(t,e=null){const i=this.#e(t);i.data=e,i.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Qr&&(yield[t,e])}}}const rL=1e5,d0=30;let Eo=class xn{#t=Promise.withResolvers();#e=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#l=0;#o=0;#h=null;#c=null;#d=0;#u=0;#f=Object.create(null);#r=[];#p=null;#m=[];#g=new WeakMap;#y=null;static#v=new Map;static#b=new Map;static#S=new WeakMap;static#E=null;static#x=new Set;constructor({textContentSource:t,container:e,viewport:i}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#c=e,this.#u=i.scale*kn.pixelRatio,this.#d=i.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:l,pageX:c,pageY:u}=i.rawDims;this.#y=[1,0,0,-1,-c,u+l],this.#o=r,this.#l=l,xn.#L(),ts(e,i),this.#t.promise.finally(()=>{xn.#x.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Re.platform;return Ct(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#h.read().then(({value:e,done:i})=>{if(i){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#f,e.styles),this.#C(e.items),t()},this.#t.reject)};return this.#h=this.#p.getReader(),xn.#x.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const i=t.scale*kn.pixelRatio,r=t.rotation;if(r!==this.#d&&(e?.(),this.#d=r,ts(this.#c,{rotation:r})),i!==this.#u){e?.(),this.#u=i;const l={div:null,properties:null,ctx:xn.#R(this.#a)};for(const c of this.#m)l.properties=this.#g.get(c),l.div=c,this.#w(l)}}cancel(){const t=new Si("TextLayer task cancelled.");this.#h?.cancel(t).catch(()=>{}),this.#h=null,this.#t.reject(t)}get textDivs(){return this.#m}get textContentItemsStr(){return this.#r}#C(t){if(this.#n)return;this.#s.ctx??=xn.#R(this.#a);const e=this.#m,i=this.#r;for(const r of t){if(e.length>rL){At("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const l=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id!==null&&this.#e.setAttribute("id",`${r.id}`),l.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}i.push(r.str),this.#M(r)}}#M(t){const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#m.push(e);const r=lt.transform(this.#y,t.transform);let l=Math.atan2(r[1],r[0]);const c=this.#f[t.fontName];c.vertical&&(l+=Math.PI/2);let u=this.#i&&c.fontSubstitution||c.fontFamily;u=xn.fontFamilyMap.get(u)||u;const d=Math.hypot(r[2],r[3]),f=d*xn.#O(u,c,this.#a);let p,m;l===0?(p=r[4],m=r[5]-f):(p=r[4]+f*Math.sin(l),m=r[5]-f*Math.cos(l));const v="calc(var(--total-scale-factor) *",b=e.style;this.#e===this.#c?(b.left=`${(100*p/this.#o).toFixed(2)}%`,b.top=`${(100*m/this.#l).toFixed(2)}%`):(b.left=`${v}${p.toFixed(2)}px)`,b.top=`${v}${m.toFixed(2)}px)`),b.fontSize=`${v}${(xn.#E*d).toFixed(2)}px)`,b.fontFamily=u,i.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#i&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),l!==0&&(i.angle=l*(180/Math.PI));let A=!1;if(t.str.length>1)A=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const S=Math.abs(t.transform[0]),T=Math.abs(t.transform[3]);S!==T&&Math.max(S,T)/Math.min(S,T)>1.5&&(A=!0)}if(A&&(i.canvasWidth=c.vertical?t.height:t.width),this.#g.set(e,i),this.#s.div=e,this.#s.properties=i,this.#w(this.#s),i.hasText&&this.#e.append(e),i.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),this.#e.append(S)}}#w(t){const{div:e,properties:i,ctx:r}=t,{style:l}=e;let c="";if(xn.#E>1&&(c=`scale(${1/xn.#E})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:u}=l,{canvasWidth:d,fontSize:f}=i;xn.#_(r,f*this.#u,u);const{width:p}=r.measureText(e.textContent);p>0&&(c=`scaleX(${d*this.#u/p}) ${c}`)}i.angle!==0&&(c=`rotate(${i.angle}deg) ${c}`),c.length>0&&(l.transform=c)}static cleanup(){if(!(this.#x.size>0)){this.#v.clear();for(const{canvas:t}of this.#b.values())t.remove();this.#b.clear()}}static#R(t=null){let e=this.#b.get(t||="");if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(t,e),this.#S.set(e,{size:0,family:""})}return e}static#_(t,e,i){const r=this.#S.get(t);e===r.size&&i===r.family||(t.font=`${e}px ${i}`,r.size=e,r.family=i)}static#L(){if(this.#E!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#E=t.getBoundingClientRect().height,t.remove()}static#O(t,e,i){const r=this.#v.get(t);if(r)return r;const l=this.#R(i);l.canvas.width=l.canvas.height=d0,this.#_(l,d0,t);const c=l.measureText(""),u=c.fontBoundingBoxAscent,d=Math.abs(c.fontBoundingBoxDescent);l.canvas.width=l.canvas.height=0;let f=.8;return u?f=u/(u+d):(Re.platform.isFirefox&&At("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#v.set(t,f),f}};class To{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function r(l){if(!l)return;let c=null;const u=l.name;if(u==="#text")c=l.value;else if(To.shouldBuildText(u))l?.attributes?.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&e.push({str:c}),!!l.children)for(const d of l.children)r(d)}return r(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const oL=100;function bp(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const t=new Ap,{docId:e}=t,i=a.url?yD(a.url):null,r=a.data?vD(a.data):null,l=a.httpHeaders||null,c=a.withCredentials===!0,u=a.password??null,d=a.range instanceof Sp?a.range:null,f=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:2**16;let p=a.worker instanceof Ua?a.worker:null;const m=a.verbosity,v=typeof a.docBaseUrl=="string"&&!Io(a.docBaseUrl)?a.docBaseUrl:null,b=uc(a.cMapUrl),A=a.cMapPacked!==!1,S=a.CMapReaderFactory||(je?xD:t0),T=uc(a.iccUrl),E=uc(a.standardFontDataUrl),R=a.StandardFontDataFactory||(je?_D:e0),_=uc(a.wasmUrl),L=a.WasmFactory||(je?CD:n0),C=a.stopAtErrors!==!0,k=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,I=a.isEvalSupported!==!1,U=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!je,G=typeof a.isImageDecoderSupported=="boolean"?a.isImageDecoderSupported:!je&&(Re.platform.isFirefox||!globalThis.chrome),W=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,Z=typeof a.disableFontFace=="boolean"?a.disableFontFace:je,st=a.fontExtraProperties===!0,vt=a.enableXfa===!0,ct=a.ownerDocument||globalThis.document,rt=a.disableRange===!0,N=a.disableStream===!0,F=a.disableAutoFetch===!0,tt=a.pdfBug===!0,pt=a.CanvasFactory||(je?TD:SD),O=a.FilterFactory||(je?ED:wD),Y=a.enableHWA===!0,J=a.useWasm!==!1,Q=d?d.length:a.length??NaN,nt=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!je&&!Z,gt=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:!!(S===t0&&R===e0&&L===n0&&b&&E&&_&&no(b,document.baseURI)&&no(E,document.baseURI)&&no(_,document.baseURI)),at=null;JM(m);const St={canvasFactory:new pt({ownerDocument:ct,enableHWA:Y}),filterFactory:new O({docId:e,ownerDocument:ct}),cMapReaderFactory:gt?null:new S({baseUrl:b,isCompressed:A}),standardFontDataFactory:gt?null:new R({baseUrl:E}),wasmFactory:gt?null:new L({baseUrl:_})};p||(p=Ua.create({verbosity:m,port:Qi.workerPort}),t._worker=p);const Mt={docId:e,apiVersion:"5.3.31",data:r,password:u,disableAutoFetch:F,rangeChunkSize:f,length:Q,docBaseUrl:v,enableXfa:vt,evaluatorOptions:{maxImageSize:k,disableFontFace:Z,ignoreErrors:C,isEvalSupported:I,isOffscreenCanvasSupported:U,isImageDecoderSupported:G,canvasMaxAreaInBytes:W,fontExtraProperties:st,useSystemFonts:nt,useWasm:J,useWorkerFetch:gt,cMapUrl:b,iccUrl:T,standardFontDataUrl:E,wasmUrl:_}},me={ownerDocument:ct,pdfBug:tt,styleElement:at,loadingParams:{disableAutoFetch:F,enableXfa:vt}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const It=p.messageHandler.sendWithPromise("GetDocRequest",Mt,r?[r.buffer]:null);let qe;if(d)qe=new HD(d,{disableRange:rt,disableStream:N});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const en=no(i)?YD:je?iL:ZD;qe=new en({url:i,length:Q,httpHeaders:l,withCredentials:c,rangeChunkSize:f,disableRange:rt,disableStream:N})}return It.then(en=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const ye=new io(e,en,p.port),Pt=new uL(ye,t,qe,me,St);t._transport=Pt,ye.send("Ready",null)})}).catch(t._capability.reject),t}class Ap{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${Ap.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let Sp=class{#t=Promise.withResolvers();#e=[];#n=[];#i=[];#a=[];constructor(t,e,i=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#i.push(t)}addProgressiveReadListener(t){this.#n.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const i of this.#a)i(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const i of this.#i)i(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#n)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){zt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class lL{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class cL{#t=!1;constructor(t,e,i,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=r?new Qb:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new US,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:l=!1}={}){return new ko({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:r=$n.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:u=null,annotationCanvasMap:d=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:m=!1}){this._stats?.time("Overall");const v=this._transport.getRenderingIntent(i,r,p,m),{renderingIntent:b,cacheKey:A}=v;this.#t=!1,u||=this._transport.getOptionalContentConfig(b);let S=this._intentStates.get(A);S||(S=Object.create(null),this._intentStates.set(A,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const T=!!(b&hn.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(v));const E=L=>{S.renderTasks.delete(R),T&&(this.#t=!0),this.#e(),L?(R.capability.reject(L),this._abortOperatorList({intentState:S,reason:L instanceof Error?L:new Error(L)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},R=new Na({callback:E,params:{canvasContext:t,viewport:e,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:f});(S.renderTasks||=new Set).add(R);const _=R.task;return Promise.all([S.displayReadyCapability.promise,u]).then(([L,C])=>{if(this.destroyed){E();return}if(this._stats?.time("Rendering"),!(C.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");R.initializeGraphics({transparency:L,optionalContentConfig:C}),R.operatorListChanged()}).catch(E),_}getOperatorList({intent:t="display",annotationMode:e=$n.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){function l(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const c=this._transport.getRenderingIntent(t,e,i,r,!0);let u=this._intentStates.get(c.cacheKey);u||(u=Object.create(null),this._intentStates.set(c.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=l,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||=new Set).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(c)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>To.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,r){function l(){c.read().then(function({value:d,done:f}){if(f){i(u);return}u.lang??=d.lang,Object.assign(u.styles,d.styles),u.items.push(...d.items),l()},r)}const c=e.getReader(),u={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new Qb),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const i=this._intentStates.get(e);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let i=0,r=t.length;i<r;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:r}){const{map:l,transfer:c}=i,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:l,modifiedIds:r},c).getReader(),f=this._intentStates.get(e);f.streamReader=d;const p=()=>{d.read().then(({value:m,done:v})=>{if(v){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,f),p())},m=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const v of f.renderTasks)v.operatorListChanged();this.#e()}if(f.displayReadyCapability)f.displayReadyCapability.reject(m);else if(f.opListReadCapability)f.opListReadCapability.reject(m);else throw m}})};p()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof jc){let r=oL;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Si(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,l]of this._intentStates)if(l===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var Wi,Pn,mi,Ms,Pc,Ds,Ls,Ge,Ec,jS,HS,so,Fa,Tc;const Xt=class Xt{constructor({name:t=null,port:e=null,verbosity:i=tD()}={}){Un(this,Ge);Un(this,Wi,Promise.withResolvers());Un(this,Pn,null);Un(this,mi,null);Un(this,Ms,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(qt(Xt,Ls).has(e))throw new Error("Cannot use more than one PDFWorker per port.");qt(Xt,Ls).set(e,this),jn(this,Ge,jS).call(this,e)}else jn(this,Ge,HS).call(this)}get promise(){return qt(this,Wi).promise}get port(){return qt(this,mi)}get messageHandler(){return qt(this,Pn)}destroy(){this.destroyed=!0,qt(this,Ms)?.terminate(),Qe(this,Ms,null),qt(Xt,Ls).delete(qt(this,mi)),Qe(this,mi,null),qt(this,Pn)?.destroy(),Qe(this,Pn,null)}static create(t){const e=qt(this,Ls).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Xt(t)}static get workerSrc(){if(Qi.workerSrc)return Qi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ct(this,"_setupFakeWorkerGlobal",(async()=>qt(this,Fa,Tc)?qt(this,Fa,Tc):(await import(this.workerSrc)).WorkerMessageHandler)())}};Wi=new WeakMap,Pn=new WeakMap,mi=new WeakMap,Ms=new WeakMap,Pc=new WeakMap,Ds=new WeakMap,Ls=new WeakMap,Ge=new WeakSet,Ec=function(){qt(this,Wi).resolve(),qt(this,Pn).send("configure",{verbosity:this.verbosity})},jS=function(t){Qe(this,mi,t),Qe(this,Pn,new io("main","worker",t)),qt(this,Pn).on("ready",()=>{}),jn(this,Ge,Ec).call(this)},HS=function(){if(qt(Xt,Ds)||qt(Xt,Fa,Tc)){jn(this,Ge,so).call(this);return}let{workerSrc:t}=Xt;try{Xt._isSameOrigin(window.location,t)||(t=Xt._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new io("main","worker",e),r=()=>{l.abort(),i.destroy(),e.terminate(),this.destroyed?qt(this,Wi).reject(new Error("Worker was destroyed")):jn(this,Ge,so).call(this)},l=new AbortController;e.addEventListener("error",()=>{qt(this,Ms)||r()},{signal:l.signal}),i.on("test",u=>{if(l.abort(),this.destroyed||!u){r();return}Qe(this,Pn,i),Qe(this,mi,e),Qe(this,Ms,e),jn(this,Ge,Ec).call(this)}),i.on("ready",u=>{if(l.abort(),this.destroyed){r();return}try{c()}catch{jn(this,Ge,so).call(this)}});const c=()=>{const u=new Uint8Array;i.send("test",u,[u.buffer])};c();return}catch{Uc("The worker has been disabled.")}jn(this,Ge,so).call(this)},so=function(){qt(Xt,Ds)||(At("Setting up fake worker."),Qe(Xt,Ds,!0)),Xt._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){qt(this,Wi).reject(new Error("Worker was destroyed"));return}const e=new AD;Qe(this,mi,e);const i=`fake${vv(Xt,Pc)._++}`,r=new io(i+"_worker",i,e);t.setup(r,e),Qe(this,Pn,new io(i,i+"_worker",e)),jn(this,Ge,Ec).call(this)}).catch(t=>{qt(this,Wi).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Fa=new WeakSet,Tc=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Un(Xt,Fa),Un(Xt,Pc,0),Un(Xt,Ds,!1),Un(Xt,Ls,new WeakMap),je&&(Qe(Xt,Ds,!0),Qi.workerSrc||="./pdf.worker.mjs"),Xt._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!i?.origin||i.origin==="null")return!1;const r=new URL(e,i);return i.origin===r.origin},Xt._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Xt.fromPort=t=>{if(cD("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Xt.create(t)};let Ua=Xt;class uL{#t=new Map;#e=new Map;#n=new Map;#i=new Map;#a=null;constructor(t,e,i,r,l){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new US,this.fontLoader=new gD({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.wasmFactory=l.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#s(t,e=null){const i=this.#t.get(t);if(i)return i;const r=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,r),r}get annotationStorage(){return Ct(this,"annotationStorage",new gp)}getRenderingIntent(t,e=$n.ENABLE,i=null,r=!1,l=!1){let c=hn.DISPLAY,u=hf;switch(t){case"any":c=hn.ANY;break;case"display":break;case"print":c=hn.PRINT;break;default:At(`getRenderingIntent - invalid intent: ${t}`)}const d=c&hn.PRINT&&i instanceof RS?i:this.annotationStorage;switch(e){case $n.DISABLE:c+=hn.ANNOTATIONS_DISABLE;break;case $n.ENABLE:break;case $n.ENABLE_FORMS:c+=hn.ANNOTATIONS_FORMS;break;case $n.ENABLE_STORAGE:c+=hn.ANNOTATIONS_STORAGE,u=d.serializable;break;default:At(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(c+=hn.IS_EDITING),l&&(c+=hn.OPLIST);const{ids:f,hash:p}=d.modifiedIds,m=[c,u.hash,p];return{renderingIntent:c,cacheKey:m.join("_"),annotationStorageSerializable:u,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of this.#e.values())t.push(i._destroy());this.#e.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),Eo.cleanup(),this._networkStream?.cancelAllRequests(new Si("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,r)=>{ge(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},r.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){r.close();return}ge(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{this._fullReader.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async i=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:l,contentLength:c}=this._fullReader;return(!r||!l)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=u=>{e.onProgress?.({loaded:u.loaded,total:u.total})}),{isStreamingSupported:r,isRangeSupported:l,contentLength:c}}),t.on("GetRangeReader",(i,r)=>{ge(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(i.begin,i.end);if(!l){r.close();return}r.onPull=()=>{l.read().then(function({value:c,done:u}){if(u){r.close();return}ge(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{l.cancel(c),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new lL(i,this))}),t.on("DocException",i=>{e._capability.reject(Ze(i))}),t.on("PasswordRequest",i=>{this.#a=Promise.withResolvers();try{if(!e.onPassword)throw Ze(i);const r=l=>{l instanceof Error?this.#a.reject(l):this.#a.resolve({password:l})};e.onPassword(r,i.code)}catch(r){this.#a.reject(r)}return this.#a.promise}),t.on("DataLoaded",i=>{e.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;this.#e.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,r,l])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in l){const f=l.error;At(`Error during font loading: ${f}`),this.commonObjs.resolve(i,f);break}const c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(f,p)=>globalThis.FontInspector.fontAdded(f,p):null,u=new mD(l,c);this.fontLoader.bind(u).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!u.fontExtraProperties&&u.data&&(u.data=null),this.commonObjs.resolve(i,u)});break;case"CopyLocalImage":const{imageRef:d}=l;ge(d,"The imageRef must be defined.");for(const f of this.#e.values())for(const[,p]of f.objs)if(p?.ref===d)return p.dataLen?(this.commonObjs.resolve(i,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,l);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([i,r,l,c])=>{if(this.destroyed)return;const u=this.#e.get(r);if(!u.objs.has(i)){if(u._intentStates.size===0){c?.bitmap?.close();return}switch(l){case"Image":case"Pattern":u.objs.resolve(i,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",i=>{this.destroyed||e.onProgress?.({loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&At("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=this.#n.get(e);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&this.#i.set(l.refStr,t);const c=new cL(e,l,this,this._params.pdfBug);return this.#e.set(e,c),c});return this.#n.set(e,r),r}getPageIndex(t){return df(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new jD(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new zD(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),Eo.cleanup()}}cachedPageNumber(t){if(!df(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#i.get(e)??null}}class hL{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class Na{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:i,commonObjs:r,annotationCanvasMap:l,operatorList:c,pageIndex:u,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:m=!1,pageColors:v=null}){this.callback=t,this.params=e,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=u,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=m,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new hL(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Na.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Na.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:l,background:c}=this.params;this.gfx=new ka(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:r,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Na.#e.delete(this._canvas),t||=new jc(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Na.#e.delete(this._canvas),this.callback())))}}const GS="5.3.31",qS="47ad820d9";function f0(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function Zr(a){return Math.max(0,Math.min(255,255*a))}class p0{static CMYK_G([t,e,i,r]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Zr(t),[t,t,t]}static G_HTML([t]){const e=f0(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(Zr)}static RGB_HTML(t){return`#${t.map(f0).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,i+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,i,r]){return[Zr(1-Math.min(1,t+r)),Zr(1-Math.min(1,i+r)),Zr(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const r=1-t,l=1-e,c=1-i,u=Math.min(r,l,c);return["CMYK",r,l,c,u]}}class dL{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){zt("Abstract method `_createSVG` called.")}}class xo extends dL{_createSVG(t){return document.createElementNS(gi,t)}}class wp{static setupStorage(t,e,i,r,l){const c=r.getValue(e,{value:null});switch(i.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),l==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(c.value===i.attributes.xfaOn?t.setAttribute("checked",!0):c.value===i.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",u=>{r.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),l==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const u of i.children)u.attributes.value===c.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const d=u.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:r,linkService:l}){const{attributes:c}=e,u=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[d,f]of Object.entries(c))if(f!=null)switch(d){case"class":f.length&&t.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!u||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,f)}u&&l.addLinkAttributes(t,c.href,c.newWindow),i&&c.dataId&&this.setupStorage(t,c.dataId,e,i)}static render(t){const e=t.annotationStorage,i=t.linkService,r=t.xfaHtml,l=t.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:l,linkService:i});const u=l!=="richText",d=t.div;if(d.append(c),t.viewport){const m=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=m}u&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(r.children.length===0){if(r.value){const m=document.createTextNode(r.value);c.append(m),u&&To.shouldBuildText(r.name)&&f.push(m)}return{textDivs:f}}const p=[[r,-1,c]];for(;p.length>0;){const[m,v,b]=p.at(-1);if(v+1===m.children.length){p.pop();continue}const A=m.children[++p.at(-1)[1]];if(A===null)continue;const{name:S}=A;if(S==="#text"){const E=document.createTextNode(A.value);f.push(E),b.append(E);continue}const T=A?.attributes?.xmlns?document.createElementNS(A.attributes.xmlns,S):document.createElement(S);if(b.append(T),A.attributes&&this.setAttributes({html:T,element:A,storage:e,intent:l,linkService:i}),A.children?.length>0)p.push([A,-1,T]);else if(A.value){const E=document.createTextNode(A.value);u&&To.shouldBuildText(S)&&f.push(E),T.append(E)}}for(const m of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const zo=1e3,fL=9,ks=new WeakSet;class g0{static create(t){switch(t.data.annotationType){case se.LINK:return new XS(t);case se.TEXT:return new pL(t);case se.WIDGET:switch(t.data.fieldType){case"Tx":return new gL(t);case"Btn":return t.data.radioButton?new YS(t):t.data.checkBox?new yL(t):new vL(t);case"Ch":return new bL(t);case"Sig":return new mL(t)}return new Vs(t);case se.POPUP:return new pf(t);case se.FREETEXT:return new $S(t);case se.LINE:return new SL(t);case se.SQUARE:return new wL(t);case se.CIRCLE:return new EL(t);case se.POLYLINE:return new KS(t);case se.CARET:return new xL(t);case se.INK:return new Ep(t);case se.POLYGON:return new TL(t);case se.HIGHLIGHT:return new WS(t);case se.UNDERLINE:return new _L(t);case se.SQUIGGLY:return new CL(t);case se.STRIKEOUT:return new RL(t);case se.STAMP:return new QS(t);case se.FILEATTACHMENT:return new ML(t);default:return new le(t)}}}class le{#t=null;#e=!1;#n=null;constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:i}){return!!(t?.str||e?.str||i?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return le._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#t||={rect:this.data.rect.slice(0)};const{rect:e}=t;e&&this.#i(e),this.#n?.popup.updateEdited(t)}resetEdited(){this.#t&&(this.#i(this.#t.rect),this.#n?.popup.resetEdited(),this.#t=null)}#i(t){const{container:{style:e},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:u,pageY:d}}}}=this;i?.splice(0,4,...t),e.left=`${100*(t[0]-u)/l}%`,e.top=`${100*(c-t[3]+d)/c}%`,r===0?(e.width=`${100*(t[2]-t[0])/l}%`,e.height=`${100*(t[3]-t[1])/c}%`):this.setRotation(r)}_createContainer(t){const{data:e,parent:{page:i,viewport:r}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",e.id),this instanceof Vs||(l.tabIndex=zo);const{style:c}=l;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(l.title=e.alternativeText),e.noRotate&&l.classList.add("norotate"),!e.rect||this instanceof pf){const{rotation:S}=e;return!e.hasOwnCanvas&&S!==0&&this.setRotation(S,l),l}const{width:u,height:d}=this;if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const S=e.borderStyle.horizontalCornerRadius,T=e.borderStyle.verticalCornerRadius;if(S>0||T>0){const R=`calc(${S}px * var(--total-scale-factor)) / calc(${T}px * var(--total-scale-factor))`;c.borderRadius=R}else if(this instanceof YS){const R=`calc(${u}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;c.borderRadius=R}switch(e.borderStyle.style){case xa.SOLID:c.borderStyle="solid";break;case xa.DASHED:c.borderStyle="dashed";break;case xa.BEVELED:At("Unimplemented border style: beveled");break;case xa.INSET:At("Unimplemented border style: inset");break;case xa.UNDERLINE:c.borderBottomStyle="solid";break}const E=e.borderColor||null;E?(this.#e=!0,c.borderColor=lt.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):c.borderWidth=0}const f=lt.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:p,pageHeight:m,pageX:v,pageY:b}=r.rawDims;c.left=`${100*(f[0]-v)/p}%`,c.top=`${100*(f[1]-b)/m}%`;const{rotation:A}=e;return e.hasOwnCanvas||A===0?(c.width=`${100*u/p}%`,c.height=`${100*d/m}%`):this.setRotation(A,l),l}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:l,height:c}=this;t%180!==0&&([l,c]=[c,l]),e.style.width=`${100*l/i}%`,e.style.height=`${100*c/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,r)=>{const l=r.detail[e],c=l[0],u=l.slice(1);r.target.style[i]=p0[`${c}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[i]:p0[`${c}_rgb`](u)})};return Ct(this,"_commonActions",{display:e=>{const{display:i}=e.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const r of Object.keys(e.detail))(t[r]||i[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[r,l]of Object.entries(e)){const c=i[r];if(c){const u={detail:{[r]:l},target:t};c(u),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,r,l]=this.data.rect.map(S=>Math.fround(S));if(t.length===8){const[S,T,E,R]=t.subarray(2,6);if(r===S&&l===T&&e===E&&i===R)return}const{style:c}=this.container;let u;if(this.#e){const{borderColor:S,borderWidth:T}=c;c.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${T}">`],this.container.classList.add("hasBorder")}const d=r-e,f=l-i,{svgFactory:p}=this,m=p.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0);const v=p.createElement("defs");m.append(v);const b=p.createElement("clipPath"),A=`clippath_${this.data.id}`;b.setAttribute("id",A),b.setAttribute("clipPathUnits","objectBoundingBox"),v.append(b);for(let S=2,T=t.length;S<T;S+=8){const E=t[S],R=t[S+1],_=t[S+2],L=t[S+3],C=p.createElement("rect"),k=(_-e)/d,I=(l-R)/f,U=(E-_)/d,G=(R-L)/f;C.setAttribute("x",k),C.setAttribute("y",I),C.setAttribute("width",U),C.setAttribute("height",G),b.append(C),u?.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${I}" width="${U}" height="${G}"/>`)}this.#e&&(u.push("</g></svg>')"),c.backgroundImage=u.join("")),this.container.append(m),this.container.style.clipPath=`url(#${A})`}_createPopup(){const{data:t}=this,e=this.#n=new pf({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(e.render())}render(){zt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:l,id:c,exportValues:u}of r){if(l===-1||c===e)continue;const d=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${c}"]`);if(f&&!ks.has(f)){At(`_getElementsByName - element not allowed: ${c}`);continue}i.push({id:c,exportValue:d,domElement:f})}return i}for(const r of document.getElementsByName(t)){const{exportValue:l}=r,c=r.getAttribute("data-element-id");c!==e&&ks.has(r)&&i.push({id:c,exportValue:l,domElement:r})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class XS extends le{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(i,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(i,t.action),r=!0):t.attachment?(this.#e(i,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(this.#n(i,t.setOCGState),r=!0):t.dest?(this._bindLink(i,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),r=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t()}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#t()}#e(t,e,i=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,i),!1),this.#t()}#n(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const l=i.get(r);l&&(t[l]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){At('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{i?.();const{fields:r,refs:l,include:c}=e,u=[];if(r.length!==0||l.length!==0){const p=new Set(l);for(const m of r){const v=this._fieldObjects[m]||[];for(const{id:b}of v)p.add(b)}for(const m of Object.values(this._fieldObjects))for(const v of m)p.has(v.id)===c&&u.push(v)}else for(const p of Object.values(this._fieldObjects))u.push(...p);const d=this.annotationStorage,f=[];for(const p of u){const{id:m}=p;switch(f.push(m),p.type){case"text":{const b=p.defaultValue||"";d.setValue(m,{value:b});break}case"checkbox":case"radiobutton":{const b=p.defaultValue===p.exportValues;d.setValue(m,{value:b});break}case"combobox":case"listbox":{const b=p.defaultValue||"";d.setValue(m,{value:b});break}default:continue}const v=document.querySelector(`[data-element-id="${m}"]`);if(v){if(!ks.has(v)){At(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class pL extends le{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Vs extends le{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Re.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,r,l){i.includes("mouse")?t.addEventListener(i,c=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(i,c=>{if(i==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}l&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c)}})})}_setEventListeners(t,e,i,r){for(const[l,c]of i)(c==="Action"||this.data.actions?.[c])&&((c==="Focus"||c==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,l,c,r),c==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):c==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":lt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||fL,l=t.style;let c;const u=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),p=Math.round(f/(Od*r))||1,m=f/p;c=Math.min(r,d(m/Od))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);c=Math.min(r,d(f/Od))}l.fontSize=`calc(${c}px * var(--total-scale-factor))`,l.color=lt.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(l.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class gL extends Vs{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,r){const l=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=i),l.setValue(c.id,{[r]:i})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let l=r.value||"";const c=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let u=r.formattedValue||this.data.textContent?.join(`
`)||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:l,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??l,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",u??l),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),ks.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=zo,this._setRequired(i,this.data.required),c&&(i.maxLength=c),i.addEventListener("input",p=>{t.setValue(e,{value:p.target.value}),this.setPropertyOnSiblings(i,"value",p.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue??"";i.value=d.userValue=m,d.formattedValue=null});let f=p=>{const{formattedValue:m}=d;m!=null&&(p.target.value=m),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",m=>{if(d.focused)return;const{target:v}=m;d.userValue&&(v.value=d.userValue),d.lastCommittedValue=v.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const v={value(b){d.userValue=b.detail.value??"",t.setValue(e,{value:d.userValue.toString()}),b.target.value=d.userValue},formattedValue(b){const{formattedValue:A}=b.detail;d.formattedValue=A,A!=null&&b.target!==document.activeElement&&(b.target.value=A),t.setValue(e,{formattedValue:A})},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{const{charLimit:A}=b.detail,{target:S}=b;if(A===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",A);let T=d.userValue;!T||T.length<=A||(T=T.slice(0,A),S.value=d.userValue=T,t.setValue(e,{value:T}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(v,m)}),i.addEventListener("keydown",m=>{d.commitKey=1;let v=-1;if(m.key==="Escape"?v=0:m.key==="Enter"&&!this.data.multiLine?v=2:m.key==="Tab"&&(d.commitKey=3),v===-1)return;const{value:b}=m.target;d.lastCommittedValue!==b&&(d.lastCommittedValue=b,d.userValue=b,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:b,willCommit:!0,commitKey:v,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const p=f;f=null,i.addEventListener("blur",m=>{if(!d.focused||!m.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{value:v}=m.target;d.userValue=v,d.lastCommittedValue!==v&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,willCommit:!0,commitKey:d.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}),p(m)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",m=>{d.lastCommittedValue=null;const{data:v,target:b}=m,{value:A,selectionStart:S,selectionEnd:T}=b;let E=S,R=T;switch(m.inputType){case"deleteWordBackward":{const _=A.substring(0,S).match(/\w*[^\w]*$/);_&&(E-=_[0].length);break}case"deleteWordForward":{const _=A.substring(S).match(/^[^\w]*\w*/);_&&(R+=_[0].length);break}case"deleteContentBackward":S===T&&(E-=1);break;case"deleteContentForward":S===T&&(R+=1);break}m.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,change:v||"",willCommit:!1,selStart:E,selEnd:R}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(f&&i.addEventListener("blur",f),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/c;i.classList.add("comb"),i.style.letterSpacing=`calc(${m}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class mL extends Vs{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class yL extends Vs{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return ks.add(l),l.setAttribute("data-element-id",i),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.setAttribute("exportValue",e.exportValue),l.tabIndex=zo,l.addEventListener("change",c=>{const{name:u,checked:d}=c.target;for(const f of this._getElementsByName(u,i)){const p=d&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=p),t.setValue(f.id,{value:p})}t.setValue(i,{value:d})}),l.addEventListener("resetform",c=>{const u=e.defaultFieldValue||"Off";c.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const u={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(i,{value:d.target.checked})}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class YS extends Vs{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(i,{value:r})),r)for(const c of this._getElementsByName(e.fieldName,i))t.setValue(c.id,{value:!1});const l=document.createElement("input");if(ks.add(l),l.setAttribute("data-element-id",i),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.tabIndex=zo,l.addEventListener("change",c=>{const{name:u,checked:d}=c.target;for(const f of this._getElementsByName(u,i))t.setValue(f.id,{value:!1});t.setValue(i,{value:d})}),l.addEventListener("resetform",c=>{const u=e.defaultFieldValue;c.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;l.addEventListener("updatefromsandbox",u=>{const d={value:f=>{const p=c===f.detail.value;for(const m of this._getElementsByName(f.target.name)){const v=p&&m.id===i;m.domElement&&(m.domElement.checked=v),t.setValue(m.id,{value:v})}}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class vL extends XS{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class bL extends Vs{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");ks.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=zo;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue;for(const v of r.options)v.selected=v.value===m});for(const p of this.data.options){const m=document.createElement("option");m.textContent=p.displayValue,m.value=p.exportValue,i.value.includes(p.exportValue)&&(m.setAttribute("selected",!0),l=!1),r.append(m)}let c=null;if(l){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),r.prepend(p),c=()=>{p.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const u=p=>{const m=p?"value":"textContent",{options:v,multiple:b}=r;return b?Array.prototype.filter.call(v,A=>A.selected).map(A=>A[m]):v.selectedIndex===-1?null:v[v.selectedIndex][m]};let d=u(!1);const f=p=>{const m=p.target.options;return Array.prototype.map.call(m,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",p=>{const m={value(v){c?.();const b=v.detail.value,A=new Set(Array.isArray(b)?b:[b]);for(const S of r.options)S.selected=A.has(S.value);t.setValue(e,{value:u(!0)}),d=u(!1)},multipleSelection(v){r.multiple=!0},remove(v){const b=r.options,A=v.detail.remove;b[A].selected=!1,r.remove(A),b.length>0&&Array.prototype.findIndex.call(b,T=>T.selected)===-1&&(b[0].selected=!0),t.setValue(e,{value:u(!0),items:f(v)}),d=u(!1)},clear(v){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),d=u(!1)},insert(v){const{index:b,displayValue:A,exportValue:S}=v.detail.insert,T=r.children[b],E=document.createElement("option");E.textContent=A,E.value=S,T?T.before(E):r.append(E),t.setValue(e,{value:u(!0),items:f(v)}),d=u(!1)},items(v){const{items:b}=v.detail;for(;r.length!==0;)r.remove(0);for(const A of b){const{displayValue:S,exportValue:T}=A,E=document.createElement("option");E.textContent=S,E.value=T,r.append(E)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:u(!0),items:f(v)}),d=u(!1)},indices(v){const b=new Set(v.detail.indices);for(const A of v.target.options)A.selected=b.has(A.index);t.setValue(e,{value:u(!0)}),d=u(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(m,p)}),r.addEventListener("input",p=>{const m=u(!0),v=u(!1);t.setValue(e,{value:m}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:v,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):r.addEventListener("input",function(p){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class pf extends le{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:le._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new AL({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${up}${i}`).join(",")),this.container}}class AL{#t=this.#C.bind(this);#e=this.#_.bind(this);#n=this.#R.bind(this);#i=this.#w.bind(this);#a=null;#s=null;#l=null;#o=null;#h=null;#c=null;#d=null;#u=!1;#f=null;#r=null;#p=null;#m=null;#g=null;#y=null;#v=!1;constructor({container:t,color:e,elements:i,titleObj:r,modificationDate:l,contentsObj:c,richText:u,parent:d,rect:f,parentRect:p,open:m}){this.#s=t,this.#g=r,this.#l=c,this.#m=u,this.#c=d,this.#a=e,this.#p=f,this.#d=p,this.#h=i,this.#o=hp.toDateObject(l),this.trigger=i.flatMap(v=>v.getElementsToTriggerPopup());for(const v of this.trigger)v.addEventListener("click",this.#i),v.addEventListener("mouseenter",this.#n),v.addEventListener("mouseleave",this.#e),v.classList.add("popupTriggerArea");for(const v of i)v.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,m&&this.#w()}render(){if(this.#f)return;const t=this.#f=document.createElement("div");if(t.className="popup",this.#a){const l=t.style.outlineColor=lt.makeHexColor(...this.#a);t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=this.#g,t.append(e),this.#o){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#o.valueOf()})),e.append(l)}const r=this.#b;if(r)wp.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(this.#l);t.append(l)}this.#s.append(t)}get#b(){const t=this.#m,e=this.#l;return t?.str&&(!e?.str||e.str===t.str)&&this.#m.html||null}get#S(){return this.#b?.attributes?.style?.fontSize||0}get#E(){return this.#b?.attributes?.style?.color||null}#x(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#E,fontSize:this.#S?`calc(${this.#S}px * var(--total-scale-factor))`:""}};for(const l of t.split(`
`))e.push({name:"span",value:l,attributes:r});return i}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let l=0,c=r.length;l<c;++l){const u=r[l];i.append(document.createTextNode(u)),l<c-1&&i.append(document.createElement("br"))}return i}#C(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#u)&&this.#w()}updateEdited({rect:t,popupContent:e}){this.#y||={contentsObj:this.#l,richText:this.#m},t&&(this.#r=null),e&&(this.#m=this.#x(e),this.#l=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#y&&({contentsObj:this.#l,richText:this.#m}=this.#y,this.#y=null,this.#f?.remove(),this.#f=null,this.#r=null)}#M(){if(this.#r!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:r,pageY:l}}}=this.#c;let c=!!this.#d,u=c?this.#d:this.#p;for(const A of this.#h)if(!u||lt.intersect(A.data.rect,u)!==null){u=A.data.rect,c=!0;break}const d=lt.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),p=c?u[2]-u[0]+5:0,m=d[0]+p,v=d[1];this.#r=[100*(m-r)/e,100*(v-l)/i];const{style:b}=this.#s;b.left=`${this.#r[0]}%`,b.top=`${this.#r[1]}%`}#w(){this.#u=!this.#u,this.#u?(this.#R(),this.#s.addEventListener("click",this.#i),this.#s.addEventListener("keydown",this.#t)):(this.#_(),this.#s.removeEventListener("click",this.#i),this.#s.removeEventListener("keydown",this.#t))}#R(){this.#f||this.render(),this.isVisible?this.#u&&this.#s.classList.add("focused"):(this.#M(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#_(){this.#s.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#v=this.isVisible,this.#v&&(this.#s.hidden=!0)}maybeShow(){this.#v&&(this.#f||this.#R(),this.#v=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class $S extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=bt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class SL extends le{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),l=this.#t=this.svgFactory.createElement("svg:line");return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class wL extends le{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),l=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:rect");return c.setAttribute("x",l/2),c.setAttribute("y",l/2),c.setAttribute("width",e-l),c.setAttribute("height",i-l),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class EL extends le{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),l=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:ellipse");return c.setAttribute("cx",e/2),c.setAttribute("cy",i/2),c.setAttribute("rx",e/2-l/2),c.setAttribute("ry",i/2-l/2),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class KS extends le{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:i,popupRef:r},width:l,height:c}=this;if(!e)return this.container;const u=this.svgFactory.create(l,c,!0);let d=[];for(let p=0,m=e.length;p<m;p+=2){const v=e[p]-t[0],b=t[3]-e[p+1];d.push(`${v},${b}`)}d=d.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class TL extends KS{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class xL extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Ep extends le{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?bt.HIGHLIGHT:bt.INK}#n(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:i,borderStyle:r,popupRef:l}}=this,{transform:c,width:u,height:d}=this.#n(e,t),f=this.svgFactory.create(u,d,!0),p=this.#t=this.svgFactory.createElement("svg:g");f.append(p),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",c);for(let m=0,v=i.length;m<v;m++){const b=this.svgFactory.createElement(this.svgElementName);this.#e.push(b),b.setAttribute("points",i[m].join(",")),p.append(b)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:i,rect:r}=t,l=this.#t;if(e>=0&&l.setAttribute("stroke-width",e||1),i)for(let c=0,u=this.#e.length;c<u;c++)this.#e[c].setAttribute("points",i[c].join(","));if(r){const{transform:c,width:u,height:d}=this.#n(this.data.rotation,r);l.parentElement.setAttribute("viewBox",`0 0 ${u} ${d}`),l.setAttribute("transform",c)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class WS extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=bt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class _L extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class CL extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class RL extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class QS extends le{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=bt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class ML extends le{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let i;e.hasAppearance||e.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#e.bind(this)),this.#t=i;const{isMac:r}=Re.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(r?l.metaKey:l.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let Tp=class ZS{#t=null;#e=null;#n=new Map;#i=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:r,page:l,viewport:c,structTreeLayer:u}){this.div=t,this.#t=e,this.#e=i,this.#i=u||null,this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return this.#n.size>0}async#a(t,e){const i=t.firstChild||t,r=i.id=`${up}${e}`,l=await this.#i?.getAriaAttributes(r);if(l)for(const[c,u]of l)i.setAttribute(c,u);this.div.append(t),this.#t?.moveElementInDOM(this.div,t,i,!1)}async render(t){const{annotations:e}=t,i=this.div;ts(i,this.viewport);const r=new Map,l={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new xo,annotationStorage:t.annotationStorage||new gp,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const u=c.annotationType===se.POPUP;if(u){const p=r.get(c.id);if(!p)continue;l.elements=p}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;l.data=c;const d=g0.create(l);if(!d.isRenderable)continue;if(!u&&c.popupRef){const p=r.get(c.popupRef);p?p.push(d):r.set(c.popupRef,[d])}const f=d.render();c.hidden&&(f.style.visibility="hidden"),await this.#a(f,c.id),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#s()}async addLinkAnnotations(t,e){const i={data:null,layer:this.div,linkService:e,svgFactory:new xo,parent:this};for(const r of t){r.borderStyle||=ZS._defaultBorderStyle,i.data=r;const l=g0.create(i);if(!l.isRenderable)continue;const c=l.render();await this.#a(c,r.id)}}update({viewport:t}){const e=this.div;this.viewport=t,ts(e,{rotation:t.rotation}),this.#s(),e.hidden=!1}#s(){if(!this.#e)return;const t=this.div;for(const[e,i]of this.#e){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:l}=r;l?l.nodeName==="CANVAS"?l.replaceWith(i):l.classList.contains("annotationContent")?l.after(i):l.before(i):r.append(i);const c=this.#n.get(e);c&&(c._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,r.id,i),c._hasNoCanvas=!1):c.canvas=i)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}static get _defaultBorderStyle(){return Ct(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:xa.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const pc=/\r\n?|\n/g;class Se extends ut{#t;#e="";#n=`${this.id}-editor`;#i=null;#a;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Se.prototype,e=l=>l.isEmpty(),i=wi.TRANSLATE_SMALL,r=wi.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new Bo([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=bt.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||Se._defaultColor||ut._defaultLineColor,this.#a=t.fontSize||Se._defaultFontSize}static initialize(t,e){ut.initialize(t,e);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Rt.FREETEXT_SIZE:Se._defaultFontSize=e;break;case Rt.FREETEXT_COLOR:Se._defaultColor=e;break}}updateParams(t,e){switch(t){case Rt.FREETEXT_SIZE:this.#s(e);break;case Rt.FREETEXT_COLOR:this.#l(e);break}}static get defaultPropertiesToUpdate(){return[[Rt.FREETEXT_SIZE,Se._defaultFontSize],[Rt.FREETEXT_COLOR,Se._defaultColor||ut._defaultLineColor]]}get propertiesToUpdate(){return[[Rt.FREETEXT_SIZE,this.#a],[Rt.FREETEXT_COLOR,this.#t]]}#s(t){const e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#a)*this.parentScale),this.#a=r,this.#h()},i=this.#a;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Rt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#l(t){const e=r=>{this.#t=this.editorDiv.style.color=r},i=this.#t;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Rt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Se._internalPadding*t,-(Se._internalPadding+this.#a)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#o(){const t=[];this.editorDiv.normalize();let e=null;for(const i of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(Se.#c(i)),e=i);return t.join(`
`)}#h(){const[t,e]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:l}=this,c=l.style.display,u=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",r.div.append(this.div),i=l.getBoundingClientRect(),l.remove(),l.style.display=c,l.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/e):(this.width=i.height/t,this.height=i.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,e=this.#e=this.#o().trimEnd();if(t===e)return;const i=r=>{if(this.#e=r,!r){this.remove();return}this.#d(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{i(e)},undo:()=>{i(t)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Se._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#a}px * var(--total-scale-factor))`,i.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,l]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,p]=this.pageDimensions,[m,v]=this.pageTranslation;let b,A;switch(this.rotation){case 0:b=t+(c[0]-m)/f,A=e+this.height-(c[1]-v)/p;break;case 90:b=t+(c[0]-m)/f,A=e-(c[1]-v)/p,[u,d]=[d,-u];break;case 180:b=t-this.width+(c[0]-m)/f,A=e-(c[1]-v)/p,[u,d]=[-u,-d];break;case 270:b=t+(c[0]-m-this.height*p)/f,A=e+(c[1]-v-this.width*f)/p,[u,d]=[-d,u];break}this.setAt(b*r,A*l,u,d)}else this._moveAfterPaste(t,e);this.#d(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(pc,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:i}=e;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const r=Se.#f(e.getData("text")||"").replaceAll(pc,`
`);if(!r)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const c=l.getRangeAt(0);if(!r.includes(`
`)){c.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:u,startOffset:d}=c,f=[],p=[];if(u.nodeType===Node.TEXT_NODE){const b=u.parentElement;if(p.push(u.nodeValue.slice(d).replaceAll(pc,"")),b!==this.editorDiv){let A=f;for(const S of this.editorDiv.childNodes){if(S===b){A=p;continue}A.push(Se.#c(S))}}f.push(u.nodeValue.slice(0,d).replaceAll(pc,""))}else if(u===this.editorDiv){let b=f,A=0;for(const S of this.editorDiv.childNodes)A++===d&&(b=p),b.push(Se.#c(S))}this.#e=`${f.join(`
`)}${r}${p.join(`
`)}`,this.#d();const m=new Range;let v=Math.sumPrecise(f.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const A=b.nodeValue.length;if(v<=A){m.setStart(b,v),m.setEnd(b,v);break}v-=A}l.removeAllRanges(),l.addRange(m)}#d(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#u(){return this.#e.replaceAll(""," ")}static#f(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(t,e,i){let r=null;if(t instanceof $S){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:d,rotation:f,id:p,popupRef:m},textContent:v,textPosition:b,parent:{page:{pageNumber:A}}}=t;if(!v||v.length===0)return null;r=t={annotationType:bt.FREETEXT,color:Array.from(u),fontSize:c,value:v.join(`
`),position:b,pageIndex:A-1,rect:d.slice(0),rotation:f,id:p,deleted:!1,popupRef:m}}const l=await super.deserialize(t,e,i);return l.#a=t.fontSize,l.#t=lt.makeHexColor(...t.color),l.#e=Se.#f(t.value),l.annotationElementId=t.id||null,l._initialData=r,l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=Se._internalPadding*this.parentScale,i=this.getRect(e,e),r=ut._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),l={annotationType:bt.FREETEXT,color:r,fontSize:this.#a,value:this.#u(),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(l.isCopy=!0,l):this.annotationElementId&&!this.#r(l)?null:(l.id=this.annotationElementId,l)}#r(t){const{value:e,fontSize:i,color:r,pageIndex:l}=this._initialData;return this._hasBeenMoved||t.value!==e||t.fontSize!==i||t.color.some((c,u)=>c!==r[u])||t.pageIndex!==l}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:i}=e;i.fontSize=`calc(${this.#a}px * var(--total-scale-factor))`,i.color=this.#t,e.replaceChildren();for(const l of this.#e.split(`
`)){const c=document.createElement("div");c.append(l?document.createTextNode(l):document.createElement("br")),e.append(c)}const r=Se._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:this.#e}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class et{static PRECISION=1e-4;toSVGPath(){zt("Abstract method `toSVGPath` must be implemented.")}get box(){zt("Abstract getter `box` must be implemented.")}serialize(t,e){zt("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,r,l,c){c||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)c[u]=e+t[u]*r,c[u+1]=i+t[u+1]*l;return c}static _rescaleAndSwap(t,e,i,r,l,c){c||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)c[u]=e+t[u+1]*r,c[u+1]=i+t[u]*l;return c}static _translate(t,e,i,r){r||=new Float32Array(t.length);for(let l=0,c=t.length;l<c;l+=2)r[l]=e+t[l],r[l+1]=i+t[l+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,r,l){switch(l){case 90:return[1-e/i,t/r];case 180:return[1-t/i,1-e/r];case 270:return[e/i,1-t/r];default:return[t/i,e/r]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,r,l,c){return[(t+5*i)/6,(e+5*r)/6,(5*i+l)/6,(5*r+c)/6,(i+l)/2,(r+c)/2]}}class Rs{#t;#e=[];#n;#i;#a=[];#s=new Float32Array(18);#l;#o;#h;#c;#d;#u;#f=[];static#r=8;static#p=2;static#m=Rs.#r+Rs.#p;constructor({x:t,y:e},i,r,l,c,u=0){this.#t=i,this.#u=l*r,this.#i=c,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#n=u,this.#c=Rs.#r*r,this.#h=Rs.#m*r,this.#d=r,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#g(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[i,r,l,c]=this.#t;return[(this.#l+(t[0]-e[0])/2-i)/l,(this.#o+(t[1]-e[1])/2-r)/c,(this.#l+(e[0]-t[0])/2-i)/l,(this.#o+(e[1]-t[1])/2-r)/c]}add({x:t,y:e}){this.#l=t,this.#o=e;const[i,r,l,c]=this.#t;let[u,d,f,p]=this.#s.subarray(8,12);const m=t-f,v=e-p,b=Math.hypot(m,v);if(b<this.#h)return!1;const A=b-this.#c,S=A/b,T=S*m,E=S*v;let R=u,_=d;u=f,d=p,f+=T,p+=E,this.#f?.push(t,e);const L=-E/A,C=T/A,k=L*this.#u,I=C*this.#u;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([f+k,p+I],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([f-k,p-I],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([u+k,d+I],2),this.#a.push(NaN,NaN,NaN,NaN,(u+k-i)/l,(d+I-r)/c),this.#s.set([u-k,d-I],14),this.#e.push(NaN,NaN,NaN,NaN,(u-k-i)/l,(d-I-r)/c)),this.#s.set([R,_,u,d,f,p],6),!this.isEmpty()):(this.#s.set([R,_,u,d,f,p],6),Math.abs(Math.atan2(_-d,R-u)-Math.atan2(E,T))<Math.PI/2?([u,d,f,p]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((u+f)/2-i)/l,((d+p)/2-r)/c),[u,d,R,_]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((R+u)/2-i)/l,((_+d)/2-r)/c),!0):([R,_,u,d,f,p]=this.#s.subarray(0,6),this.#a.push(((R+5*u)/6-i)/l,((_+5*d)/6-r)/c,((5*u+f)/6-i)/l,((5*d+p)/6-r)/c,((u+f)/2-i)/l,((d+p)/2-r)/c),[f,p,u,d,R,_]=this.#s.subarray(12,18),this.#e.push(((R+5*u)/6-i)/l,((_+5*d)/6-r)/c,((5*u+f)/6-i)/l,((5*d+p)/6-r)/c,((u+f)/2-i)/l,((d+p)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const i=[];i.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#b(i);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#v(i),i.join(" ")}#y(){const[t,e,i,r]=this.#t,[l,c,u,d]=this.#g();return`M${(this.#s[2]-t)/i} ${(this.#s[3]-e)/r} L${(this.#s[4]-t)/i} ${(this.#s[5]-e)/r} L${l} ${c} L${u} ${d} L${(this.#s[16]-t)/i} ${(this.#s[17]-e)/r} L${(this.#s[14]-t)/i} ${(this.#s[15]-e)/r} Z`}#v(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#b(t){const[e,i,r,l]=this.#t,c=this.#s.subarray(4,6),u=this.#s.subarray(16,18),[d,f,p,m]=this.#g();t.push(`L${(c[0]-e)/r} ${(c[1]-i)/l} L${d} ${f} L${p} ${m} L${(u[0]-e)/r} ${(u[1]-i)/l}`)}newFreeDrawOutline(t,e,i,r,l,c){return new JS(t,e,i,r,l,c)}getOutlines(){const t=this.#a,e=this.#e,i=this.#s,[r,l,c,u]=this.#t,d=new Float32Array((this.#f?.length??0)+2);for(let m=0,v=d.length-2;m<v;m+=2)d[m]=(this.#f[m]-r)/c,d[m+1]=(this.#f[m+1]-l)/u;if(d[d.length-2]=(this.#l-r)/c,d[d.length-1]=(this.#o-l)/u,isNaN(i[6])&&!this.isEmpty())return this.#S(d);const f=new Float32Array(this.#a.length+24+this.#e.length);let p=t.length;for(let m=0;m<p;m+=2){if(isNaN(t[m])){f[m]=f[m+1]=NaN;continue}f[m]=t[m],f[m+1]=t[m+1]}p=this.#x(f,p);for(let m=e.length-6;m>=6;m-=6)for(let v=0;v<6;v+=2){if(isNaN(e[m+v])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=e[m+v],f[p+1]=e[m+v+1],p+=2}return this.#E(f,p),this.newFreeDrawOutline(f,d,this.#t,this.#d,this.#n,this.#i)}#S(t){const e=this.#s,[i,r,l,c]=this.#t,[u,d,f,p]=this.#g(),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(e[2]-i)/l,(e[3]-r)/c,NaN,NaN,NaN,NaN,(e[4]-i)/l,(e[5]-r)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(e[16]-i)/l,(e[17]-r)/c,NaN,NaN,NaN,NaN,(e[14]-i)/l,(e[15]-r)/c],0),this.newFreeDrawOutline(m,t,this.#t,this.#d,this.#n,this.#i)}#E(t,e){const i=this.#e;return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6}#x(t,e){const i=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[l,c,u,d]=this.#t,[f,p,m,v]=this.#g();return t.set([NaN,NaN,NaN,NaN,(i[0]-l)/u,(i[1]-c)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,m,v,NaN,NaN,NaN,NaN,(r[0]-l)/u,(r[1]-c)/d],e),e+=24}}class JS extends et{#t;#e=new Float32Array(4);#n;#i;#a;#s;#l;constructor(t,e,i,r,l,c){super(),this.#l=t,this.#a=e,this.#t=i,this.#s=r,this.#n=l,this.#i=c,this.lastPoint=[NaN,NaN],this.#o(c);const[u,d,f,p]=this.#e;for(let m=0,v=t.length;m<v;m+=2)t[m]=(t[m]-u)/f,t[m+1]=(t[m+1]-d)/p;for(let m=0,v=e.length;m<v;m+=2)e[m]=(e[m]-u)/f,e[m+1]=(e[m+1]-d)/p}toSVGPath(){const t=[`M${this.#l[4]} ${this.#l[5]}`];for(let e=6,i=this.#l.length;e<i;e+=6){if(isNaN(this.#l[e])){t.push(`L${this.#l[e+4]} ${this.#l[e+5]}`);continue}t.push(`C${this.#l[e]} ${this.#l[e+1]} ${this.#l[e+2]} ${this.#l[e+3]} ${this.#l[e+4]} ${this.#l[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,i,r],l){const c=i-t,u=r-e;let d,f;switch(l){case 0:d=et._rescale(this.#l,t,r,c,-u),f=et._rescale(this.#a,t,r,c,-u);break;case 90:d=et._rescaleAndSwap(this.#l,t,e,c,u),f=et._rescaleAndSwap(this.#a,t,e,c,u);break;case 180:d=et._rescale(this.#l,i,e,-c,u),f=et._rescale(this.#a,i,e,-c,u);break;case 270:d=et._rescaleAndSwap(this.#l,i,r,-c,-u),f=et._rescaleAndSwap(this.#a,i,r,-c,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}#o(t){const e=this.#l;let i=e[4],r=e[5];const l=[i,r,i,r];let c=i,u=r;const d=t?Math.max:Math.min;for(let p=6,m=e.length;p<m;p+=6){const v=e[p+4],b=e[p+5];if(isNaN(e[p]))lt.pointBoundingBox(v,b,l),u<b?(c=v,u=b):u===b&&(c=d(c,v));else{const A=[1/0,1/0,-1/0,-1/0];lt.bezierBoundingBox(i,r,...e.slice(p,p+6),A),lt.rectBoundingBox(...A,l),u<A[3]?(c=A[2],u=A[3]):u===A[3]&&(c=d(c,A[2]))}i=v,r=b}const f=this.#e;f[0]=l[0]-this.#n,f[1]=l[1]-this.#n,f[2]=l[2]-l[0]+2*this.#n,f[3]=l[3]-l[1]+2*this.#n,this.lastPoint=[c,u]}get box(){return this.#e}newOutliner(t,e,i,r,l,c=0){return new Rs(t,e,i,r,l,c)}getNewOutline(t,e){const[i,r,l,c]=this.#e,[u,d,f,p]=this.#t,m=l*f,v=c*p,b=i*f+u,A=r*p+d,S=this.newOutliner({x:this.#a[0]*m+b,y:this.#a[1]*v+A},this.#t,this.#s,t,this.#i,e??this.#n);for(let T=2;T<this.#a.length;T+=2)S.add({x:this.#a[T]*m+b,y:this.#a[T+1]*v+A});return S.getOutlines()}}class gf{#t;#e;#n=[];#i=[];constructor(t,e=0,i=0,r=!0){const l=[1/0,1/0,-1/0,-1/0],c=10**-4;for(const{x:b,y:A,width:S,height:T}of t){const E=Math.floor((b-e)/c)*c,R=Math.ceil((b+S+e)/c)*c,_=Math.floor((A-e)/c)*c,L=Math.ceil((A+T+e)/c)*c,C=[E,_,L,!0],k=[R,_,L,!1];this.#n.push(C,k),lt.rectBoundingBox(E,_,R,L,l)}const u=l[2]-l[0]+2*i,d=l[3]-l[1]+2*i,f=l[0]-i,p=l[1]-i,m=this.#n.at(r?-1:-2),v=[m[0],m[2]];for(const b of this.#n){const[A,S,T]=b;b[0]=(A-f)/u,b[1]=(S-p)/d,b[2]=(T-p)/d}this.#t=new Float32Array([f,p,u,d]),this.#e=v}getOutlines(){this.#n.sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#h(e)),this.#l(e)):(this.#o(e),t.push(...this.#h(e)));return this.#a(t)}#a(t){const e=[],i=new Set;for(const c of t){const[u,d,f]=c;e.push([u,d,c],[u,f,c])}e.sort((c,u)=>c[1]-u[1]||c[0]-u[0]);for(let c=0,u=e.length;c<u;c+=2){const d=e[c][2],f=e[c+1][2];d.push(f),f.push(d),i.add(d),i.add(f)}const r=[];let l;for(;i.size>0;){const c=i.values().next().value;let[u,d,f,p,m]=c;i.delete(c);let v=u,b=d;for(l=[u,f],r.push(l);;){let A;if(i.has(p))A=p;else if(i.has(m))A=m;else break;i.delete(A),[u,d,f,p,m]=A,v!==u&&(l.push(v,b,u,b===d?d:f),v=u),b=b===d?f:d}l.push(v,b)}return new DL(r,this.#t,this.#e)}#s(t){const e=this.#i;let i=0,r=e.length-1;for(;i<=r;){const l=i+r>>1,c=e[l][0];if(c===t)return l;c<t?i=l+1:r=l-1}return r+1}#l([,t,e]){const i=this.#s(t);this.#i.splice(i,0,[t,e])}#o([,t,e]){const i=this.#s(t);for(let r=i;r<this.#i.length;r++){const[l,c]=this.#i[r];if(l!==t)break;if(l===t&&c===e){this.#i.splice(r,1);return}}for(let r=i-1;r>=0;r--){const[l,c]=this.#i[r];if(l!==t)break;if(l===t&&c===e){this.#i.splice(r,1);return}}}#h(t){const[e,i,r]=t,l=[[e,i,r]],c=this.#s(r);for(let u=0;u<c;u++){const[d,f]=this.#i[u];for(let p=0,m=l.length;p<m;p++){const[,v,b]=l[p];if(!(f<=v||b<=d)){if(v>=d){if(b>f)l[p][1]=f;else{if(m===1)return[];l.splice(p,1),p--,m--}continue}l[p][2]=d,b>f&&l.push([e,f,b])}}}return l}}class DL extends et{#t;#e;constructor(t,e,i){super(),this.#e=t,this.#t=e,this.lastPoint=i}toSVGPath(){const t=[];for(const e of this.#e){let[i,r]=e;t.push(`M${i} ${r}`);for(let l=2;l<e.length;l+=2){const c=e[l],u=e[l+1];c===i?(t.push(`V${u}`),r=u):u===r&&(t.push(`H${c}`),i=c)}t.push("Z")}return t.join(" ")}serialize([t,e,i,r],l){const c=[],u=i-t,d=r-e;for(const f of this.#e){const p=new Array(f.length);for(let m=0;m<f.length;m+=2)p[m]=t+f[m]*u,p[m+1]=r-f[m+1]*d;c.push(p)}return c}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class mf extends Rs{newFreeDrawOutline(t,e,i,r,l,c){return new LL(t,e,i,r,l,c)}}class LL extends JS{newOutliner(t,e,i,r,l,c=0){return new mf(t,e,i,r,l,c)}}class dn{#t=null;#e=null;#n;#i=null;#a=!1;#s=!1;#l=null;#o;#h=null;#c=null;#d;static#u=null;static get _keyboardManager(){return Ct(this,"_keyboardManager",new Bo([[["Escape","mac+Escape"],dn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],dn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],dn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],dn.prototype._moveToPrevious],[["Home","mac+Home"],dn.prototype._moveToBeginning],[["End","mac+End"],dn.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#d=Rt.HIGHLIGHT_COLOR,this.#l=t):(this.#s=!0,this.#d=Rt.HIGHLIGHT_DEFAULT_COLOR),this.#c=t?._uiManager||e,this.#o=this.#c._eventBus,this.#n=t?.color||this.#c?.highlightColors.values().next().value||"#FFFF98",dn.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=this.#c._signal;t.addEventListener("click",this.#m.bind(this),{signal:e}),t.addEventListener("keydown",this.#p.bind(this),{signal:e});const i=this.#e=document.createElement("span");return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=this.#n,t.append(i),t}renderMainDropdown(){const t=this.#i=this.#f();return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}#f(){const t=document.createElement("div"),e=this.#c._signal;t.addEventListener("contextmenu",Rn,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,r]of this.#c.highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",r),l.title=i,l.setAttribute("data-l10n-id",dn.#u[i]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=r,l.setAttribute("aria-selected",r===this.#n),l.addEventListener("click",this.#r.bind(this,r),{signal:e}),t.append(l)}return t.addEventListener("keydown",this.#p.bind(this),{signal:e}),t}#r(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:this.#d,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#m(t);return}const e=t.target.getAttribute("data-color");e&&this.#r(e,t)}_moveToNext(t){if(!this.#y){this.#m(t);return}if(t.target===this.#t){this.#i.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#i?.firstChild||t.target===this.#t){this.#y&&this._hideDropdownFromKeyboard();return}this.#y||this.#m(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#y){this.#m(t);return}this.#i.firstChild?.focus()}_moveToEnd(t){if(!this.#y){this.#m(t);return}this.#i.lastChild?.focus()}#p(t){dn._keyboardManager.exec(this,t)}#m(t){if(this.#y){this.hideDropdown();return}if(this.#a=t.detail===0,this.#h||(this.#h=new AbortController,window.addEventListener("pointerdown",this.#g.bind(this),{signal:this.#c.combinedSignal(this.#h)})),this.#i){this.#i.classList.remove("hidden");return}const e=this.#i=this.#f();this.#t.append(e)}#g(t){this.#i?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#h?.abort(),this.#h=null}get#y(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#y){this.#l?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#i)return;const e=this.#c.highlightColors.values();for(const i of this.#i.children)i.setAttribute("aria-selected",e.next().value===t)}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#i?.remove(),this.#i=null}}class ae extends ut{#t=null;#e=0;#n;#i=null;#a=null;#s=null;#l=null;#o=0;#h=null;#c=null;#d=null;#u=!1;#f=null;#r;#p=null;#m="";#g;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=bt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=ae.prototype;return Ct(this,"_keyboardManager",new Bo([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||ae._defaultColor,this.#g=t.thickness||ae._defaultThickness,this.#r=t.opacity||ae._defaultOpacity,this.#n=t.boxes||null,this.#y=t.methodOfCreation||"",this.#m=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#u=!0,this.#b(t),this.#M()):this.#n&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#l=t.focusNode,this.#o=t.focusOffset,this.#v(),this.#M(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#g,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#v(){const t=new gf(this.#n,.001);this.#c=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#c.box;const e=new gf(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{lastPoint:i}=this.#s;this.#f=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#b({highlightOutlines:t,highlightId:e,clipPathId:i}){this.#c=t;const r=1.5;if(this.#s=t.getNewOutline(this.#g/2+r,.0025),e>=0)this.#d=e,this.#i=i,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:ae.#w(this.#c.box,(p-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:ae.#w(this.#s.box,p),path:{d:this.#s.toSVGPath()}})}const[l,c,u,d]=t.box;switch(this.rotation){case 0:this.x=l,this.y=c,this.width=u,this.height=d;break;case 90:{const[p,m]=this.parentDimensions;this.x=c,this.y=1-l,this.width=u*m/p,this.height=d*p/m;break}case 180:this.x=1-l,this.y=1-c,this.width=u,this.height=d;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-c,this.y=l,this.width=u*m/p,this.height=d*p/m;break}}const{lastPoint:f}=this.#s;this.#f=[(f[0]-l)/u,(f[1]-c)/d]}static initialize(t,e){ut.initialize(t,e),ae._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Rt.HIGHLIGHT_DEFAULT_COLOR:ae._defaultColor=e;break;case Rt.HIGHLIGHT_THICKNESS:ae._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#f}updateParams(t,e){switch(t){case Rt.HIGHLIGHT_COLOR:this.#S(e);break;case Rt.HIGHLIGHT_THICKNESS:this.#E(e);break}}static get defaultPropertiesToUpdate(){return[[Rt.HIGHLIGHT_DEFAULT_COLOR,ae._defaultColor],[Rt.HIGHLIGHT_THICKNESS,ae._defaultThickness]]}get propertiesToUpdate(){return[[Rt.HIGHLIGHT_COLOR,this.color||ae._defaultColor],[Rt.HIGHLIGHT_THICKNESS,this.#g||ae._defaultThickness],[Rt.HIGHLIGHT_FREE,this.#u]]}#S(t){const e=(l,c)=>{this.color=l,this.#r=c,this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:l,"fill-opacity":c}}),this.#a?.updateColor(l)},i=this.color,r=this.#r;this.addCommands({cmd:e.bind(this,t,ae._defaultOpacity),undo:e.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Rt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#E(t){const e=this.#g,i=r=>{this.#g=r,this.#x(r)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Rt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(this.#a=new dn({editor:this}),t.addColorPicker(this.#a)),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#L())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#L())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#M(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#C():t&&(this.#M(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#x(t){if(!this.#u)return;this.#b({highlightOutlines:this.#c.getNewOutline(t/2)}),this.fixAndSetPosition();const[e,i]=this.parentDimensions;this.setDims(this.width*e,this.height*i)}#C(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#M(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#i}=t.drawLayer.draw({bbox:this.#c.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#r},rootClass:{highlight:!0,free:this.#u},path:{d:this.#c.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#u),this.#h&&(this.#h.style.clipPath=this.#i))}static#w([t,e,i,r],l){switch(l){case 90:return[1-e-r,t,r,i];case 180:return[1-t-i,1-e-r,i,r];case 270:return[e,1-t-i,r,i]}return[t,e,i,r]}rotate(t){const{drawLayer:e}=this.parent;let i;this.#u?(t=(t-this.rotation+360)%360,i=ae.#w(this.#c.box,t)):i=ae.#w([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:i,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:ae.#w(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#m&&(t.setAttribute("aria-label",this.#m),t.setAttribute("role","mark")),this.#u?t.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const e=this.#h=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#i;const[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),_S(this,this.#h,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#R(t){ae._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#_(!0);break;case 1:case 3:this.#_(!1);break}}#_(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#l,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#u||this.#_(!1))}get _mustFixPosition(){return!this.#u}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#L(){return this.#u?this.rotation:0}#O(){if(this.#u)return null;const[t,e]=this.pageDimensions,[i,r]=this.pageTranslation,l=this.#n,c=new Float32Array(l.length*8);let u=0;for(const{x:d,y:f,width:p,height:m}of l){const v=d*t+i,b=(1-f)*e+r;c[u]=c[u+4]=v,c[u+1]=c[u+3]=b,c[u+2]=c[u+6]=v+p*t,c[u+5]=c[u+7]=b-m*e,u+=8}return c}#P(t){return this.#c.serialize(t,this.#L())}static startHighlighting(t,e,{target:i,x:r,y:l}){const{x:c,y:u,width:d,height:f}=i.getBoundingClientRect(),p=new AbortController,m=t.combinedSignal(p),v=b=>{p.abort(),this.#T(t,b)};window.addEventListener("blur",v,{signal:m}),window.addEventListener("pointerup",v,{signal:m}),window.addEventListener("pointerdown",oe,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Rn,{signal:m}),i.addEventListener("pointermove",this.#z.bind(this,t),{signal:m}),this._freeHighlight=new mf({x:r,y:l},[c,u,d,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#z(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#T(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,i){let r=null;if(t instanceof WS){const{data:{quadPoints:A,rect:S,rotation:T,id:E,color:R,opacity:_,popupRef:L},parent:{page:{pageNumber:C}}}=t;r=t={annotationType:bt.HIGHLIGHT,color:Array.from(R),opacity:_,quadPoints:A,boxes:null,pageIndex:C-1,rect:S.slice(0),rotation:T,id:E,deleted:!1,popupRef:L}}else if(t instanceof Ep){const{data:{inkLists:A,rect:S,rotation:T,id:E,color:R,borderStyle:{rawWidth:_},popupRef:L},parent:{page:{pageNumber:C}}}=t;r=t={annotationType:bt.HIGHLIGHT,color:Array.from(R),thickness:_,inkLists:A,boxes:null,pageIndex:C-1,rect:S.slice(0),rotation:T,id:E,deleted:!1,popupRef:L}}const{color:l,quadPoints:c,inkLists:u,opacity:d}=t,f=await super.deserialize(t,e,i);f.color=lt.makeHexColor(...l),f.#r=d||1,u&&(f.#g=t.thickness),f.annotationElementId=t.id||null,f._initialData=r;const[p,m]=f.pageDimensions,[v,b]=f.pageTranslation;if(c){const A=f.#n=[];for(let S=0;S<c.length;S+=8)A.push({x:(c[S]-v)/p,y:1-(c[S+1]-b)/m,width:(c[S+2]-c[S])/p,height:(c[S+1]-c[S+5])/m});f.#v(),f.#M(),f.rotate(f.rotation)}else if(u){f.#u=!0;const A=u[0],S={x:A[0]-v,y:m-(A[1]-b)},T=new mf(S,[0,0,p,m],1,f.#g/2,!0,.001);for(let _=0,L=A.length;_<L;_+=2)S.x=A[_]-v,S.y=m-(A[_+1]-b),T.add(S);const{id:E,clipPathId:R}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:T.toSVGPath()}},!0,!0);f.#b({highlightOutlines:T.getOutlines(),highlightId:E,clipPathId:R}),f.#M(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=this.getRect(0,0),i=ut._colorManager.convert(this.color),r={annotationType:bt.HIGHLIGHT,color:i,opacity:this.#r,thickness:this.#g,quadPoints:this.#O(),outlines:this.#P(e),pageIndex:this.pageIndex,rect:e,rotation:this.#L(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#A(r)?null:(r.id=this.annotationElementId,r)}#A(t){const{color:e}=this._initialData;return t.color.some((i,r)=>i!==e[r])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class tw{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){zt("Not implemented")}}class ft extends ut{#t=null;#e;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#i=null;static#a=null;static#s=NaN;static#l=null;static#o=null;static#h=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(this.#c(t),this.#f())}#c({drawOutlines:t,drawId:e,drawingOptions:i}){this.#t=t,this._drawingOptions||=i,e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#m(t.box)}#d(t,e){const{id:i}=e.drawLayer.draw(ft._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i}static _mergeSVGProperties(t,e){const i=new Set(Object.keys(t));for(const[r,l]of Object.entries(e))i.has(r)?Object.assign(t[r],l):t[r]=l;return t}static getDefaultDrawingOptions(t){zt("Not implemented")}static get typesMap(){zt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,e),this._currentParent&&(ft.#n.updateProperty(i,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[i,r]of this.typesMap)t.push([i,e[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[i,r]of this.constructor.typesMap)t.push([i,e[r]]);return t}_updateProperty(t,e,i){const r=this._drawingOptions,l=r[e],c=u=>{r.updateProperty(e,u);const d=this.#t.updateProperty(e,u);d&&this.#m(d),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties())};this.addCommands({cmd:c.bind(this,i),undo:c.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,ft._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,ft._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#g()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,ft._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#m(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#u()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#r([t,e,i,r]){const{parentDimensions:[l,c],rotation:u}=this;switch(u){case 90:return[e,1-t,i*(c/l),r*(l/c)];case 180:return[1-t,1-e,i,r];case 270:return[1-e,t,i*(c/l),r*(l/c)];default:return[t,e,i,r]}}#p(){const{x:t,y:e,width:i,height:r,parentDimensions:[l,c],rotation:u}=this;switch(u){case 90:return[1-e,t,i*(l/c),r*(c/l)];case 180:return[1-t,1-e,i,r];case 270:return[e,1-t,i*(l/c),r*(c/l)];default:return[t,e,i,r]}}#m(t){if([this.x,this.y,this.width,this.height]=this.#r(t),this.div){this.fixAndSetPosition();const[e,i]=this.parentDimensions;this.setDims(this.width*e,this.height*i)}this._onResized()}#g(){const{x:t,y:e,width:i,height:r,rotation:l,parentRotation:c,parentDimensions:[u,d]}=this;switch((l*4+c)/90){case 1:return[1-e-r,t,r,i];case 2:return[1-t-i,1-e-r,i,r];case 3:return[e,1-t-i,r,i];case 4:return[t,e-i*(u/d),r*(d/u),i*(u/d)];case 5:return[1-e,t,i*(u/d),r*(d/u)];case 6:return[1-t-r*(d/u),1-e,r*(d/u),i*(u/d)];case 7:return[e-i*(u/d),1-t-r*(d/u),i*(u/d),r*(d/u)];case 8:return[t-i,e-r,i,r];case 9:return[1-e,t-i,r,i];case 10:return[1-t,1-e,i,r];case 11:return[e-r,1-t,r,i];case 12:return[t-r*(d/u),e,r*(d/u),i*(u/d)];case 13:return[1-e-i*(u/d),t-r*(d/u),i*(u/d),r*(d/u)];case 14:return[1-t,1-e-i*(u/d),r*(d/u),i*(u/d)];case 15:return[e,1-t,i*(u/d),r*(d/u)];default:return[t,e,i,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,ft._mergeSVGProperties({bbox:this.#g()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#m(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const i=super.render();i.classList.add("draw");const r=document.createElement("div");i.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[l,c]=this.parentDimensions;return this.setDims(this.width*l,this.height*c),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),i}static createDrawerInstance(t,e,i,r,l){zt("Not implemented")}static startDrawing(t,e,i,r){const{target:l,offsetX:c,offsetY:u,pointerId:d,pointerType:f}=r;if(ft.#l&&ft.#l!==f)return;const{viewport:{rotation:p}}=t,{width:m,height:v}=l.getBoundingClientRect(),b=ft.#i=new AbortController,A=t.combinedSignal(b);if(ft.#s||=d,ft.#l??=f,window.addEventListener("pointerup",S=>{ft.#s===S.pointerId?this._endDraw(S):ft.#o?.delete(S.pointerId)},{signal:A}),window.addEventListener("pointercancel",S=>{ft.#s===S.pointerId?this._currentParent.endDrawingSession():ft.#o?.delete(S.pointerId)},{signal:A}),window.addEventListener("pointerdown",S=>{ft.#l===S.pointerType&&((ft.#o||=new Set).add(S.pointerId),ft.#n.isCancellable()&&(ft.#n.removeLastElement(),ft.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:A}),window.addEventListener("contextmenu",Rn,{signal:A}),l.addEventListener("pointermove",this._drawMove.bind(this),{signal:A}),l.addEventListener("touchmove",S=>{S.timeStamp===ft.#h&&oe(S)},{signal:A}),t.toggleDrawing(),e._editorUndoBar?.hide(),ft.#n){t.drawLayer.updateProperties(this._currentDrawId,ft.#n.startNew(c,u,m,v,p));return}e.updateUIForDefaultProperties(this),ft.#n=this.createDrawerInstance(c,u,m,v,p),ft.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(ft.#a.toSVGProperties(),ft.#n.defaultSVGProperties),!0,!1)}static _drawMove(t){if(ft.#h=-1,!ft.#n)return;const{offsetX:e,offsetY:i,pointerId:r}=t;if(ft.#s===r){if(ft.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,ft.#n.add(e,i)),ft.#h=t.timeStamp,oe(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,ft.#n=null,ft.#a=null,ft.#l=null,ft.#h=NaN),ft.#i&&(ft.#i.abort(),ft.#i=null,ft.#s=NaN,ft.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,ft.#n.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=ft.#n,r=this._currentDrawId,l=i.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(r,i.setLastElement(l))},undo:()=>{e.drawLayer.updateProperties(r,i.removeLastElement())},mustExec:!1,type:Rt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(Rt.DRAW_STEP),!ft.#n.isEmpty()){const{pageDimensions:[i,r],scale:l}=e,c=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:ft.#n.getOutlines(i*l,r*l,l,this._INNER_MARGIN),drawingOptions:ft.#a,mustBeCommitted:!t});return this._cleanup(!0),c}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,i,r,l,c){zt("Not implemented")}static async deserialize(t,e,i){const{rawDims:{pageWidth:r,pageHeight:l,pageX:c,pageY:u}}=e.viewport,d=this.deserializeDraw(c,u,r,l,this._INNER_MARGIN,t),f=await super.deserialize(t,e,i);return f.createDrawingOptions(t),f.#c({drawOutlines:d}),f.#f(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,i]=this.pageTranslation,[r,l]=this.pageDimensions;return this.#t.serialize([e,i,r,l],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class OL{#t=new Float64Array(6);#e;#n;#i;#a;#s;#l="";#o=0;#h=new Uo;#c;#d;constructor(t,e,i,r,l,c){this.#c=i,this.#d=r,this.#i=l,this.#a=c,[t,e]=this.#u(t,e);const u=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#n=[{line:u,points:this.#s}],this.#t.set(u,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#u(t,e){return et._normalizePoint(t,e,this.#c,this.#d,this.#i)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#u(t,e);const[i,r,l,c]=this.#t.subarray(2,6),u=t-l,d=e-c;return Math.hypot(this.#c*u,this.#d*d)<=2?null:(this.#s.push(t,e),isNaN(i)?(this.#t.set([l,c,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([i,r,l,c,t,e],0),this.#e.push(...et.createBezierPoints(i,r,l,c,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,r,l){this.#c=i,this.#d=r,this.#i=l,[t,e]=this.#u(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const u=this.#n.at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),this.#n.push({line:c,points:this.#s}),this.#t.set(c,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(t){return this.#n?(this.#n.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#h.setLastElement(t)}removeLastElement(){if(!this.#n)return this.#h.removeLastElement();this.#n.pop(),this.#l="";for(let t=0,e=this.#n.length;t<e;t++){const{line:i,points:r}=this.#n[t];this.#e=i,this.#s=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#l}}}toSVGPath(){const t=et.svgRound(this.#e[4]),e=et.svgRound(this.#e[5]);if(this.#s.length===2)return this.#l=`${this.#l} M ${t} ${e} Z`,this.#l;if(this.#s.length<=6){const r=this.#l.lastIndexOf("M");this.#l=`${this.#l.slice(0,r)} M ${t} ${e}`,this.#o=6}if(this.#s.length===4){const r=et.svgRound(this.#e[10]),l=et.svgRound(this.#e[11]);return this.#l=`${this.#l} L ${r} ${l}`,this.#o=12,this.#l}const i=[];this.#o===0&&(i.push(`M ${t} ${e}`),this.#o=6);for(let r=this.#o,l=this.#e.length;r<l;r+=6){const[c,u,d,f,p,m]=this.#e.slice(r,r+6).map(et.svgRound);i.push(`C${c} ${u} ${d} ${f} ${p} ${m}`)}return this.#l+=i.join(" "),this.#o=this.#e.length,this.#l}getOutlines(t,e,i,r){const l=this.#n.at(-1);return l.line=new Float32Array(l.line),l.points=new Float32Array(l.points),this.#h.build(this.#n,t,e,i,this.#i,this.#a,r),this.#t=null,this.#e=null,this.#n=null,this.#l=null,this.#h}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Uo extends et{#t;#e=0;#n;#i;#a;#s;#l;#o;#h;build(t,e,i,r,l,c,u){this.#a=e,this.#s=i,this.#l=r,this.#o=l,this.#h=c,this.#n=u??0,this.#i=t,this.#u()}get thickness(){return this.#h}setLastElement(t){return this.#i.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#i.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#i){if(t.push(`M${et.svgRound(e[4])} ${et.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${et.svgRound(e[10])} ${et.svgRound(e[11])}`);continue}for(let i=6,r=e.length;i<r;i+=6){const[l,c,u,d,f,p]=e.subarray(i,i+6).map(et.svgRound);t.push(`C${l} ${c} ${u} ${d} ${f} ${p}`)}}return t.join("")}serialize([t,e,i,r],l){const c=[],u=[],[d,f,p,m]=this.#d();let v,b,A,S,T,E,R,_,L;switch(this.#o){case 0:L=et._rescale,v=t,b=e+r,A=i,S=-r,T=t+d*i,E=e+(1-f-m)*r,R=t+(d+p)*i,_=e+(1-f)*r;break;case 90:L=et._rescaleAndSwap,v=t,b=e,A=i,S=r,T=t+f*i,E=e+d*r,R=t+(f+m)*i,_=e+(d+p)*r;break;case 180:L=et._rescale,v=t+i,b=e,A=-i,S=r,T=t+(1-d-p)*i,E=e+f*r,R=t+(1-d)*i,_=e+(f+m)*r;break;case 270:L=et._rescaleAndSwap,v=t+i,b=e+r,A=-i,S=-r,T=t+(1-f-m)*i,E=e+(1-d-p)*r,R=t+(1-f)*i,_=e+(1-d)*r;break}for(const{line:C,points:k}of this.#i)c.push(L(C,v,b,A,S,l?new Array(C.length):null)),u.push(L(k,v,b,A,S,l?new Array(k.length):null));return{lines:c,points:u,rect:[T,E,R,_]}}static deserialize(t,e,i,r,l,{paths:{lines:c,points:u},rotation:d,thickness:f}){const p=[];let m,v,b,A,S;switch(d){case 0:S=et._rescale,m=-t/i,v=e/r+1,b=1/i,A=-1/r;break;case 90:S=et._rescaleAndSwap,m=-e/r,v=-t/i,b=1/r,A=1/i;break;case 180:S=et._rescale,m=t/i+1,v=-e/r,b=-1/i,A=1/r;break;case 270:S=et._rescaleAndSwap,m=e/r+1,v=t/i+1,b=-1/r,A=-1/i;break}if(!c){c=[];for(const E of u){const R=E.length;if(R===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1]]));continue}if(R===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1],NaN,NaN,NaN,NaN,E[2],E[3]]));continue}const _=new Float32Array(3*(R-2));c.push(_);let[L,C,k,I]=E.subarray(0,4);_.set([NaN,NaN,NaN,NaN,L,C],0);for(let U=4;U<R;U+=2){const G=E[U],W=E[U+1];_.set(et.createBezierPoints(L,C,k,I,G,W),(U-2)*3),[L,C,k,I]=[k,I,G,W]}}}for(let E=0,R=c.length;E<R;E++)p.push({line:S(c[E].map(_=>_??NaN),m,v,b,A),points:S(u[E].map(_=>_??NaN),m,v,b,A)});const T=new this.prototype.constructor;return T.build(p,i,r,1,d,f,l),T}#c(t=this.#h){const e=this.#n+t/2*this.#l;return this.#o%180===0?[e/this.#a,e/this.#s]:[e/this.#s,e/this.#a]}#d(){const[t,e,i,r]=this.#t,[l,c]=this.#c(0);return[t+l,e+c,i-2*l,r-2*c]}#u(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#i){if(r.length<=12){for(let u=4,d=r.length;u<d;u+=6)lt.pointBoundingBox(r[u],r[u+1],t);continue}let l=r[4],c=r[5];for(let u=6,d=r.length;u<d;u+=6){const[f,p,m,v,b,A]=r.subarray(u,u+6);lt.bezierBoundingBox(l,c,f,p,m,v,b,A,t),l=b,c=A}}const[e,i]=this.#c();t[0]=Fe(t[0]-e,0,1),t[1]=Fe(t[1]-i,0,1),t[2]=Fe(t[2]+e,0,1),t[3]=Fe(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,i]=this.#c();this.#h=t;const[r,l]=this.#c(),[c,u]=[r-e,l-i],d=this.#t;return d[0]-=c,d[1]-=u,d[2]+=2*c,d[3]+=2*u,d}updateParentDimensions([t,e],i){const[r,l]=this.#c();this.#a=t,this.#s=e,this.#l=i;const[c,u]=this.#c(),d=c-r,f=u-l,p=this.#t;return p[0]-=d,p[1]-=f,p[2]+=2*d,p[3]+=2*f,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(et.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${et.svgRound(t)} ${et.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let i=0,r=0,l=0,c=0,u=0,d=0;switch(this.#e){case 90:r=e/t,l=-t/e,u=t;break;case 180:i=-1,c=-1,u=t,d=e;break;case 270:r=-e/t,l=t/e,d=e;break;default:return""}return`matrix(${i} ${r} ${l} ${c} ${et.svgRound(u)} ${et.svgRound(d)})`}getPathResizingSVGProperties([t,e,i,r]){const[l,c]=this.#c(),[u,d,f,p]=this.#t;if(Math.abs(f-l)<=et.PRECISION||Math.abs(p-c)<=et.PRECISION){const S=t+i/2-(u+f/2),T=e+r/2-(d+p/2);return{path:{"transform-origin":`${et.svgRound(t)} ${et.svgRound(e)}`,transform:`${this.rotationTransform} translate(${S} ${T})`}}}const m=(i-2*l)/(f-2*l),v=(r-2*c)/(p-2*c),b=f/i,A=p/r;return{path:{"transform-origin":`${et.svgRound(u)} ${et.svgRound(d)}`,transform:`${this.rotationTransform} scale(${b} ${A}) translate(${et.svgRound(l)} ${et.svgRound(c)}) scale(${m} ${v}) translate(${et.svgRound(-l)} ${et.svgRound(-c)})`}}}getPathResizedSVGProperties([t,e,i,r]){const[l,c]=this.#c(),u=this.#t,[d,f,p,m]=u;if(u[0]=t,u[1]=e,u[2]=i,u[3]=r,Math.abs(p-l)<=et.PRECISION||Math.abs(m-c)<=et.PRECISION){const T=t+i/2-(d+p/2),E=e+r/2-(f+m/2);for(const{line:R,points:_}of this.#i)et._translate(R,T,E,R),et._translate(_,T,E,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${et.svgRound(t)} ${et.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(i-2*l)/(p-2*l),b=(r-2*c)/(m-2*c),A=-v*(d+l)+t+l,S=-b*(f+c)+e+c;if(v!==1||b!==1||A!==0||S!==0)for(const{line:T,points:E}of this.#i)et._rescale(T,A,S,v,b,T),et._rescale(E,A,S,v,b,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${et.svgRound(t)} ${et.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],i){const[r,l]=i,c=this.#t,u=t-c[0],d=e-c[1];if(this.#a===r&&this.#s===l)for(const{line:f,points:p}of this.#i)et._translate(f,u,d,f),et._translate(p,u,d,p);else{const f=this.#a/r,p=this.#s/l;this.#a=r,this.#s=l;for(const{line:m,points:v}of this.#i)et._rescale(m,u,d,f,p,m),et._rescale(v,u,d,f,p,v);c[2]*=f,c[3]*=p}return c[0]=t,c[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${et.svgRound(t)} ${et.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${et.svgRound(t[0])} ${et.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class qc extends tw{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:ut._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new qc(this._viewParameters);return t.updateAll(this),t}}class xp extends ft{static _type="ink";static _editorType=bt.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){ut.initialize(t,e),this._defaultDrawingOptions=new qc(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ct(this,"typesMap",new Map([[Rt.INK_THICKNESS,"stroke-width"],[Rt.INK_COLOR,"stroke"],[Rt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,i,r,l){return new OL(t,e,i,r,l,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,i,r,l,c){return Uo.deserialize(t,e,i,r,l,c)}static async deserialize(t,e,i){let r=null;if(t instanceof Ep){const{data:{inkLists:c,rect:u,rotation:d,id:f,color:p,opacity:m,borderStyle:{rawWidth:v},popupRef:b},parent:{page:{pageNumber:A}}}=t;r=t={annotationType:bt.INK,color:Array.from(p),thickness:v,opacity:m,paths:{points:c},boxes:null,pageIndex:A-1,rect:u.slice(0),rotation:d,id:f,deleted:!1,popupRef:b}}const l=await super.deserialize(t,e,i);return l.annotationElementId=t.id||null,l._initialData=r,l}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:i}=this;e.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:i}){this._drawingOptions=xp.getDefaultDrawingOptions({stroke:lt.makeHexColor(...t),"stroke-width":e,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:i,rect:r}=this.serializeDraw(t),{_drawingOptions:{stroke:l,"stroke-opacity":c,"stroke-width":u}}=this,d={annotationType:bt.INK,color:ut._colorManager.convert(l),opacity:c,thickness:u,paths:{lines:e,points:i},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(d.isCopy=!0,d):this.annotationElementId&&!this.#t(d)?null:(d.id=this.annotationElementId,d)}#t(t){const{color:e,thickness:i,opacity:r,pageIndex:l}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((c,u)=>c!==e[u])||t.thickness!==i||t.opacity!==r||t.pageIndex!==l}renderAnnotationElement(t){const{points:e,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:e}),null}}class yf extends Uo{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const gc=8,Jr=3;class xs{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,i,r){return i-=t,r-=e,i===0?r>0?0:4:i===1?r+6:2-r}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#i(t,e,i,r,l,c,u){const d=this.#e(i,r,l,c);for(let f=0;f<8;f++){const p=(-f+d-u+16)%8,m=this.#n[2*p],v=this.#n[2*p+1];if(t[(i+m)*e+(r+v)]!==0)return p}return-1}static#a(t,e,i,r,l,c,u){const d=this.#e(i,r,l,c);for(let f=0;f<8;f++){const p=(f+d+u+16)%8,m=this.#n[2*p],v=this.#n[2*p+1];if(t[(i+m)*e+(r+v)]!==0)return p}return-1}static#s(t,e,i,r){const l=t.length,c=new Int32Array(l);for(let p=0;p<l;p++)c[p]=t[p]<=r?1:0;for(let p=1;p<i-1;p++)c[p*e]=c[p*e+e-1]=0;for(let p=0;p<e;p++)c[p]=c[e*i-1-p]=0;let u=1,d;const f=[];for(let p=1;p<i-1;p++){d=1;for(let m=1;m<e-1;m++){const v=p*e+m,b=c[v];if(b===0)continue;let A=p,S=m;if(b===1&&c[v-1]===0)u+=1,S-=1;else if(b>=1&&c[v+1]===0)u+=1,S+=1,b>1&&(d=b);else{b!==1&&(d=Math.abs(b));continue}const T=[m,p],E=S===m+1,R={isHole:E,points:T,id:u,parent:0};f.push(R);let _;for(const Z of f)if(Z.id===d){_=Z;break}_?_.isHole?R.parent=E?_.parent:d:R.parent=E?d:_.parent:R.parent=E?d:0;const L=this.#i(c,e,p,m,A,S,0);if(L===-1){c[v]=-u,c[v]!==1&&(d=Math.abs(c[v]));continue}let C=this.#n[2*L],k=this.#n[2*L+1];const I=p+C,U=m+k;A=I,S=U;let G=p,W=m;for(;;){const Z=this.#a(c,e,G,W,A,S,1);C=this.#n[2*Z],k=this.#n[2*Z+1];const st=G+C,vt=W+k;T.push(vt,st);const ct=G*e+W;if(c[ct+1]===0?c[ct]=-u:c[ct]===1&&(c[ct]=u),st===p&&vt===m&&G===I&&W===U){c[v]!==1&&(d=Math.abs(c[v]));break}else A=G,S=W,G=st,W=vt}}}return f}static#l(t,e,i,r){if(i-e<=4){for(let I=e;I<i-2;I+=2)r.push(t[I],t[I+1]);return}const l=t[e],c=t[e+1],u=t[i-4]-l,d=t[i-3]-c,f=Math.hypot(u,d),p=u/f,m=d/f,v=p*c-m*l,b=d/u,A=1/f,S=Math.atan(b),T=Math.cos(S),E=Math.sin(S),R=A*(Math.abs(T)+Math.abs(E)),_=A*(1-R+R**2),L=Math.max(Math.atan(Math.abs(E+T)*_),Math.atan(Math.abs(E-T)*_));let C=0,k=e;for(let I=e+2;I<i-2;I+=2){const U=Math.abs(v-p*t[I+1]+m*t[I]);U>C&&(k=I,C=U)}C>(f*L)**2?(this.#l(t,e,k+2,r),this.#l(t,k,i,r)):r.push(l,c)}static#o(t){const e=[],i=t.length;return this.#l(t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e}static#h(t,e,i,r,l,c){const u=new Float32Array(c**2),d=-2*r**2,f=c>>1;for(let S=0;S<c;S++){const T=(S-f)**2;for(let E=0;E<c;E++)u[S*c+E]=Math.exp((T+(E-f)**2)/d)}const p=new Float32Array(256),m=-2*l**2;for(let S=0;S<256;S++)p[S]=Math.exp(S**2/m);const v=t.length,b=new Uint8Array(v),A=new Uint32Array(256);for(let S=0;S<i;S++)for(let T=0;T<e;T++){const E=S*e+T,R=t[E];let _=0,L=0;for(let k=0;k<c;k++){const I=S+k-f;if(!(I<0||I>=i))for(let U=0;U<c;U++){const G=T+U-f;if(G<0||G>=e)continue;const W=t[I*e+G],Z=u[k*c+U]*p[Math.abs(W-R)];_+=W*Z,L+=Z}}const C=b[E]=Math.round(_/L);A[C]++}return[b,A]}static#c(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e}static#d(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let r=-1/0,l=1/0;for(let u=0,d=i.length;u<d;u++){if(t[(u<<2)+3]===0){r=i[u]=255;continue}const p=i[u]=t[u<<2];p>r&&(r=p),p<l&&(l=p)}const c=255/(r-l);for(let u=0;u<e;u++)i[u]=(i[u]-l)*c;return i}static#u(t){let e,i=-1/0,r=-1/0;const l=t.findIndex(d=>d!==0);let c=l,u=l;for(e=l;e<256;e++){const d=t[e];d>i&&(e-c>r&&(r=e-c,u=e-1),i=d,c=e)}for(e=u-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:i,height:r}=t,{maxDim:l}=this.#t;let c=i,u=r;if(i>l||r>l){let v=i,b=r,A=Math.log2(Math.max(i,r)/l);const S=Math.floor(A);A=A===S?S-1:S;for(let E=0;E<A;E++){c=Math.ceil(v/2),u=Math.ceil(b/2);const R=new OffscreenCanvas(c,u);R.getContext("2d").drawImage(t,0,0,v,b,0,0,c,u),v=c,b=u,t!==e&&t.close(),t=R.transferToImageBitmap()}const T=Math.min(l/c,l/u);c=Math.round(c*T),u=Math.round(u*T)}const f=new OffscreenCanvas(c,u).getContext("2d",{willReadFrequently:!0});f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,c,u);const p=f.getImageData(0,0,c,u).data;return[this.#d(p),c,u]}static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:r},l,c,u,d){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const m=200,v=p.font=`${i} ${r} ${m}px ${e}`,{actualBoundingBoxLeft:b,actualBoundingBoxRight:A,actualBoundingBoxAscent:S,actualBoundingBoxDescent:T,fontBoundingBoxAscent:E,fontBoundingBoxDescent:R,width:_}=p.measureText(t),L=1.5,C=Math.ceil(Math.max(Math.abs(b)+Math.abs(A)||0,_)*L),k=Math.ceil(Math.max(Math.abs(S)+Math.abs(T)||m,Math.abs(E)+Math.abs(R)||m)*L);f=new OffscreenCanvas(C,k),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=v,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,C,k),p.fillStyle="black",p.fillText(t,C*(L-1)/2,k*(3-L)/2);const I=this.#d(p.getImageData(0,0,C,k).data),U=this.#c(I),G=this.#u(U),W=this.#s(I,C,k,G);return this.processDrawnLines({lines:{curves:W,width:C,height:k},pageWidth:l,pageHeight:c,rotation:u,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,e,i,r,l){const[c,u,d]=this.#f(t),[f,p]=this.#h(c,u,d,Math.hypot(u,d)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),m=this.#u(p),v=this.#s(f,u,d,m);return this.processDrawnLines({lines:{curves:v,width:u,height:d},pageWidth:e,pageHeight:i,rotation:r,innerMargin:l,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:r,innerMargin:l,mustSmooth:c,areContours:u}){r%180!==0&&([e,i]=[i,e]);const{curves:d,width:f,height:p}=t,m=t.thickness??0,v=[],b=Math.min(e/f,i/p),A=b/e,S=b/i,T=[];for(const{points:R}of d){const _=c?this.#o(R):R;if(!_)continue;T.push(_);const L=_.length,C=new Float32Array(L),k=new Float32Array(3*(L===2?2:L-2));if(v.push({line:k,points:C}),L===2){C[0]=_[0]*A,C[1]=_[1]*S,k.set([NaN,NaN,NaN,NaN,C[0],C[1]],0);continue}let[I,U,G,W]=_;I*=A,U*=S,G*=A,W*=S,C.set([I,U,G,W],0),k.set([NaN,NaN,NaN,NaN,I,U],0);for(let Z=4;Z<L;Z+=2){const st=C[Z]=_[Z]*A,vt=C[Z+1]=_[Z+1]*S;k.set(et.createBezierPoints(I,U,G,W,st,vt),(Z-2)*3),[I,U,G,W]=[G,W,st,vt]}}if(v.length===0)return null;const E=u?new yf:new Uo;return E.build(v,e,i,1,r,u?0:m,l),{outline:E,newCurves:T,areContours:u,thickness:m,width:f,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:r,height:l}){let c=1/0,u=-1/0,d=0;for(const _ of t){d+=_.length;for(let L=2,C=_.length;L<C;L++){const k=_[L]-_[L-2];c=Math.min(c,k),u=Math.max(u,k)}}let f;c>=-128&&u<=127?f=Int8Array:c>=-32768&&u<=32767?f=Int16Array:f=Int32Array;const p=t.length,m=gc+Jr*p,v=new Uint32Array(m);let b=0;v[b++]=m*Uint32Array.BYTES_PER_ELEMENT+(d-2*p)*f.BYTES_PER_ELEMENT,v[b++]=0,v[b++]=r,v[b++]=l,v[b++]=e?0:1,v[b++]=Math.max(0,Math.floor(i??0)),v[b++]=p,v[b++]=f.BYTES_PER_ELEMENT;for(const _ of t)v[b++]=_.length-2,v[b++]=_[0],v[b++]=_[1];const A=new CompressionStream("deflate-raw"),S=A.writable.getWriter();await S.ready,S.write(v);const T=f.prototype.constructor;for(const _ of t){const L=new T(_.length-2);for(let C=2,k=_.length;C<k;C++)L[C-2]=_[C]-_[C-2];S.write(L)}S.close();const E=await new Response(A.readable).arrayBuffer(),R=new Uint8Array(E);return wS(R)}static async decompressSignature(t){try{const e=lD(t),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),l=r.getWriter();await l.ready,l.write(e).then(async()=>{await l.ready,await l.close()}).catch(()=>{});let c=null,u=0;for await(const _ of i)c||=new Uint8Array(new Uint32Array(_.buffer,0,4)[0]),c.set(_,u),u+=_.length;const d=new Uint32Array(c.buffer,0,c.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=d[2],m=d[3],v=d[4]===0,b=d[5],A=d[6],S=d[7],T=[],E=(gc+Jr*A)*Uint32Array.BYTES_PER_ELEMENT;let R;switch(S){case Int8Array.BYTES_PER_ELEMENT:R=new Int8Array(c.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:R=new Int16Array(c.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:R=new Int32Array(c.buffer,E);break}u=0;for(let _=0;_<A;_++){const L=d[Jr*_+gc],C=new Float32Array(L+2);T.push(C);for(let k=0;k<Jr-1;k++)C[k]=d[Jr*_+gc+k+1];for(let k=0;k<L;k++)C[k+2]=C[k]+R[u++]}return{areContours:v,thickness:b,outlines:T,width:p,height:m}}catch(e){return At(`decompressSignature: ${e}`),null}}}class _p extends tw{constructor(){super(),super.updateProperties({fill:ut._defaultLineColor,"stroke-width":0})}clone(){const t=new _p;return t.updateAll(this),t}}class Cp extends qc{constructor(t){super(t),super.updateProperties({stroke:ut._defaultLineColor,"stroke-width":1})}clone(){const t=new Cp(this._viewParameters);return t.updateAll(this),t}}class qn extends ft{#t=!1;#e=null;#n=null;#i=null;static _type="signature";static _editorType=bt.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){ut.initialize(t,e),this._defaultDrawingOptions=new _p,this._defaultDrawnSignatureOptions=new Cp(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ct(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:r,mustSmooth:l,areContours:c,description:u,uuid:d,heightInPage:f}=this.#n,{rawDims:{pageWidth:p,pageHeight:m},rotation:v}=this.parent.viewport,b=xs.processDrawnLines({lines:r,pageWidth:p,pageHeight:m,rotation:v,innerMargin:qn._INNER_MARGIN,mustSmooth:l,areContours:c});this.addSignature(b,f,u,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return i&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#i=t,this.addEditToolbar()}getUuid(){return this.#i}get description(){return this.#e}set description(t){this.#e=t,super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:i,width:r,height:l}=this.#n,c=Math.max(r,l),u=xs.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:i,width:r,height:l},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:u.outline}}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.signatureManager&&this.#e!==null&&(await t.addEditSignatureButton(this._uiManager.signatureManager,this.#i,this.#e),t.show()),t):null}addSignature(t,e,i,r){const{x:l,y:c}=this,{outline:u}=this.#n=t;this.#t=u instanceof yf,this.#e=i,this.div.setAttribute("data-l10n-args",JSON.stringify({description:i}));let d;this.#t?d=qn.getDefaultDrawingOptions():(d=qn._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:d});const[f,p]=this.parentDimensions,[,m]=this.pageDimensions;let v=e/m;v=v>=1?.5:v,this.width*=v/this.height,this.width>=1&&(v*=.9/this.width,this.width=.9),this.height=v,this.setDims(f*this.width,p*this.height),this.x=l,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:r}=this.parent.viewport;return xs.process(t,e,i,r,qn._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:i,pageHeight:r},rotation:l}=this.parent.viewport;return xs.extractContoursFromText(t,e,i,r,l,qn._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:r}=this.parent.viewport;return xs.processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:r,innerMargin:qn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=qn.getDefaultDrawingOptions():(this._drawingOptions=qn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:i,rect:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":l}}=this,c={annotationType:bt.SIGNATURE,isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:l,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(c.paths={lines:e,points:i},c.uuid=this.#i,c.isCopy=!0):c.lines=e,this.#e&&(c.accessibilityData={type:"Figure",alt:this.#e}),c}static deserializeDraw(t,e,i,r,l,c){return c.areContours?yf.deserialize(t,e,i,r,l,c):Uo.deserialize(t,e,i,r,l,c)}static async deserialize(t,e,i){const r=await super.deserialize(t,e,i);return r.#t=t.areContours,r.#e=t.accessibilityData?.alt||"",r.#i=t.uuid,r}}class PL extends ut{#t=null;#e=null;#n=null;#i=null;#a=null;#s="";#l=null;#o=!1;#h=null;#c=!1;#d=!1;static _type="stamp";static _editorType=bt.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#i=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){ut.initialize(t,e)}static isHandlingMimeForPasting(t){return Oc.includes(t)}static paste(t,e){e.pasteEditor({mode:bt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#u(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#c=t.isSvg),t.file&&(this.#s=t.file.name),this.#p()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#l){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:l,height:c}=t||this.copyCanvas(null,null,!0).imageData,u=await i.guess({name:"altText",request:{data:r,width:l,height:c,channels:r.length/(l*c)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),e&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#r(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(i=>this.#u(i,!0)).finally(()=>this.#f());return}if(this.#i){const i=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(i).then(r=>this.#u(r)).finally(()=>this.#f());return}if(this.#a){const i=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(i).then(r=>this.#u(r)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=Oc.join(",");const e=this._uiManager._signal;this.#n=new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(r)}i()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#l?.remove(),this.#l=null,this.#h&&(clearTimeout(this.#h),this.#h=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#r();return}super.rebuild(),this.div!==null&&(this.#e&&this.#l===null&&this.#r(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#n||this.#t||this.#i||this.#a||this.#e||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#o||(this.#t?this.#p():this.#r()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:i,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(this.#e=i,r&&(this.#t=r),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#h!==null&&clearTimeout(this.#h);const t=200;this.#h=setTimeout(()=>{this.#h=null,this.#g()},t)}#p(){const{div:t}=this;let{width:e,height:i}=this.#t;const[r,l]=this.pageDimensions,c=.75;if(this.width)e=this.width*r,i=this.height*l;else if(e>c*r||i>c*l){const p=Math.min(c*r/e,c*l/i);e*=p,i*=p}const[u,d]=this.parentDimensions;this.setDims(e*u/r,i*d/l),this._uiManager.enableWaiting(!1);const f=this.#l=document.createElement("canvas");f.setAttribute("role","img"),this.addContainer(f),this.width=e/r,this.height=i/l,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#g(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s)}copyCanvas(t,e,i=!1){t||(t=224);const{width:r,height:l}=this.#t,c=new kn;let u=this.#t,d=r,f=l,p=null;if(e){if(r>e||l>e){const k=Math.min(e/r,e/l);d=Math.floor(r*k),f=Math.floor(l*k)}p=document.createElement("canvas");const v=p.width=Math.ceil(d*c.sx),b=p.height=Math.ceil(f*c.sy);this.#c||(u=this.#m(v,b));const A=p.getContext("2d");A.filter=this._uiManager.hcmFilter;let S="white",T="#cfcfd8";this._uiManager.hcmFilter!=="none"?T="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(S="#8f8f9d",T="#42414d");const E=15,R=E*c.sx,_=E*c.sy,L=new OffscreenCanvas(R*2,_*2),C=L.getContext("2d");C.fillStyle=S,C.fillRect(0,0,R*2,_*2),C.fillStyle=T,C.fillRect(0,0,R,_),C.fillRect(R,_,R,_),A.fillStyle=A.createPattern(L,"repeat"),A.fillRect(0,0,v,b),A.drawImage(u,0,0,u.width,u.height,0,0,v,b)}let m=null;if(i){let v,b;if(c.symmetric&&u.width<t&&u.height<t)v=u.width,b=u.height;else if(u=this.#t,r>t||l>t){const T=Math.min(t/r,t/l);v=Math.floor(r*T),b=Math.floor(l*T),this.#c||(u=this.#m(v,b))}const S=new OffscreenCanvas(v,b).getContext("2d",{willReadFrequently:!0});S.drawImage(u,0,0,u.width,u.height,0,0,v,b),m={width:v,height:b,data:S.getImageData(0,0,v,b).data}}return{canvas:p,width:d,height:f,imageData:m}}#m(t,e){const{width:i,height:r}=this.#t;let l=i,c=r,u=this.#t;for(;l>2*t||c>2*e;){const d=l,f=c;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const p=new OffscreenCanvas(l,c);p.getContext("2d").drawImage(u,0,0,d,f,0,0,l,c),u=p.transferToImageBitmap()}return u}#g(){const[t,e]=this.parentDimensions,{width:i,height:r}=this,l=new kn,c=Math.ceil(i*t*l.sx),u=Math.ceil(r*e*l.sy),d=this.#l;if(!d||d.width===c&&d.height===u)return;d.width=c,d.height=u;const f=this.#c?this.#t:this.#m(c,u),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,c,u)}#y(t){if(t){if(this.#c){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#c){const[e,i]=this.pageDimensions,r=Math.round(this.width*e*Ns.PDF_TO_CSS_UNITS),l=Math.round(this.height*i*Ns.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(r,l);return c.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,l),c.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,i){let r=null,l=!1;if(t instanceof QS){const{data:{rect:S,rotation:T,id:E,structParent:R,popupRef:_},container:L,parent:{page:{pageNumber:C}},canvas:k}=t;let I,U;k?(delete t.canvas,{id:I,bitmap:U}=i.imageManager.getFromCanvas(L.id,k),k.remove()):(l=!0,t._hasNoCanvas=!0);const G=(await e._structTree.getAriaAttributes(`${up}${E}`))?.get("aria-label")||"";r=t={annotationType:bt.STAMP,bitmapId:I,bitmap:U,pageIndex:C-1,rect:S.slice(0),rotation:T,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:G},isSvg:!1,structParent:R,popupRef:_}}const c=await super.deserialize(t,e,i),{rect:u,bitmap:d,bitmapUrl:f,bitmapId:p,isSvg:m,accessibilityData:v}=t;l?(i.addMissingCanvas(t.id,c),c.#o=!0):p&&i.imageManager.isValidId(p)?(c.#e=p,d&&(c.#t=d)):c.#i=f,c.#c=m;const[b,A]=c.pageDimensions;return c.width=(u[2]-u[0])/b,c.height=(u[3]-u[1])/A,c.annotationElementId=t.id||null,v&&(c.altTextData=v),c._initialData=r,c.#d=!!r,c}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:bt.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=this.#y(!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:r,altText:l}=this.serializeAltText(!1);if(!r&&l&&(i.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const u=this.#v(i);if(u.isSame)return null;u.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,e===null)return i;e.stamps||=new Map;const c=this.#c?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:c,serialized:i}),i.bitmap=this.#y(!1);else if(this.#c){const u=e.stamps.get(this.#e);c>u.area&&(u.area=c,u.serialized.bitmap.close(),u.serialized.bitmap=this.#y(!1))}return i}#v(t){const{pageIndex:e,accessibilityData:{altText:i}}=this._initialData,r=t.pageIndex===e,l=(t.accessibilityData?.alt||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&r&&l,isSameAltText:l}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}class Yn{#t;#e=!1;#n=null;#i=null;#a=null;#s=new Map;#l=!1;#o=!1;#h=!1;#c=null;#d=null;#u=null;#f=null;#r;static _initialized=!1;static#p=new Map([Se,xp,PL,ae,qn].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:r,accessibilityManager:l,annotationLayer:c,drawLayer:u,textLayer:d,viewport:f,l10n:p}){const m=[...Yn.#p.values()];if(!Yn._initialized){Yn._initialized=!0;for(const v of m)v.initialize(p,t)}t.registerEditorTypes(m),this.#r=t,this.pageIndex=e,this.div=i,this.#t=l,this.#n=c,this.viewport=f,this.#u=d,this.drawLayer=u,this._structTree=r,this.#r.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#r.getMode()===bt.NONE}updateToolbar(t){this.#r.updateToolbar(t)}updateMode(t=this.#r.getMode()){switch(this.#b(),t){case bt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case bt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case bt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of Yn.#p.values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#u?.div}setEditingState(t){this.#r.setEditingState(t)}addCommands(t){this.#r.addCommands(t)}cleanUndoStack(t){this.#r.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}async enable(){this.#h=!0,this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const i of this.#s.values())i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#r.removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!this.#n){this.#h=!1;return}const e=this.#n.getEditableAnnotations();for(const i of e){if(i.hide(),this.#r.isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}this.#h=!1}disable(){this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const r of this.#s.values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else e.set(r.annotationElementId,r);this.getEditableAnnotation(r.annotationElementId)?.show(),r.remove()}if(this.#n){const r=this.#n.getEditableAnnotations();for(const l of r){const{id:c}=l.data;if(this.#r.isDeletedAnnotationElement(c))continue;let u=e.get(c);if(u){u.resetAnnotationElement(l),u.show(!1),l.show();continue}u=t.get(c),u&&(this.#r.addChangedExistingAnnotation(u),u.renderAnnotationElement(l)&&u.show(!1)),l.show()}}this.#b(),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const r of Yn.#p.values())i.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#r.getActive()!==t&&this.#r.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const t=this.#r.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#m.bind(this),{signal:t}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#m(t){this.#r.unselectAll();const{target:e}=t;if(e===this.#u.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#u.div.contains(e)){const{isMac:i}=Re.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#r.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),ae.startHighlighting(this,this.#r.direction==="ltr",{target:this.#u.div,x:t.x,y:t.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#r._signal}),t.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const t=this.#r.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#i?.abort(),this.#i=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#r.isDeletedAnnotationElement(e)&&this.#r.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#r.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#r.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#r.addDeletedAnnotationElement(t.annotationElementId),ut.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#r.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#h),this.#r.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#r._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return this.#r.getId()}get#g(){return Yn.#p.get(this.#r.getMode())}combinedSignal(t){return this.#r.combinedSignal(t)}#y(t){const e=this.#g;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#g?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#r.updateMode(t.mode);const{offsetX:i,offsetY:r}=this.#v(),l=this.getNextId(),c=this.#y({parent:this,id:l,x:i,y:r,uiManager:this.#r,isCentered:!0,...e});c&&this.add(c)}async deserialize(t){return await Yn.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#r)||null}createAndAddNewEditor(t,e,i={}){const r=this.getNextId(),l=this.#y({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#r,isCentered:e,...i});return l&&this.add(l),l}#v(){const{x:t,y:e,width:i,height:r}=this.div.getBoundingClientRect(),l=Math.max(0,t),c=Math.max(0,e),u=Math.min(window.innerWidth,t+i),d=Math.min(window.innerHeight,e+r),f=(l+u)/2-t,p=(c+d)/2-e,[m,v]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:m,offsetY:v}}addNewEditor(t={}){this.createAndAddNewEditor(this.#v(),!0,t)}setSelected(t){this.#r.setSelected(t)}toggleSelected(t){this.#r.toggleSelected(t)}unselect(t){this.#r.unselect(t)}pointerup(t){const{isMac:e}=Re.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#l||(this.#l=!1,this.#g?.isDrawer&&this.#g.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const i=this.#r.getMode();if(i===bt.STAMP||i===bt.SIGNATURE){this.#r.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#r.getMode()===bt.HIGHLIGHT&&this.enableTextSelection(),this.#l){this.#l=!1;return}const{isMac:e}=Re.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#l=!0,this.#g?.isDrawer){this.startDrawingSession(t);return}const i=this.#r.getActive();this.#e=!i||i.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#c){this.#g.startDrawing(this,this.#r,!1,t);return}this.#r.setCurrentDrawingSession(this),this.#c=new AbortController;const e=this.#r.combinedSignal(this.#c);this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#g.startDrawing(this,this.#r,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#c?(this.#r.setCurrentDrawingSession(null),this.#c.abort(),this.#c=null,this.#d=null,this.#g.endDrawing(t)):null}findNewParent(t,e,i){const r=this.#r.findParent(e,i);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return this.#c?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#c&&this.#g.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#r.getActive()?.parent===this&&(this.#r.commitOrRemove(),this.#r.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#r.removeLayer(this)}#b(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,ts(this.div,t);for(const e of this.#r.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#r.commitOrRemove(),this.#b();const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,ts(this.div,{rotation:i}),e!==i)for(const r of this.#s.values())r.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#r.viewParameters.realScale}}class Ce{#t=null;#e=new Map;#n=new Map;static#i=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Ct(this,"_svgFactory",new xo)}static#a(t,[e,i,r,l]){const{style:c}=t;c.top=`${100*i}%`,c.left=`${100*e}%`,c.width=`${100*r}%`,c.height=`${100*l}%`}#s(){const t=Ce._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#l(t,e){const i=Ce._svgFactory.createElement("clipPath");t.append(i);const r=`clip_${e}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const l=Ce._svgFactory.createElement("use");return i.append(l),l.setAttribute("href",`#${e}`),l.classList.add("clip"),r}#o(t,e){for(const[i,r]of Object.entries(e))r===null?t.removeAttribute(i):t.setAttribute(i,r)}draw(t,e=!1,i=!1){const r=Ce.#i++,l=this.#s(),c=Ce._svgFactory.createElement("defs");l.append(c);const u=Ce._svgFactory.createElement("path");c.append(u);const d=`path_p${this.pageIndex}_${r}`;u.setAttribute("id",d),u.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#n.set(r,u);const f=i?this.#l(c,d):null,p=Ce._svgFactory.createElement("use");return l.append(p),p.setAttribute("href",`#${d}`),this.updateProperties(l,t),this.#e.set(r,l),{id:r,clipPathId:`url(#${f})`}}drawOutline(t,e){const i=Ce.#i++,r=this.#s(),l=Ce._svgFactory.createElement("defs");r.append(l);const c=Ce._svgFactory.createElement("path");l.append(c);const u=`path_p${this.pageIndex}_${i}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke");let d;if(e){const m=Ce._svgFactory.createElement("mask");l.append(m),d=`mask_p${this.pageIndex}_${i}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const v=Ce._svgFactory.createElement("rect");m.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const b=Ce._svgFactory.createElement("use");m.append(b),b.setAttribute("href",`#${u}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const f=Ce._svgFactory.createElement("use");r.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return r.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#e.set(i,r),i}finalizeDraw(t,e){this.#n.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:i,bbox:r,rootClass:l,path:c}=e,u=typeof t=="number"?this.#e.get(t):t;if(u){if(i&&this.#o(u,i),r&&Ce.#a(u,r),l){const{classList:d}=u;for(const[f,p]of Object.entries(l))d.toggle(f,p)}if(c){const f=u.firstChild.firstChild;this.#o(f,c)}}}updateParent(t,e){if(e===this)return;const i=this.#e.get(t);i&&(e.#t.append(i),this.#e.delete(t),e.#e.set(t,i))}remove(t){this.#n.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:gf};globalThis.pdfjsLib={AbortException:Si,AnnotationEditorLayer:Yn,AnnotationEditorParamsType:Rt,AnnotationEditorType:bt,AnnotationEditorUIManager:wi,AnnotationLayer:Tp,AnnotationMode:$n,AnnotationType:se,build:qS,ColorPicker:dn,createValidAbsoluteUrl:op,DOMSVGFactory:xo,DrawLayer:Ce,FeatureTest:Re,fetchData:Ya,getDocument:bp,getFilenameFromUrl:ES,getPdfFilenameFromUrl:TS,getUuid:cp,getXfaPageViewport:xS,GlobalWorkerOptions:Qi,ImageKind:uo,InvalidPDFException:Lc,isDataScheme:Io,isPdfFile:Hc,isValidExplicitDest:MS,MathClamp:Fe,noContextMenu:Rn,normalizeUnicode:SS,OPS:So,OutputScale:kn,PasswordResponses:bS,PDFDataRangeTransport:Sp,PDFDateString:hp,PDFWorker:Ua,PermissionFlag:vS,PixelsPerInch:Ns,RenderingCancelledException:jc,ResponseException:wo,setLayerDimensions:ts,shadow:Ct,SignatureExtractor:xs,stopEvent:oe,SupportedImageMimeTypes:Oc,TextLayer:Eo,TouchManager:Fo,updateUrlHash:lp,Util:lt,VerbosityLevel:Po,version:GS,XfaLayer:wp};const NL=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Si,AnnotationEditorLayer:Yn,AnnotationEditorParamsType:Rt,AnnotationEditorType:bt,AnnotationEditorUIManager:wi,AnnotationLayer:Tp,AnnotationMode:$n,AnnotationType:se,ColorPicker:dn,DOMSVGFactory:xo,DrawLayer:Ce,FeatureTest:Re,GlobalWorkerOptions:Qi,ImageKind:uo,InvalidPDFException:Lc,MathClamp:Fe,OPS:So,OutputScale:kn,PDFDataRangeTransport:Sp,PDFDateString:hp,PDFWorker:Ua,PasswordResponses:bS,PermissionFlag:vS,PixelsPerInch:Ns,RenderingCancelledException:jc,ResponseException:wo,SignatureExtractor:xs,SupportedImageMimeTypes:Oc,TextLayer:Eo,TouchManager:Fo,Util:lt,VerbosityLevel:Po,XfaLayer:wp,build:qS,createValidAbsoluteUrl:op,fetchData:Ya,getDocument:bp,getFilenameFromUrl:ES,getPdfFilenameFromUrl:TS,getUuid:cp,getXfaPageViewport:xS,isDataScheme:Io,isPdfFile:Hc,isValidExplicitDest:MS,noContextMenu:Rn,normalizeUnicode:SS,setLayerDimensions:ts,shadow:Ct,stopEvent:oe,updateUrlHash:lp,version:GS},Symbol.toStringTag,{value:"Module"}));Qi.workerSrc="/pdf.worker.mjs";const kL=["onCopy","onCut","onPaste"],IL=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],BL=["onFocus","onBlur"],FL=["onInput","onInvalid","onReset","onSubmit"],VL=["onLoad","onError"],zL=["onKeyDown","onKeyPress","onKeyUp"],UL=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],jL=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],HL=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],GL=["onSelect"],qL=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],XL=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],YL=["onScroll"],$L=["onWheel"],KL=["onAnimationStart","onAnimationEnd","onAnimationIteration"],WL=["onTransitionEnd"],QL=["onToggle"],ZL=["onChange"],JL=[...kL,...IL,...BL,...FL,...VL,...zL,...UL,...jL,...HL,...GL,...qL,...XL,...YL,...$L,...KL,...WL,...ZL,...QL];function ew(a,t){const e={};for(const i of JL){const r=a[i];r&&(t?e[i]=l=>r(l,t(i)):e[i]=r)}return e}function jo(a){let t=!1;return{promise:new Promise((i,r)=>{a.then(l=>!t&&i(l)).catch(l=>!t&&r(l))}),cancel(){t=!0}}}function nw(a){var t,e,i="";if(typeof a=="string"||typeof a=="number")i+=a;else if(typeof a=="object")if(Array.isArray(a)){var r=a.length;for(t=0;t<r;t++)a[t]&&(e=nw(a[t]))&&(i&&(i+=" "),i+=e)}else for(e in a)a[e]&&(i&&(i+=" "),i+=e);return i}function Xc(){for(var a,t,e=0,i="",r=arguments.length;e<r;e++)(a=arguments[e])&&(t=nw(a))&&(i&&(i+=" "),i+=t);return i}var t2="Invariant failed";function jt(a,t){if(!a)throw new Error(t2)}var zd,m0;function e2(){if(m0)return zd;m0=1;var a=function(){};return zd=a,zd}var n2=e2();const Ve=R1(n2);var y0=Object.prototype.hasOwnProperty;function v0(a,t,e){for(e of a.keys())if(Ia(e,t))return e}function Ia(a,t){var e,i,r;if(a===t)return!0;if(a&&t&&(e=a.constructor)===t.constructor){if(e===Date)return a.getTime()===t.getTime();if(e===RegExp)return a.toString()===t.toString();if(e===Array){if((i=a.length)===t.length)for(;i--&&Ia(a[i],t[i]););return i===-1}if(e===Set){if(a.size!==t.size)return!1;for(i of a)if(r=i,r&&typeof r=="object"&&(r=v0(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(a.size!==t.size)return!1;for(i of a)if(r=i[0],r&&typeof r=="object"&&(r=v0(t,r),!r)||!Ia(i[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)a=new Uint8Array(a),t=new Uint8Array(t);else if(e===DataView){if((i=a.byteLength)===t.byteLength)for(;i--&&a.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(a)){if((i=a.byteLength)===t.byteLength)for(;i--&&a[i]===t[i];);return i===-1}if(!e||typeof a=="object"){i=0;for(e in a)if(y0.call(a,e)&&++i&&!y0.call(t,e)||!(e in t)||!Ia(a[e],t[e]))return!1;return Object.keys(t).length===i}}return a!==a&&t!==t}const iw=D.createContext(null);function Ba({children:a,type:t}){return X.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:a})}const i2="noopener noreferrer nofollow";class s2{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return jt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){jt(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{jt(this.pdfDocument),jt(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{jt(Array.isArray(e));const i=e[0];new Promise(r=>{jt(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(l=>{r(l)}).catch(()=>{jt(!1)}):typeof i=="number"?r(i):jt(!1)}).then(r=>{const l=r+1;jt(this.pdfViewer),jt(l>=1&&l<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:l})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;jt(this.pdfViewer),jt(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||i2,t.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const b0={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Yc=typeof window<"u",sw=Yc&&window.location.protocol==="file:";function a2(a){return typeof a<"u"}function Es(a){return a2(a)&&a!==null}function r2(a){return typeof a=="string"}function o2(a){return a instanceof ArrayBuffer}function l2(a){return jt(Yc),a instanceof Blob}function vf(a){return r2(a)&&/^data:/.test(a)}function A0(a){jt(vf(a));const[t="",e=""]=a.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function c2(){return Yc&&window.devicePixelRatio||1}const aw="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function S0(){Ve(!sw,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${aw}`)}function u2(){Ve(!sw,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${aw}`)}function Is(a){a?.cancel&&a.cancel()}function bf(a,t){return Object.defineProperty(a,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(a,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(a,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(a,"originalHeight",{get(){return this.view[3]},configurable:!0}),a}function h2(a){return a.name==="RenderingCancelledException"}function d2(a){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:l}=r.target;if(!l)return e(new Error("Error while reading a file."));switch(l.code){case l.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case l.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case l.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(a)})}function f2(a,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return a}}function ja(){return D.useReducer(f2,{value:void 0,error:void 0})}var w0=function(a,t){var e={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&t.indexOf(i)<0&&(e[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(a);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(a,i[r])&&(e[i[r]]=a[i[r]]);return e};const{PDFDataRangeTransport:p2}=NL,g2=(a,t)=>{switch(t){case b0.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");a(e);break}case b0.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");a(e);break}}};function E0(a){return typeof a=="object"&&a!==null&&("data"in a||"range"in a||"url"in a)}const m2=D.forwardRef(function(t,e){var{children:i,className:r,error:l="Failed to load PDF file.",externalLinkRel:c,externalLinkTarget:u,file:d,inputRef:f,imageResourcesPath:p,loading:m="Loading PDF",noData:v="No PDF file specified.",onItemClick:b,onLoadError:A,onLoadProgress:S,onLoadSuccess:T,onPassword:E=g2,onSourceError:R,onSourceSuccess:_,options:L,renderMode:C,rotate:k,scale:I}=t,U=w0(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate","scale"]);const[G,W]=ja(),{value:Z,error:st}=G,[vt,ct]=ja(),{value:rt,error:N}=vt,F=D.useRef(new s2),tt=D.useRef([]),pt=D.useRef(void 0),O=D.useRef(void 0);d&&d!==pt.current&&E0(d)&&(Ve(!Ia(d,pt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),pt.current=d),L&&L!==O.current&&(Ve(!Ia(L,O.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),O.current=L);const Y=D.useRef({scrollPageIntoView:Pt=>{const{dest:ce,pageNumber:Yt,pageIndex:ve=Yt-1}=Pt;if(b){b({dest:ce,pageIndex:ve,pageNumber:Yt});return}const Ti=tt.current[ve];if(Ti){Ti.scrollIntoView();return}Ve(!1,`An internal link leading to page ${Yt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});D.useImperativeHandle(e,()=>({linkService:F,pages:tt,viewer:Y}),[]);function J(){_&&_()}function Q(){st&&(Ve(!1,st.toString()),R&&R(st))}function nt(){W({type:"RESET"})}D.useEffect(nt,[d,W]);const gt=D.useCallback(async()=>{if(!d)return null;if(typeof d=="string")return vf(d)?{data:A0(d)}:(S0(),{url:d});if(d instanceof p2)return{range:d};if(o2(d))return{data:d};if(Yc&&l2(d))return{data:await d2(d)};if(jt(typeof d=="object"),jt(E0(d)),"url"in d&&typeof d.url=="string"){if(vf(d.url)){const{url:Pt}=d,ce=w0(d,["url"]),Yt=A0(Pt);return Object.assign({data:Yt},ce)}S0()}return d},[d]);D.useEffect(()=>{const Pt=jo(gt());return Pt.promise.then(ce=>{W({type:"RESOLVE",value:ce})}).catch(ce=>{W({type:"REJECT",error:ce})}),()=>{Is(Pt)}},[gt,W]),D.useEffect(()=>{if(!(typeof Z>"u")){if(Z===!1){Q();return}J()}},[Z]);function at(){rt&&(T&&T(rt),tt.current=new Array(rt.numPages),F.current.setDocument(rt))}function St(){N&&(Ve(!1,N.toString()),A&&A(N))}D.useEffect(function(){ct({type:"RESET"})},[ct,Z]),D.useEffect(function(){if(!Z)return;const ce=L?Object.assign(Object.assign({},Z),L):Z,Yt=bp(ce);S&&(Yt.onProgress=S),E&&(Yt.onPassword=E);const ve=Yt,Ti=ve.promise.then(xi=>{ct({type:"RESOLVE",value:xi})}).catch(xi=>{ve.destroyed||ct({type:"REJECT",error:xi})});return()=>{Ti.finally(()=>ve.destroy())}},[L,ct,Z]),D.useEffect(()=>{if(!(typeof rt>"u")){if(rt===!1){St();return}at()}},[rt]),D.useEffect(function(){F.current.setViewer(Y.current),F.current.setExternalLinkRel(c),F.current.setExternalLinkTarget(u)},[c,u]);const Mt=D.useCallback((Pt,ce)=>{tt.current[Pt]=ce},[]),me=D.useCallback(Pt=>{delete tt.current[Pt]},[]),It=D.useMemo(()=>({imageResourcesPath:p,linkService:F.current,onItemClick:b,pdf:rt,registerPage:Mt,renderMode:C,rotate:k,scale:I,unregisterPage:me}),[p,b,rt,Mt,C,k,I,me]),qe=D.useMemo(()=>ew(U,()=>rt),[U,rt]);function en(){return X.jsx(iw.Provider,{value:It,children:i})}function ye(){return d?rt==null?X.jsx(Ba,{type:"loading",children:typeof m=="function"?m():m}):rt===!1?X.jsx(Ba,{type:"error",children:typeof l=="function"?l():l}):en():X.jsx(Ba,{type:"no-data",children:typeof v=="function"?v():v})}return X.jsx("div",Object.assign({className:Xc("react-pdf__Document",r),ref:f},qe,{children:ye()}))});function rw(){return D.useContext(iw)}function ow(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];var e=a.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(l){for(var c=0,u=e;c<u.length;c++){var d=u[c];typeof d=="function"?d(l):d&&(d.current=l)}}}const lw=D.createContext(null),cw={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},y2=/^H(\d+)$/;function v2(a){return a in cw}function $c(a){return"children"in a}function uw(a){return $c(a)?a.children.length===1&&0 in a.children&&"id"in a.children[0]:!1}function b2(a){const t={};if($c(a)){const{role:e}=a,i=e.match(y2);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(v2(e)){const r=cw[e];r&&(t.role=r)}}return t}function hw(a){const t={};if($c(a)){if(a.alt!==void 0&&(t["aria-label"]=a.alt),a.lang!==void 0&&(t.lang=a.lang),uw(a)){const[e]=a.children;if(e){const i=hw(e);return Object.assign(Object.assign({},t),i)}}}else"id"in a&&(t["aria-owns"]=a.id);return t}function A2(a){return a?Object.assign(Object.assign({},b2(a)),hw(a)):null}function dw({className:a,node:t}){const e=D.useMemo(()=>A2(t),[t]),i=D.useMemo(()=>!$c(t)||uw(t)?null:t.children.map((r,l)=>X.jsx(dw,{node:r},l)),[t]);return X.jsx("span",Object.assign({className:a},e,{children:i}))}function Kc(){return D.useContext(lw)}function S2(){const a=Kc();jt(a);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=a,[i,r]=ja(),{value:l,error:c}=i,{customTextRenderer:u,page:d}=a;function f(){l&&e&&e(l)}function p(){c&&(Ve(!1,c.toString()),t&&t(c))}return D.useEffect(function(){r({type:"RESET"})},[r,d]),D.useEffect(function(){if(u||!d)return;const v=jo(d.getStructTree()),b=v;return v.promise.then(A=>{r({type:"RESOLVE",value:A})}).catch(A=>{r({type:"REJECT",error:A})}),()=>Is(b)},[u,d,r]),D.useEffect(()=>{if(l!==void 0){if(l===!1){p();return}f()}},[l]),l?X.jsx(dw,{className:"react-pdf__Page__structTree structTree",node:l}):null}const T0=$n;function w2(a){const t=Kc();jt(t);const e=Object.assign(Object.assign({},t),a),{_className:i,canvasBackground:r,devicePixelRatio:l=c2(),onRenderError:c,onRenderSuccess:u,page:d,renderForms:f,renderTextLayer:p,rotate:m,scale:v}=e,{canvasRef:b}=a;jt(d);const A=D.useRef(null);function S(){d&&u&&u(bf(d,v))}function T(L){h2(L)||(Ve(!1,L.toString()),c&&c(L))}const E=D.useMemo(()=>d.getViewport({scale:v*l,rotation:m}),[l,d,m,v]),R=D.useMemo(()=>d.getViewport({scale:v,rotation:m}),[d,m,v]);D.useEffect(function(){if(!d)return;d.cleanup();const{current:C}=A;if(!C)return;C.width=E.width,C.height=E.height,C.style.width=`${Math.floor(R.width)}px`,C.style.height=`${Math.floor(R.height)}px`,C.style.visibility="hidden";const k={annotationMode:f?T0.ENABLE_FORMS:T0.ENABLE,canvasContext:C.getContext("2d",{alpha:!1}),viewport:E};r&&(k.background=r);const I=d.render(k),U=I;return I.promise.then(()=>{C.style.visibility="",S()}).catch(T),()=>Is(U)},[r,d,f,E,R]);const _=D.useCallback(()=>{const{current:L}=A;L&&(L.width=0,L.height=0)},[]);return D.useEffect(()=>_,[_]),X.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:ow(b,A),style:{display:"block",userSelect:"none"},children:p?X.jsx(S2,{}):null})}function E2(a){return"str"in a}function T2(){const a=Kc();jt(a);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:l,page:c,pageIndex:u,pageNumber:d,rotate:f,scale:p}=a;jt(c);const[m,v]=ja(),{value:b,error:A}=m,S=D.useRef(null);Ve(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function T(){b&&i&&i(b)}function E(){A&&(Ve(!1,A.toString()),e&&e(A))}D.useEffect(function(){v({type:"RESET"})},[c,v]),D.useEffect(function(){if(!c)return;const U=jo(c.getTextContent()),G=U;return U.promise.then(W=>{v({type:"RESOLVE",value:W})}).catch(W=>{v({type:"REJECT",error:W})}),()=>Is(G)},[c,v]),D.useEffect(()=>{if(b!==void 0){if(b===!1){E();return}T()}},[b]);const R=D.useCallback(()=>{l&&l()},[l]),_=D.useCallback(I=>{Ve(!1,I.toString()),r&&r(I)},[r]);function L(){const I=S.current;I&&I.classList.add("selecting")}function C(){const I=S.current;I&&I.classList.remove("selecting")}const k=D.useMemo(()=>c.getViewport({scale:p,rotation:f}),[c,f,p]);return D.useLayoutEffect(function(){if(!c||!b)return;const{current:U}=S;if(!U)return;U.innerHTML="";const G=c.streamTextContent({includeMarkedContent:!0}),W={container:U,textContentSource:G,viewport:k},Z=new Eo(W),st=Z;return Z.render().then(()=>{const vt=document.createElement("div");vt.className="endOfContent",U.append(vt);const ct=U.querySelectorAll('[role="presentation"]');if(t){let rt=0;b.items.forEach((N,F)=>{if(!E2(N))return;const tt=ct[rt];if(!tt)return;const pt=t(Object.assign({pageIndex:u,pageNumber:d,itemIndex:F},N));tt.innerHTML=pt,rt+=N.str&&N.hasEOL?2:1})}R()}).catch(_),()=>Is(st)},[t,_,R,c,u,d,b,k]),X.jsx("div",{className:Xc("react-pdf__Page__textContent","textLayer"),onMouseUp:C,onMouseDown:L,ref:S})}function x2(){const a=rw(),t=Kc();jt(t);const e=Object.assign(Object.assign({},a),t),{imageResourcesPath:i,linkService:r,onGetAnnotationsError:l,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:d,page:f,pdf:p,renderForms:m,rotate:v,scale:b=1}=e;jt(p),jt(f),jt(r);const[A,S]=ja(),{value:T,error:E}=A,R=D.useRef(null);Ve(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function _(){T&&c&&c(T)}function L(){E&&(Ve(!1,E.toString()),l&&l(E))}D.useEffect(function(){S({type:"RESET"})},[S,f]),D.useEffect(function(){if(!f)return;const G=jo(f.getAnnotations()),W=G;return G.promise.then(Z=>{S({type:"RESOLVE",value:Z})}).catch(Z=>{S({type:"REJECT",error:Z})}),()=>{Is(W)}},[S,f]),D.useEffect(()=>{if(T!==void 0){if(T===!1){L();return}_()}},[T]);function C(){d&&d()}function k(U){Ve(!1,`${U}`),u&&u(U)}const I=D.useMemo(()=>f.getViewport({scale:b,rotation:v}),[f,v,b]);return D.useEffect(function(){if(!p||!f||!r||!T)return;const{current:G}=R;if(!G)return;const W=I.clone({dontFlip:!0}),Z={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:G,l10n:null,page:f,structTreeLayer:null,viewport:W},st={annotations:T,annotationStorage:p.annotationStorage,div:G,imageResourcesPath:i,linkService:r,page:f,renderForms:m,viewport:W};G.innerHTML="";try{new Tp(Z).render(st),C()}catch(vt){k(vt)}return()=>{}},[T,i,r,f,p,m,I]),X.jsx("div",{className:Xc("react-pdf__Page__annotations","annotationLayer"),ref:R})}var _2=function(a,t){var e={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&t.indexOf(i)<0&&(e[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(a);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(a,i[r])&&(e[i[r]]=a[i[r]]);return e};const x0=1;function C2(a){const t=rw(),e=Object.assign(Object.assign({},t),a),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:l,canvasRef:c,children:u,className:d,customRenderer:f,customTextRenderer:p,devicePixelRatio:m,error:v="Failed to load the page.",height:b,inputRef:A,loading:S="Loading page",noData:T="No page specified.",onGetAnnotationsError:E,onGetAnnotationsSuccess:R,onGetStructTreeError:_,onGetStructTreeSuccess:L,onGetTextError:C,onGetTextSuccess:k,onLoadError:I,onLoadSuccess:U,onRenderAnnotationLayerError:G,onRenderAnnotationLayerSuccess:W,onRenderError:Z,onRenderSuccess:st,onRenderTextLayerError:vt,onRenderTextLayerSuccess:ct,pageIndex:rt,pageNumber:N,pdf:F,registerPage:tt,renderAnnotationLayer:pt=!0,renderForms:O=!1,renderMode:Y="canvas",renderTextLayer:J=!0,rotate:Q,scale:nt=x0,unregisterPage:gt,width:at}=e,St=_2(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Mt,me]=ja(),{value:It,error:qe}=Mt,en=D.useRef(null);jt(F);const ye=Es(N)?N-1:rt??null,Pt=N??(Es(rt)?rt+1:null),ce=Q??(It?It.rotate:null),Yt=D.useMemo(()=>{if(!It)return null;let ue=1;const nn=nt??x0;if(at||b){const we=It.getViewport({scale:1,rotation:ce});at?ue=at/we.width:b&&(ue=b/we.height)}return nn*ue},[b,It,ce,nt,at]);D.useEffect(function(){return()=>{Es(ye)&&r&&gt&&gt(ye)}},[r,F,ye,gt]);function ve(){if(U){if(!It||!Yt)return;U(bf(It,Yt))}if(r&&tt){if(!Es(ye)||!en.current)return;tt(ye,en.current)}}function Ti(){qe&&(Ve(!1,qe.toString()),I&&I(qe))}D.useEffect(function(){me({type:"RESET"})},[me,F,ye]),D.useEffect(function(){if(!F||!Pt)return;const nn=jo(F.getPage(Pt)),we=nn;return nn.promise.then($a=>{me({type:"RESOLVE",value:$a})}).catch($a=>{me({type:"REJECT",error:$a})}),()=>Is(we)},[me,F,Pt]),D.useEffect(()=>{if(It!==void 0){if(It===!1){Ti();return}ve()}},[It,Yt]);const xi=D.useMemo(()=>It&&Es(ye)&&Pt&&Es(ce)&&Es(Yt)?{_className:i,canvasBackground:l,customTextRenderer:p,devicePixelRatio:m,onGetAnnotationsError:E,onGetAnnotationsSuccess:R,onGetStructTreeError:_,onGetStructTreeSuccess:L,onGetTextError:C,onGetTextSuccess:k,onRenderAnnotationLayerError:G,onRenderAnnotationLayerSuccess:W,onRenderError:Z,onRenderSuccess:st,onRenderTextLayerError:vt,onRenderTextLayerSuccess:ct,page:It,pageIndex:ye,pageNumber:Pt,renderForms:O,renderTextLayer:J,rotate:ce,scale:Yt}:null,[i,l,p,m,E,R,_,L,C,k,G,W,Z,st,vt,ct,It,ye,Pt,O,J,ce,Yt]),Ho=D.useMemo(()=>ew(St,()=>It&&(Yt?bf(It,Yt):void 0)),[St,It,Yt]),Jn=`${ye}@${Yt}/${ce}`;function Wc(){switch(Y){case"custom":return jt(f),X.jsx(f,{},`${Jn}_custom`);case"none":return null;case"canvas":default:return X.jsx(w2,{canvasRef:c},`${Jn}_canvas`)}}function Go(){return J?X.jsx(T2,{},`${Jn}_text`):null}function Qc(){return pt?X.jsx(x2,{},`${Jn}_annotations`):null}function Zc(){return X.jsxs(lw.Provider,{value:xi,children:[Wc(),Go(),Qc(),u]})}function is(){return Pt?F===null||It===void 0||It===null?X.jsx(Ba,{type:"loading",children:typeof S=="function"?S():S}):F===!1||It===!1?X.jsx(Ba,{type:"error",children:typeof v=="function"?v():v}):Zc():X.jsx(Ba,{type:"no-data",children:typeof T=="function"?T():T})}return X.jsx("div",Object.assign({className:Xc(i,d),"data-page-number":Pt,ref:ow(A,en),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Yt}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:l||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Ho,{children:is()}))}u2();Qi.workerSrc="pdf.worker.mjs";function R2(){const[a,t]=D.useState(null);function e({numPages:i}){t(i)}return X.jsxs("section",{children:[X.jsx("h2",{children:"Resume"}),X.jsx("div",{className:"pdf-scroll-container",children:X.jsx(m2,{file:"/resume.pdf",onLoadSuccess:e,onLoadError:console.error,children:Array.from(new Array(a),(i,r)=>X.jsx(C2,{pageNumber:r+1,scale:1.2,renderTextLayer:!1,renderAnnotationLayer:!1},`page_${r+1}`))})}),X.jsx("a",{href:"/resume.pdf",download:!0,className:"download-button",style:{marginTop:"20px",display:"inline-block"},children:" Download Resume"})]})}function M2(){return X.jsxs("section",{children:[X.jsx("h2",{children:"Contact"}),X.jsx("p",{children:"Feel free to reach out to me!"}),X.jsxs("ul",{children:[X.jsxs("li",{children:["Email: ",X.jsx("a",{href:"mailto:nishanth.kunchala@gmail.com",children:"nishanth.kunchala@gmail.com"})]}),X.jsxs("li",{children:["LinkedIn: ",X.jsx("a",{href:"https://www.linkedin.com/in/nishanth-kunchala",target:"_blank",children:"https://www.linkedin.com/in/nishanth-kunchala"})]}),X.jsxs("li",{children:["GitHub: ",X.jsx("a",{href:"https://github.com/Nishanth-Kunchala",target:"_blank",children:"https://github.com/Nishanth-Kunchala"})]})]})]})}function D2(){const a=es();return X.jsx(uC,{mode:"wait",children:X.jsxs(DT,{location:a,children:[X.jsx(to,{path:"/",element:X.jsx(mc,{children:X.jsx(WM,{})})}),X.jsx(to,{path:"/portfolio",element:X.jsx(mc,{children:X.jsx(QM,{})})}),X.jsx(to,{path:"/resume",element:X.jsx(mc,{children:X.jsx(R2,{})})}),X.jsx(to,{path:"/contact",element:X.jsx(mc,{children:X.jsx(M2,{})})})]},a.pathname)})}function mc({children:a}){return X.jsx(YM.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.25},children:a})}function L2(){return X.jsxs(X.Fragment,{children:[X.jsx($M,{}),X.jsx("main",{children:X.jsx(D2,{})}),X.jsx(KM,{})]})}F1.createRoot(document.getElementById("root")).render(X.jsx(D.StrictMode,{children:X.jsx(tx,{children:X.jsx(L2,{})})}));
